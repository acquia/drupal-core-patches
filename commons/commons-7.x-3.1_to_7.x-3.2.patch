diff --git a/profiles/commons/build_distro.sh b/profiles/commons/build_distro.sh
index 714f5ca..801a7b9 100755
--- a/profiles/commons/build_distro.sh
+++ b/profiles/commons/build_distro.sh
@@ -24,6 +24,7 @@ pull_git() {
 
 release_notes() {
   rm -rf rn.txt
+  pull_git $BUILD_PATH
   OUTPUT="<h2>Release Notes for $RELEASE</h2>"
   cd $BUILD_PATH/commons_profile
   OUTPUT="$OUTPUT <h3>Commons Profile:</h3> `drush rn --date $FROM_DATE $TO_DATE`"
@@ -38,6 +39,12 @@ release_notes() {
     fi
     cd ..
   done
+  cd $BUILD_PATH/repos/themes/commons_origins
+  RN=`drush rn --date $FROM_DATE $TO_DATE`
+  if [[ -n $RN ]]; then
+    OUTPUT="$OUTPUT <h3>commons_origins:</h3> $RN"
+  fi
+
   echo $OUTPUT >> $BUILD_PATH/rn.txt
 }
 
diff --git a/profiles/commons/commons.info b/profiles/commons/commons.info
index 2b2d954..a0f73f3 100644
--- a/profiles/commons/commons.info
+++ b/profiles/commons/commons.info
@@ -96,9 +96,9 @@ dependencies[] = commons_location
 dependencies[] = commons_wysiwyg
 dependencies[] = commons_social_sharing
 
-; Information added by drupal.org packaging script on 2013-03-28
-version = "7.x-3.1"
+; Information added by drupal.org packaging script on 2013-04-04
+version = "7.x-3.2"
 core = "7.x"
 project = "commons"
-datestamp = "1364431811"
+datestamp = "1365041413"
 
diff --git a/profiles/commons/drupal-org.make b/profiles/commons/drupal-org.make
index 4236b85..998357c 100644
--- a/profiles/commons/drupal-org.make
+++ b/profiles/commons/drupal-org.make
@@ -49,10 +49,7 @@ projects[ckeditor][patch][] = "http://drupal.org/files/ckeditor-install-lib-1898
 
 projects[ctools][type] = "module"
 projects[ctools][subdir] = "contrib"
-projects[ctools][version] = "1.2"
-
-; http://drupal.org/node/1494860#comment-6204438
-projects[ctools][patch][] = "http://drupal.org/files/ctools-dependent-js-broken-with-jquery-1.7-1494860-30.patch"
+projects[ctools][version] = "1.3"
 
 projects[custom_search][type] = "module"
 projects[custom_search][subdir] = "contrib"
@@ -308,7 +305,7 @@ projects[sharethis][version] = "2.5"
 
 projects[facetapi][type] = "module"
 projects[facetapi][subdir] = "contrib"
-projects[facetapi][version] = "1.2"
+projects[facetapi][version] = "1.3"
 
 projects[rich_snippets][type] = "module"
 projects[rich_snippets][subdir] = "contrib"
diff --git a/profiles/commons/libraries/timeago/jquery.timeago.js b/profiles/commons/libraries/timeago/jquery.timeago.js
index 04a9012..e3731b2 100644
--- a/profiles/commons/libraries/timeago/jquery.timeago.js
+++ b/profiles/commons/libraries/timeago/jquery.timeago.js
@@ -162,7 +162,7 @@
       element.data("timeago", { datetime: $t.datetime(element) });
       var text = $.trim(element.text());
       if ($t.settings.localeTitle) {
-        element.attr("title", element.data('timeago').datetime.toLocaleString())
+        element.attr("title", element.data('timeago').datetime.toLocaleString());
       } else if (text.length > 0 && !($t.isTime(element) && element.attr("title"))) {
         element.attr("title", text);
       }
diff --git a/profiles/commons/modules/contrib/admin_icons/admin_icons.info b/profiles/commons/modules/contrib/admin_icons/admin_icons.info
index 2b0ceb8..849f7bf 100644
--- a/profiles/commons/modules/contrib/admin_icons/admin_icons.info
+++ b/profiles/commons/modules/contrib/admin_icons/admin_icons.info
@@ -4,8 +4,8 @@ core = 7.x
 
 
 
-; Information added by drush on 2013-03-28
+; Information added by drush on 2013-04-04
 version = ""
 project = "admin_icons"
-datestamp = "1364431823"
+datestamp = "1365041466"
 
diff --git a/profiles/commons/modules/contrib/apachesolr_og/apachesolr_og.info b/profiles/commons/modules/contrib/apachesolr_og/apachesolr_og.info
index 67d9b35..9308fe2 100644
--- a/profiles/commons/modules/contrib/apachesolr_og/apachesolr_og.info
+++ b/profiles/commons/modules/contrib/apachesolr_og/apachesolr_og.info
@@ -7,9 +7,9 @@ dependencies[] = apachesolr
 dependencies[] = og
 
 
-; Information added by drush on 2013-03-28
+; Information added by drush on 2013-04-04
 version = "7.x-1.0+2-dev"
 core = "7.x"
 project = "apachesolr_og"
-datestamp = "1364431825"
+datestamp = "1365041483"
 
diff --git a/profiles/commons/modules/contrib/ckeditor/ckeditor.info b/profiles/commons/modules/contrib/ckeditor/ckeditor.info
index 6fd2c22..3b342f8 100644
--- a/profiles/commons/modules/contrib/ckeditor/ckeditor.info
+++ b/profiles/commons/modules/contrib/ckeditor/ckeditor.info
@@ -5,9 +5,9 @@ package     = User interface
 configure   = admin/config/content/ckeditor
 files[]     = includes/ckeditor.user.inc
 
-; Information added by drush on 2013-03-28
+; Information added by drush on 2013-04-04
 version = "7.x-1.12+7-dev"
 core = "7.x"
 project = "ckeditor"
-datestamp = "1364431826"
+datestamp = "1365041517"
 
diff --git a/profiles/commons/modules/contrib/commons_activity_streams/commons_activity_page/commons_activity_page.info b/profiles/commons/modules/contrib/commons_activity_streams/commons_activity_page/commons_activity_page.info
index c5b39e7..1ed5d52 100644
--- a/profiles/commons/modules/contrib/commons_activity_streams/commons_activity_page/commons_activity_page.info
+++ b/profiles/commons/modules/contrib/commons_activity_streams/commons_activity_page/commons_activity_page.info
@@ -12,9 +12,9 @@ dependencies[] = commons_activity_streams
 features[ctools][] = page_manager:pages_default:1
 features[features_api][] = api:1
 features[page_manager_pages][] = commons_activity_streams_activity
-; Information added by drupal.org packaging script on 2013-03-27
-version = "7.x-3.1"
+; Information added by drupal.org packaging script on 2013-04-04
+version = "7.x-3.2"
 core = "7.x"
 project = "commons_activity_streams"
-datestamp = "1364415912"
+datestamp = "1365037816"
 
diff --git a/profiles/commons/modules/contrib/commons_activity_streams/commons_activity_streams.features.inc b/profiles/commons/modules/contrib/commons_activity_streams/commons_activity_streams.features.inc
index c1dc799..b331da6 100644
--- a/profiles/commons/modules/contrib/commons_activity_streams/commons_activity_streams.features.inc
+++ b/profiles/commons/modules/contrib/commons_activity_streams/commons_activity_streams.features.inc
@@ -37,9 +37,9 @@ function commons_activity_streams_default_message_type() {
     "arguments" : null,
     "message_text" : { "und" : [
         {
-          "value" : "[message:user:picture]",
+          "value" : "[message:user:picture:35x35]",
           "format" : "filtered_html",
-          "safe_value" : "[message:user:picture]"
+          "safe_value" : "[message:user:picture:35x35]"
         },
         {
           "value" : "\\u003Ca href=\\u0022[message:user:url:absolute]\\u0022\\u003E[message:user:name]\\u003C\\/a\\u003E commented on \\u003Ca href=\\u0022[message:field-target-nodes:0:url]\\u0022\\u003E[message:field-target-nodes:0:title]\\u003C\\/a\\u003E",
@@ -66,9 +66,9 @@ function commons_activity_streams_default_message_type() {
     "arguments" : null,
     "message_text" : { "und" : [
         {
-          "value" : "[message:user:picture]",
+          "value" : "[message:user:picture:35x35]",
           "format" : "filtered_html",
-          "safe_value" : "[message:user:picture]"
+          "safe_value" : "[message:user:picture:35x35]"
         },
         {
           "value" : "\\u003Ca href=\\u0022[message:user:url:absolute]\\u0022\\u003E[message:user:name]\\u003C\\/a\\u003E created \\u003Ca href=\\u0022[message:field-target-nodes:0:url]\\u0022\\u003E[message:field-target-nodes:0:title]\\u003C\\/a\\u003E",
@@ -95,9 +95,9 @@ function commons_activity_streams_default_message_type() {
     "arguments" : null,
     "message_text" : { "und" : [
         {
-          "value" : "[message:user:picture]",
+          "value" : "[message:user:picture:35x35]",
           "format" : "filtered_html",
-          "safe_value" : "[message:user:picture]"
+          "safe_value" : "[message:user:picture:35x35]"
         },
         {
           "value" : "\\u003Ca href=\\u0022[message:user:url:absolute]\\u0022\\u003E[message:user:name]\\u003C\\/a\\u003E has an updated profile",
diff --git a/profiles/commons/modules/contrib/commons_activity_streams/commons_activity_streams.info b/profiles/commons/modules/contrib/commons_activity_streams/commons_activity_streams.info
index 8888df4..68d9d32 100644
--- a/profiles/commons/modules/contrib/commons_activity_streams/commons_activity_streams.info
+++ b/profiles/commons/modules/contrib/commons_activity_streams/commons_activity_streams.info
@@ -41,9 +41,9 @@ features_exclude[field][message-commons_activity_streams_comment_created-field_t
 features_exclude[field][message-commons_activity_streams_node_created-field_target_nodes] = message-commons_activity_streams_node_created-field_target_nodes
 features_exclude[field][message-commons_activity_streams_user_profile_updated-field_target_users] = message-commons_activity_streams_user_profile_updated-field_target_users
 
-; Information added by drupal.org packaging script on 2013-03-27
-version = "7.x-3.1"
+; Information added by drupal.org packaging script on 2013-04-04
+version = "7.x-3.2"
 core = "7.x"
 project = "commons_activity_streams"
-datestamp = "1364415912"
+datestamp = "1365037816"
 
diff --git a/profiles/commons/modules/contrib/commons_activity_streams/commons_activity_streams.install b/profiles/commons/modules/contrib/commons_activity_streams/commons_activity_streams.install
index a8e8d75..9f38dc8 100644
--- a/profiles/commons/modules/contrib/commons_activity_streams/commons_activity_streams.install
+++ b/profiles/commons/modules/contrib/commons_activity_streams/commons_activity_streams.install
@@ -6,4 +6,15 @@
 function commons_activity_streams_update_3101() {
   features_revert(array('commons_activity_streams' => array('message_type', 'field_instance')));
   return array();
-}
\ No newline at end of file
+}
+
+/**
+ * Set activity stream user pictures to 35x35 image style.
+ */
+function commons_activity_streams_update_3102() {
+  $revert = array(
+    'commons_activity_streams' => array('message_type'),
+  );
+  features_revert($revert);
+  return array();
+}
diff --git a/profiles/commons/modules/contrib/commons_activity_streams/commons_activity_streams.module b/profiles/commons/modules/contrib/commons_activity_streams/commons_activity_streams.module
index 322141b..d0bc8df 100644
--- a/profiles/commons/modules/contrib/commons_activity_streams/commons_activity_streams.module
+++ b/profiles/commons/modules/contrib/commons_activity_streams/commons_activity_streams.module
@@ -196,3 +196,66 @@ function commons_activity_streams_user_profile_submit($form, &$form_state) {
   $wrapper->field_target_users[] = $account;
   $wrapper->save();
 }
+
+/**
+ * Implements hook_token_info().
+ */
+function commons_activity_streams_token_info() {
+  $styles = image_styles();
+  $tokens = array();
+  foreach ($styles as $style_name => $style) {
+    $tokens['picture:' . $style_name] = array(
+      'name' => t('Picture: @st image style', array('@st' => $style_name)),
+      'description' => t('Picture: @st image style', array('@st' => $style_name)),
+    );
+  }
+  return array(
+    'tokens' => array(
+      'user' => $tokens,
+    ),
+  );
+}
+
+/**
+ * Implements hook_tokens().
+ */
+function commons_activity_streams_tokens($type, $tokens, array $data = array(), array $options = array()) {
+  $replacements = array();
+  if ($type == 'user' && isset($data['user'])) {
+    $user = $data['user'];
+    $user_wrapper = entity_metadata_wrapper('user', $user);
+    $alt = $user->name;
+    if (isset($user->field_name_first)) {
+      $alt = $user_wrapper->field_name_first->value();
+      if (isset($user->field_name_last)) {
+        $alt .= " " . $user_wrapper->field_name_last->value();
+      }
+    }
+    $alt = t("@name's picture", array('@name' => $alt));
+    foreach ($tokens as $token => $original) {
+      if (strpos($token, 'picture:') !== FALSE) {
+        list( , $style) = explode(':', $token);
+        $path = variable_get('user_picture_default', '/profiles/commons/images/avatars/user-avatar.png');
+        if (!empty($user->picture)) {
+          $path = image_style_url($style, $user->picture->uri);
+        }
+        $image_variables = array(
+          'path' => $path,
+          'alt' => $alt,
+          'title' => $alt,
+          'class' => array('image-style-none'),
+        );
+        $image = theme('image', $image_variables);
+        $user_path = user_uri($user);
+        $link_options = array(
+          'attributes' => array(
+            'title' => t('View user profile.'),
+          ),
+          'html' => TRUE,
+        );
+        $replacements[$original] = "<div class='user-picture'>" . l($image, $user_path['path'], $link_options) . "</div>";
+      }
+    }
+  }
+  return $replacements;
+}
diff --git a/profiles/commons/modules/contrib/commons_activity_streams/commons_activity_streams_groups/commons_activity_streams_groups.info b/profiles/commons/modules/contrib/commons_activity_streams/commons_activity_streams_groups/commons_activity_streams_groups.info
index 776f6c6..f7c2073 100644
--- a/profiles/commons/modules/contrib/commons_activity_streams/commons_activity_streams_groups/commons_activity_streams_groups.info
+++ b/profiles/commons/modules/contrib/commons_activity_streams/commons_activity_streams_groups/commons_activity_streams_groups.info
@@ -12,9 +12,9 @@ features[ctools][] = views:views_default:3.0
 features[features_api][] = api:1
 features[views_view][] = activity_group
 
-; Information added by drupal.org packaging script on 2013-03-27
-version = "7.x-3.1"
+; Information added by drupal.org packaging script on 2013-04-04
+version = "7.x-3.2"
 core = "7.x"
 project = "commons_activity_streams"
-datestamp = "1364415912"
+datestamp = "1365037816"
 
diff --git a/profiles/commons/modules/contrib/commons_documents/commons_documents.info b/profiles/commons/modules/contrib/commons_documents/commons_documents.info
index bf31844..53d783b 100644
--- a/profiles/commons/modules/contrib/commons_documents/commons_documents.info
+++ b/profiles/commons/modules/contrib/commons_documents/commons_documents.info
@@ -36,9 +36,9 @@ features[variable][] = node_options_document
 features[variable][] = node_preview_document
 features[variable][] = node_submitted_document
 features[views_view][] = commons_bw_documents
-; Information added by drupal.org packaging script on 2013-02-25
-version = "7.x-3.0"
+; Information added by drupal.org packaging script on 2013-04-04
+version = "7.x-3.2"
 core = "7.x"
 project = "commons_documents"
-datestamp = "1361820312"
+datestamp = "1365037212"
 
diff --git a/profiles/commons/modules/contrib/commons_documents/commons_documents.module b/profiles/commons/modules/contrib/commons_documents/commons_documents.module
index 86ce1d5..3376cf9 100644
--- a/profiles/commons/modules/contrib/commons_documents/commons_documents.module
+++ b/profiles/commons/modules/contrib/commons_documents/commons_documents.module
@@ -28,7 +28,7 @@ function commons_documents_views_pre_render(&$view) {
   if ($view->name == 'commons_bw_documents') {
     $group_id = $view->args[0];
     if (og_user_access('node', $group_id, 'create document content') && node_access('create', 'document')) {
-      $view->attachment_before = l('Create a document', 'node/add/document', array('query' => array('og_group_ref' => $group_id)));
+      $view->attachment_before = l(t('Create a document'), 'node/add/document', array('query' => array('og_group_ref' => $group_id)));
     }
   }
 }
diff --git a/profiles/commons/modules/contrib/commons_events/commons_events.info b/profiles/commons/modules/contrib/commons_events/commons_events.info
index 10d049f..5a536aa 100644
--- a/profiles/commons/modules/contrib/commons_events/commons_events.info
+++ b/profiles/commons/modules/contrib/commons_events/commons_events.info
@@ -104,9 +104,9 @@ files[] = commons_events.features.field_instance.inc
 files[] = commons_events.strongarm.inc
 files[] = includes/commons_events.forms.inc
 files[] = includes/commons_events.theme.inc
-; Information added by drupal.org packaging script on 2013-03-27
-version = "7.x-3.1"
+; Information added by drupal.org packaging script on 2013-04-04
+version = "7.x-3.2"
 core = "7.x"
 project = "commons_events"
-datestamp = "1364416515"
+datestamp = "1365037511"
 
diff --git a/profiles/commons/modules/contrib/commons_events/modules/commons_events_pages/commons_events_pages.info b/profiles/commons/modules/contrib/commons_events/modules/commons_events_pages/commons_events_pages.info
index 74d73f2..e69bc3f 100644
--- a/profiles/commons/modules/contrib/commons_events/modules/commons_events_pages/commons_events_pages.info
+++ b/profiles/commons/modules/contrib/commons_events/modules/commons_events_pages/commons_events_pages.info
@@ -15,9 +15,9 @@ features[variable][] = panelizer_defaults_node_event
 files[] = commons_events_pages.features.inc
 files[] = commons_events_pages.strongarm.inc
 
-; Information added by drupal.org packaging script on 2013-03-27
-version = "7.x-3.1"
+; Information added by drupal.org packaging script on 2013-04-04
+version = "7.x-3.2"
 core = "7.x"
 project = "commons_events"
-datestamp = "1364416515"
+datestamp = "1365037511"
 
diff --git a/profiles/commons/modules/contrib/commons_events/modules/commons_events_solr/commons_events_solr.info b/profiles/commons/modules/contrib/commons_events/modules/commons_events_solr/commons_events_solr.info
index f9309fa..c0fea81 100644
--- a/profiles/commons/modules/contrib/commons_events/modules/commons_events_solr/commons_events_solr.info
+++ b/profiles/commons/modules/contrib/commons_events/modules/commons_events_solr/commons_events_solr.info
@@ -21,9 +21,9 @@ features[page_manager_existing_pages][] = solr_events_search
 features[page_manager_handlers][] = pm_existing_pages_solr_events_search_panel_context
 features[variable][] = pm_existing_pages_disabled_solr_events_search
 
-; Information added by drupal.org packaging script on 2013-03-27
-version = "7.x-3.1"
+; Information added by drupal.org packaging script on 2013-04-04
+version = "7.x-3.2"
 core = "7.x"
 project = "commons_events"
-datestamp = "1364416515"
+datestamp = "1365037511"
 
diff --git a/profiles/commons/modules/contrib/commons_polls/commons_polls.info b/profiles/commons/modules/contrib/commons_polls/commons_polls.info
index fa28ac8..c947919 100644
--- a/profiles/commons/modules/contrib/commons_polls/commons_polls.info
+++ b/profiles/commons/modules/contrib/commons_polls/commons_polls.info
@@ -45,9 +45,9 @@ features[variable][] = node_options_poll
 features[variable][] = node_preview_poll
 features[variable][] = node_submitted_poll
 features[views_view][] = commons_bw_polls
-; Information added by drupal.org packaging script on 2013-02-25
-version = "7.x-3.0"
+; Information added by drupal.org packaging script on 2013-04-04
+version = "7.x-3.2"
 core = "7.x"
 project = "commons_polls"
-datestamp = "1361820341"
+datestamp = "1365038717"
 
diff --git a/profiles/commons/modules/contrib/commons_polls/commons_polls.module b/profiles/commons/modules/contrib/commons_polls/commons_polls.module
index 4247edf..06f1e69 100644
--- a/profiles/commons/modules/contrib/commons_polls/commons_polls.module
+++ b/profiles/commons/modules/contrib/commons_polls/commons_polls.module
@@ -26,7 +26,7 @@ function commons_polls_commons_bw_group_widget() {
  */
 function commons_polls_commons_bw_create_all_widget($group) {
   if (og_user_access('node', $group->nid, 'create poll content')) {
-    $link = l('Create a poll','node/add/poll',
+    $link = l(t('Create a poll'),'node/add/poll',
     array('attributes' => array('class' => 'commons-polls-create'), 'query' => array('og_group_ref' => $group->nid))
     );
     return array(
@@ -60,7 +60,7 @@ function commons_polls_views_pre_render(&$view) {
   if ($view->name == 'commons_bw_polls') {
     $group_id = $view->args[0];
     if (og_user_access('node', $group_id, 'create poll content')) {
-      $view->attachment_before = l('Create a poll', 'node/add/poll', array('query' => array('og_group_ref' => $group_id)));
+      $view->attachment_before = l(t('Create a poll'), 'node/add/poll', array('query' => array('og_group_ref' => $group_id)));
     }
   }
 }
diff --git a/profiles/commons/modules/contrib/commons_posts/commons_posts.info b/profiles/commons/modules/contrib/commons_posts/commons_posts.info
index 6d7ff3f..aa41400 100644
--- a/profiles/commons/modules/contrib/commons_posts/commons_posts.info
+++ b/profiles/commons/modules/contrib/commons_posts/commons_posts.info
@@ -44,9 +44,9 @@ features[variable][] = node_options_post
 features[variable][] = node_preview_post
 features[variable][] = node_submitted_post
 features[views_view][] = commons_bw_posts
-; Information added by drupal.org packaging script on 2013-02-25
-version = "7.x-3.0"
+; Information added by drupal.org packaging script on 2013-04-04
+version = "7.x-3.2"
 core = "7.x"
 project = "commons_posts"
-datestamp = "1361820343"
+datestamp = "1365037214"
 
diff --git a/profiles/commons/modules/contrib/commons_posts/commons_posts.module b/profiles/commons/modules/contrib/commons_posts/commons_posts.module
index 99af606..3a330a5 100644
--- a/profiles/commons/modules/contrib/commons_posts/commons_posts.module
+++ b/profiles/commons/modules/contrib/commons_posts/commons_posts.module
@@ -26,7 +26,7 @@ function commons_posts_commons_bw_group_widget() {
  */
 function commons_posts_commons_bw_create_all_widget($group) {
   if (og_user_access('node', $group->nid, 'create post content')) {
-    $link = l('Create a post','node/add/post',
+    $link = l(t('Create a post'),'node/add/post',
     array('attributes' => array('class' => 'commons-posts-create'), 'query' => array('og_group_ref' => $group->nid))
     );
     return array(
@@ -60,7 +60,7 @@ function commons_posts_views_pre_render(&$view) {
   if ($view->name == 'commons_bw_posts') {
     $group_id = $view->args[0];
     if (og_user_access('node', $group_id, 'create post content')) {
-      $view->attachment_before = l('Create a post', 'node/add/post', array('query' => array('og_group_ref' => $group_id)));
+      $view->attachment_before = l(t('Create a post'), 'node/add/post', array('query' => array('og_group_ref' => $group_id)));
     }
   }
 }
diff --git a/profiles/commons/modules/contrib/commons_profile_social/commons_profile_social.info b/profiles/commons/modules/contrib/commons_profile_social/commons_profile_social.info
index 2c12e47..3b1f69d 100644
--- a/profiles/commons/modules/contrib/commons_profile_social/commons_profile_social.info
+++ b/profiles/commons/modules/contrib/commons_profile_social/commons_profile_social.info
@@ -13,9 +13,9 @@ features[field_base][] = field_twitter_url
 features[field_instance][] = user-user-field_facebook_url
 features[field_instance][] = user-user-field_linkedin_url
 features[field_instance][] = user-user-field_twitter_url
-; Information added by drupal.org packaging script on 2013-02-26
-version = "7.x-3.x-dev"
+; Information added by drupal.org packaging script on 2013-04-04
+version = "7.x-3.2"
 core = "7.x"
 project = "commons_profile_social"
-datestamp = "1361839475"
+datestamp = "1365039011"
 
diff --git a/profiles/commons/modules/contrib/commons_q_a/commons_q_a.info b/profiles/commons/modules/contrib/commons_q_a/commons_q_a.info
index 02a9dc0..1812144 100644
--- a/profiles/commons/modules/contrib/commons_q_a/commons_q_a.info
+++ b/profiles/commons/modules/contrib/commons_q_a/commons_q_a.info
@@ -88,9 +88,9 @@ features_exclude[field_instance][node-question-og_group_ref_other_groups] = node
 features_exclude[field_instance][og_group_ref] = og_group_ref
 features_exclude[field_instance][node-answer-og_group_ref] = node-answer-og_group_ref
 features_exclude[field_instance][node-question-og_group_ref] = node-question-og_group_ref
-; Information added by drupal.org packaging script on 2013-03-27
-version = "7.x-3.1"
+; Information added by drupal.org packaging script on 2013-04-04
+version = "7.x-3.2"
 core = "7.x"
 project = "commons_q_a"
-datestamp = "1364416212"
+datestamp = "1365036911"
 
diff --git a/profiles/commons/modules/contrib/commons_q_a/commons_q_a.module b/profiles/commons/modules/contrib/commons_q_a/commons_q_a.module
index 4d75d32..dd606f9 100644
--- a/profiles/commons/modules/contrib/commons_q_a/commons_q_a.module
+++ b/profiles/commons/modules/contrib/commons_q_a/commons_q_a.module
@@ -88,32 +88,53 @@ function commons_q_a_views_pre_render(&$view) {
   if ($view->name == 'commons_question_answers' && !empty($view->args[0])) {
     // If the user has access to post into any of the groups associated
     // with the question, embed a simplified answer node form.
+    global $user;
+
     $question_nid = $view->args[0];
     $question = node_load($question_nid);
-    foreach ($question->og_group_ref[LANGUAGE_NONE] as $key => $value) {
-      if (og_user_access('node', $value['target_id'], 'create answer content')) {
-        module_load_include('inc', 'node', 'node.pages');
-        global $user;
-        $types = node_type_get_types();
-        $node = (object) array('uid' => $user->uid, 'name' => (isset($user->name) ? $user->name : ''), 'type' => 'answer', 'language' => LANGUAGE_NONE);
-        // Prepopulate the Related question field
-        // with Entityreference Prepopulate, which looks strictly at $_GET.
-        $_GET['field_related_question'] = $view->args[0];
-        $answer_form = drupal_get_form('answer_node_form', $node);
-        $answer_form['header'] = array(
-          '#markup' => '<h3 id="answer" name="answer">' . t('Add a new answer') . '</h3>',
-          '#weight' => -10,
-        );
-        // Hide any vertical tabs that might be present.
-        $answer_form['additional_settings']['#access'] = FALSE;
-        // Hide the Related question field.
-        $answer_form['field_related_question']['#access'] = FALSE;
-        // Add the form to the attachment_after part of the view,
-        $view->attachment_after .= drupal_render($answer_form);
-        // We only need to add the form once if the user has access to
-        // post questions into any of the groups associated with the parent.
-        return;
+    $group_ref = array();
+    $answer_access = FALSE;
+    if (!empty($question->og_group_ref[LANGUAGE_NONE])) {
+      foreach ($question->og_group_ref[LANGUAGE_NONE] as $key => $value) {
+        // Check to see the user has access to the group the question is in, only attach to those groups they have permission to post in.
+        if (og_user_access('node', $value['target_id'], 'create answer content')) {
+          $group_ref[] = $value['target_id'];
+          $answer_access = TRUE;
+        }
+      }
+    }
+    // If user belongs to no groups, or no groups are assigned to the Question, check node_access for user.
+    else {
+      if (node_access('create', $question, $user)) {
+        $answer_access = TRUE;
+      }
+    }
+
+    // Check global user access before showing the answer form.
+    if ($answer_access) {
+      module_load_include('inc', 'node', 'node.pages');
+      $types = node_type_get_types();
+      $node = (object) array('uid' => $user->uid, 'name' => (isset($user->name) ? $user->name : ''), 'type' => 'answer', 'language' => LANGUAGE_NONE);
+      // Prepopulate the Related question field
+      // with Entityreference Prepopulate, which looks strictly at $_GET.
+      $_GET['field_related_question'] = $view->args[0];
+      if (!empty($group_ref)) {
+        $_GET['og_group_ref'] = implode(',',$group_ref);
       }
+      $answer_form = drupal_get_form('answer_node_form', $node);
+      $answer_form['header'] = array(
+        '#markup' => '<h3 id="answer" name="answer">' . t('Add a new answer') . '</h3>',
+        '#weight' => -10,
+      );
+      // Hide any vertical tabs that might be present.
+      $answer_form['additional_settings']['#access'] = FALSE;
+      // Hide the Related question field.
+      $answer_form['field_related_question']['#access'] = FALSE;
+      // Add the form to the attachment_after part of the view,
+      $view->attachment_after .= drupal_render($answer_form);
+      // We only need to add the form once if the user has access to
+      // post questions into any of the groups associated with the parent.
+      return;
     }
   }
 }
@@ -177,7 +198,7 @@ function commons_q_a_field_attach_submit($entity_type, &$entity, $form, &$form_s
  */
 function commons_q_a_commons_bw_create_all_widget($group) {
    if (og_user_access('node', $group->nid, 'create question content')) {
-      $link = l('Ask a question','node/add/question',
+      $link = l(t('Ask a question'),'node/add/question',
       array('attributes' => array('class' => 'commons-q-a-create'), 'query' => array('og_group_ref' => $group->nid))
     );
     return array(
diff --git a/profiles/commons/modules/contrib/commons_q_a/modules/commons_q_a_pages/commons_q_a_pages.info b/profiles/commons/modules/contrib/commons_q_a/modules/commons_q_a_pages/commons_q_a_pages.info
index b2c0a2d..034dff0 100644
--- a/profiles/commons/modules/contrib/commons_q_a/modules/commons_q_a_pages/commons_q_a_pages.info
+++ b/profiles/commons/modules/contrib/commons_q_a/modules/commons_q_a_pages/commons_q_a_pages.info
@@ -13,9 +13,9 @@ features[panelizer_defaults][] = node:question:default
 features[variable][] = panelizer_defaults_node_answer
 features[variable][] = panelizer_defaults_node_question
 
-; Information added by drupal.org packaging script on 2013-03-27
-version = "7.x-3.1"
+; Information added by drupal.org packaging script on 2013-04-04
+version = "7.x-3.2"
 core = "7.x"
 project = "commons_q_a"
-datestamp = "1364416212"
+datestamp = "1365036911"
 
diff --git a/profiles/commons/modules/contrib/commons_wikis/commons_wikis.info b/profiles/commons/modules/contrib/commons_wikis/commons_wikis.info
index d0c1530..369b07a 100644
--- a/profiles/commons/modules/contrib/commons_wikis/commons_wikis.info
+++ b/profiles/commons/modules/contrib/commons_wikis/commons_wikis.info
@@ -64,9 +64,9 @@ features[variable][] = show_diff_inline_wiki
 features[variable][] = show_preview_changes_wiki
 features[views_view][] = commons_bw_wikis
 features[views_view][] = commons_wikis_contributor_list
-; Information added by drupal.org packaging script on 2013-03-27
-version = "7.x-3.1"
+; Information added by drupal.org packaging script on 2013-04-04
+version = "7.x-3.2"
 core = "7.x"
 project = "commons_wikis"
-datestamp = "1364416811"
+datestamp = "1365036913"
 
diff --git a/profiles/commons/modules/contrib/commons_wikis/commons_wikis.module b/profiles/commons/modules/contrib/commons_wikis/commons_wikis.module
index 74f8c65..d481dea 100644
--- a/profiles/commons/modules/contrib/commons_wikis/commons_wikis.module
+++ b/profiles/commons/modules/contrib/commons_wikis/commons_wikis.module
@@ -24,7 +24,7 @@ function commons_wikis_module_implements_alter(&$implementations, $hook) {
  */
 function commons_wikis_commons_bw_create_all_widget($group) {
    if (og_user_access('node', $group->nid, 'create wiki content')) {
-      $link = l('Start a wiki','node/add/wiki',
+      $link = l(t('Start a wiki'), 'node/add/wiki',
       array('attributes' => array('class' => 'commons-wikis-create'), 'query' => array('og_group_ref' => $group->nid))
     );
     return array(
@@ -105,7 +105,7 @@ function commons_wikis_views_pre_render(&$view) {
   if ($view->name == 'commons_bw_wikis') {
     $group_id = $view->args[0];
     if (og_user_access('node', $group_id, 'create wiki content') && node_access('create', 'wiki')) {
-      $view->attachment_before = l('Create a wiki', 'node/add/wiki', array('query' => array('og_group_ref' => $group_id)));
+      $view->attachment_before = l(t('Create a wiki'), 'node/add/wiki', array('query' => array('og_group_ref' => $group_id)));
     }
   }
 }
diff --git a/profiles/commons/modules/contrib/commons_wikis/modules/commons_wikis_pages/commons_wikis_pages.info b/profiles/commons/modules/contrib/commons_wikis/modules/commons_wikis_pages/commons_wikis_pages.info
index 75ef22a..2466077 100644
--- a/profiles/commons/modules/contrib/commons_wikis/modules/commons_wikis_pages/commons_wikis_pages.info
+++ b/profiles/commons/modules/contrib/commons_wikis/modules/commons_wikis_pages/commons_wikis_pages.info
@@ -14,9 +14,9 @@ features[features_api][] = api:1
 features[panelizer_defaults][] = node:wiki:default
 features[variable][] = panelizer_defaults_node_wiki
 
-; Information added by drupal.org packaging script on 2013-03-27
-version = "7.x-3.1"
+; Information added by drupal.org packaging script on 2013-04-04
+version = "7.x-3.2"
 core = "7.x"
 project = "commons_wikis"
-datestamp = "1364416811"
+datestamp = "1365036913"
 
diff --git a/profiles/commons/modules/contrib/ctools/API.txt b/profiles/commons/modules/contrib/ctools/API.txt
index 2df7e22..e0441d6 100644
--- a/profiles/commons/modules/contrib/ctools/API.txt
+++ b/profiles/commons/modules/contrib/ctools/API.txt
@@ -1,8 +1,12 @@
-Current API Version: 2.0.5
+Current API Version: 2.0.8
 
 Please note that the API version is an internal number and does not match release numbers. It is entirely possible that releases will not increase the API version number, and increasing this number too often would burden contrib module maintainers who need to keep up with API changes.
 
 This file contains a log of changes to the API.
+API Version 2.0.8
+  Introduce ctools_class_add().
+  Introduce ctools_class_remove().
+
 API Version 2.0.7
   All ctools object cache database functions can now accept session_id as an optional
   argument to facilitate using non-session id keys.
diff --git a/profiles/commons/modules/contrib/ctools/bulk_export/bulk_export.info b/profiles/commons/modules/contrib/ctools/bulk_export/bulk_export.info
index 6f57712..d27ea9a 100644
--- a/profiles/commons/modules/contrib/ctools/bulk_export/bulk_export.info
+++ b/profiles/commons/modules/contrib/ctools/bulk_export/bulk_export.info
@@ -4,9 +4,9 @@ core = 7.x
 dependencies[] = ctools
 package = Chaos tool suite
 
-; Information added by drupal.org packaging script on 2012-08-18
-version = "7.x-1.2"
+; Information added by drupal.org packaging script on 2013-04-03
+version = "7.x-1.3"
 core = "7.x"
 project = "ctools"
-datestamp = "1345319204"
+datestamp = "1365013512"
 
diff --git a/profiles/commons/modules/contrib/ctools/css/button.css b/profiles/commons/modules/contrib/ctools/css/button.css
index 91a6044..15e484b 100644
--- a/profiles/commons/modules/contrib/ctools/css/button.css
+++ b/profiles/commons/modules/contrib/ctools/css/button.css
@@ -1,4 +1,3 @@
-/* $Id$ */
 
 .ctools-button-processed {
   border-style: solid;
@@ -29,4 +28,4 @@
 .ctools-button li a {
   padding-left: 12px;
   padding-right: 12px;
-}
\ No newline at end of file
+}
diff --git a/profiles/commons/modules/contrib/ctools/css/dropbutton.css b/profiles/commons/modules/contrib/ctools/css/dropbutton.css
index 7825111..5e3ea24 100644
--- a/profiles/commons/modules/contrib/ctools/css/dropbutton.css
+++ b/profiles/commons/modules/contrib/ctools/css/dropbutton.css
@@ -1,4 +1,3 @@
-/* $Id$ */
 
 .ctools-dropbutton-processed {
   padding-right: 18px;
diff --git a/profiles/commons/modules/contrib/ctools/ctools.api.php b/profiles/commons/modules/contrib/ctools/ctools.api.php
index 1aef57c..a7ab783 100644
--- a/profiles/commons/modules/contrib/ctools/ctools.api.php
+++ b/profiles/commons/modules/contrib/ctools/ctools.api.php
@@ -203,5 +203,66 @@ function hook_ctools_content_subtype_alter($subtype, $plugin) {
 }
 
 /**
+ * Alter the definition of an entity context plugin.
+ *
+ * @param array $plugin
+ *   An associative array defining a plugin.
+ * @param array $entity
+ *   The entity info array of a specific entity type.
+ * @param string $plugin_id
+ *   The plugin ID, in the format NAME:KEY.
+ */
+function hook_ctools_entity_context_alter(&$plugin, &$entity, $plugin_id) {
+  ctools_include('context');
+  switch ($plugin_id) {
+    case 'entity_id:taxonomy_term':
+      $plugin['no ui'] = TRUE;
+    case 'entity:user':
+      $plugin = ctools_get_context('user');
+      unset($plugin['no ui']);
+      unset($plugin['no required context ui']);
+      break;
+  }
+}
+
+/**
+ * Alter the definition of entity context plugins.
+ *
+ * @param array $plugins
+ *   An associative array of plugin definitions, keyed by plugin ID.
+ *
+ * @see hook_ctools_entity_context_alter()
+ */
+function hook_ctools_entity_contexts_alter(&$plugins) {
+  $plugins['entity_id:taxonomy_term']['no ui'] = TRUE;
+}
+
+/**
+ * Change cleanstring settings.
+ *
+ * @param array $settings
+ *   An associative array of cleanstring settings.
+ *
+ * @see ctools_cleanstring()
+ */
+function hook_ctools_cleanstring_alter(&$settings) {
+  // Convert all strings to lower case.
+  $settings['lower case'] = TRUE;
+}
+
+/**
+ * Change cleanstring settings for a specific clean ID.
+ *
+ * @param array $settings
+ *   An associative array of cleanstring settings.
+ *
+ * @see ctools_cleanstring()
+ */
+function hook_ctools_cleanstring_CLEAN_ID_alter(&$settings) {
+  // Convert all strings to lower case.
+  $settings['lower case'] = TRUE;
+}
+
+/**
  * @} End of "addtogroup hooks".
  */
diff --git a/profiles/commons/modules/contrib/ctools/ctools.info b/profiles/commons/modules/contrib/ctools/ctools.info
index c3e56fb..8a7b0b6 100644
--- a/profiles/commons/modules/contrib/ctools/ctools.info
+++ b/profiles/commons/modules/contrib/ctools/ctools.info
@@ -6,9 +6,9 @@ files[] = includes/context.inc
 files[] = includes/math-expr.inc
 files[] = includes/stylizer.inc
 
-; Information added by drupal.org packaging script on 2012-08-18
-version = "7.x-1.2"
+; Information added by drupal.org packaging script on 2013-04-03
+version = "7.x-1.3"
 core = "7.x"
 project = "ctools"
-datestamp = "1345319204"
+datestamp = "1365013512"
 
diff --git a/profiles/commons/modules/contrib/ctools/ctools.install b/profiles/commons/modules/contrib/ctools/ctools.install
index 4a6f55c..1f961f1 100644
--- a/profiles/commons/modules/contrib/ctools/ctools.install
+++ b/profiles/commons/modules/contrib/ctools/ctools.install
@@ -26,7 +26,7 @@ function ctools_requirements($phase) {
     }
 
     if (!function_exists('error_get_last')) {
-  	  $requirements['ctools_php_52']['title'] = t('CTools PHP requirements');
+      $requirements['ctools_php_52']['title'] = t('CTools PHP requirements');
       $requirements['ctools_php_52']['description'] = t('CTools requires certain features only available in PHP 5.2.0 or higher.');
       $requirements['ctools_php_52']['severity'] = REQUIREMENT_WARNING;
       $requirements['ctools_php_52']['value'] = t('PHP !version', array('!version' => phpversion()));
@@ -52,6 +52,14 @@ function ctools_schema_2() {
   // update the 'name' field to be 128 bytes long:
   $schema['ctools_object_cache']['fields']['name']['length'] = 128;
 
+  // Update the 'data' field to be type 'blob'.
+  $schema['ctools_object_cache']['fields']['data'] = array(
+    'type' => 'blob',
+    'size' => 'big',
+    'description' => 'Serialized data being stored.',
+    'serialize' => TRUE,
+  );
+
   // DO NOT MODIFY THIS TABLE -- this definition is used to create the table.
   // Changes to this table must be made in schema_3 or higher.
   $schema['ctools_css_cache'] = array(
@@ -194,4 +202,18 @@ function ctools_update_6007() {
   return $ret;
 }
 
-
+/**
+ * ctools_object_cache needs to be defined as a blob.
+ */
+function ctools_update_6008() {
+  db_delete('ctools_object_cache')
+    ->execute();
+
+  db_change_field('ctools_object_cache', 'data', 'data', array(
+      'type' => 'blob',
+      'size' => 'big',
+      'description' => 'Serialized data being stored.',
+      'serialize' => TRUE,
+    )
+  );
+}
diff --git a/profiles/commons/modules/contrib/ctools/ctools.module b/profiles/commons/modules/contrib/ctools/ctools.module
index 7dfc989..f014e74 100644
--- a/profiles/commons/modules/contrib/ctools/ctools.module
+++ b/profiles/commons/modules/contrib/ctools/ctools.module
@@ -367,6 +367,52 @@ function ctools_set_no_blocks($blocks = FALSE) {
   $status = $blocks;
 }
 
+/**
+ * Add an array of classes to the body.
+ *
+ * @param mixed $classes
+ *   A string or an array of class strings to add.
+ * @param string $hook
+ *   The theme hook to add the class to. The default is 'html' which will
+ *   affect the body tag.
+ */
+function ctools_class_add($classes, $hook = 'html') {
+  if (!is_array($classes)) {
+    $classes = array($classes);
+  }
+
+  $static = &drupal_static('ctools_process_classes', array());
+  if (!isset($static[$hook]['add'])) {
+    $static[$hook]['add'] = array();
+  }
+  foreach ($classes as $class) {
+    $static[$hook]['add'][] = $class;
+  }
+}
+
+/**
+ * Remove an array of classes from the body.
+ *
+ * @param mixed $classes
+ *   A string or an array of class strings to remove.
+ * @param string $hook
+ *   The theme hook to remove the class from. The default is 'html' which will
+ *   affect the body tag.
+ */
+function ctools_class_remove($classes, $hook = 'html') {
+  if (!is_array($classes)) {
+    $classes = array($classes);
+  }
+
+  $static = &drupal_static('ctools_process_classes', array());
+  if (!isset($static[$hook]['remove'])) {
+    $static[$hook]['remove'] = array();
+  }
+  foreach ($classes as $class) {
+    $static[$hook]['remove'][] = $class;
+  }
+}
+
 // -----------------------------------------------------------------------
 // Drupal core hooks
 
@@ -574,6 +620,36 @@ function ctools_page_token_processing($children, $elements) {
   return $children;
 }
 
+/**
+ * Implements hook_process().
+ *
+ * Add and remove CSS classes from the variables array. We use process so that
+ * we alter anything added in the preprocess hooks.
+ */
+function ctools_process(&$variables, $hook) {
+  if (!isset($variables['classes'])) {
+    return;
+  }
+
+  $classes = drupal_static('ctools_process_classes', array());
+
+  // Process the classses to add.
+  if (!empty($classes[$hook]['add'])) {
+    $add_classes = array_map('drupal_clean_css_identifier', $classes[$hook]['add']);
+    $variables['classes_array'] = array_unique(array_merge($variables['classes_array'], $add_classes));
+  }
+
+  // Process the classes to remove.
+  if (!empty($classes[$hook]['remove'])) {
+    $remove_classes = array_map('drupal_clean_css_identifier', $classes[$hook]['remove']);
+    $variables['classes_array'] = array_diff($variables['classes_array'], $remove_classes);
+  }
+
+  // Since this runs after template_process(), we need to re-implode the
+  // classes array.
+  $variables['classes'] = implode(' ', $variables['classes_array']);
+}
+
 // -----------------------------------------------------------------------
 // Menu callbacks that must be in the .module file.
 
@@ -699,22 +775,6 @@ function ctools_export_ui_task_access($plugin_name, $op, $item = NULL) {
 }
 
 /**
- * Cache callback on behalf of ctools_export_ui.
- */
-function ctools_export_ui_context_cache_get($plugin_name, $key) {
-  dsm('should not be called!');
-  return;
-}
-
-/**
- * Cache callback on behalf of ctools_export_ui.
- */
-function ctools_export_ui_context_cache_set($plugin_name, $key, $item) {
-  dsm('should not be called!');
-  return;
-}
-
-/**
  * Callback for access control ajax form on behalf of export ui.
  *
  * Returns the cached access config and contexts used.
@@ -815,6 +875,9 @@ function ctools_ajax_theme_callback() {
   }
 }
 
+/**
+ * Implements hook_ctools_entity_context_alter().
+ */
 function ctools_ctools_entity_context_alter(&$plugin, &$entity, $plugin_id) {
   ctools_include('context');
   switch ($plugin_id) {
diff --git a/profiles/commons/modules/contrib/ctools/ctools_access_ruleset/ctools_access_ruleset.info b/profiles/commons/modules/contrib/ctools/ctools_access_ruleset/ctools_access_ruleset.info
index 04c92c3..1019253 100644
--- a/profiles/commons/modules/contrib/ctools/ctools_access_ruleset/ctools_access_ruleset.info
+++ b/profiles/commons/modules/contrib/ctools/ctools_access_ruleset/ctools_access_ruleset.info
@@ -4,9 +4,9 @@ core = 7.x
 package = Chaos tool suite
 dependencies[] = ctools
 
-; Information added by drupal.org packaging script on 2012-08-18
-version = "7.x-1.2"
+; Information added by drupal.org packaging script on 2013-04-03
+version = "7.x-1.3"
 core = "7.x"
 project = "ctools"
-datestamp = "1345319204"
+datestamp = "1365013512"
 
diff --git a/profiles/commons/modules/contrib/ctools/ctools_access_ruleset/ctools_access_ruleset.install b/profiles/commons/modules/contrib/ctools/ctools_access_ruleset/ctools_access_ruleset.install
index b1613d8..3f00877 100644
--- a/profiles/commons/modules/contrib/ctools/ctools_access_ruleset/ctools_access_ruleset.install
+++ b/profiles/commons/modules/contrib/ctools/ctools_access_ruleset/ctools_access_ruleset.install
@@ -17,7 +17,7 @@ function ctools_access_ruleset_schema_1() {
       'bulk export' => TRUE,
       'primary key' => 'rsid',
       'api' => array(
-        'owner' => 'ctools',
+        'owner' => 'ctools_access_ruleset',
         'api' => 'ctools_rulesets',
         'minimum_version' => 1,
         'current_version' => 1,
diff --git a/profiles/commons/modules/contrib/ctools/ctools_ajax_sample/ctools_ajax_sample.info b/profiles/commons/modules/contrib/ctools/ctools_ajax_sample/ctools_ajax_sample.info
index bbf708c..03ccb34 100644
--- a/profiles/commons/modules/contrib/ctools/ctools_ajax_sample/ctools_ajax_sample.info
+++ b/profiles/commons/modules/contrib/ctools/ctools_ajax_sample/ctools_ajax_sample.info
@@ -4,9 +4,9 @@ package = Chaos tool suite
 dependencies[] = ctools
 core = 7.x
 
-; Information added by drupal.org packaging script on 2012-08-18
-version = "7.x-1.2"
+; Information added by drupal.org packaging script on 2013-04-03
+version = "7.x-1.3"
 core = "7.x"
 project = "ctools"
-datestamp = "1345319204"
+datestamp = "1365013512"
 
diff --git a/profiles/commons/modules/contrib/ctools/ctools_custom_content/ctools_custom_content.info b/profiles/commons/modules/contrib/ctools/ctools_custom_content/ctools_custom_content.info
index b56e3be..d9c4567 100644
--- a/profiles/commons/modules/contrib/ctools/ctools_custom_content/ctools_custom_content.info
+++ b/profiles/commons/modules/contrib/ctools/ctools_custom_content/ctools_custom_content.info
@@ -4,9 +4,9 @@ core = 7.x
 package = Chaos tool suite
 dependencies[] = ctools
 
-; Information added by drupal.org packaging script on 2012-08-18
-version = "7.x-1.2"
+; Information added by drupal.org packaging script on 2013-04-03
+version = "7.x-1.3"
 core = "7.x"
 project = "ctools"
-datestamp = "1345319204"
+datestamp = "1365013512"
 
diff --git a/profiles/commons/modules/contrib/ctools/ctools_plugin_example/ctools_plugin_example.info b/profiles/commons/modules/contrib/ctools/ctools_plugin_example/ctools_plugin_example.info
index c9f12e7..e4fa534 100644
--- a/profiles/commons/modules/contrib/ctools/ctools_plugin_example/ctools_plugin_example.info
+++ b/profiles/commons/modules/contrib/ctools/ctools_plugin_example/ctools_plugin_example.info
@@ -7,9 +7,9 @@ dependencies[] = page_manager
 dependencies[] = advanced_help
 core = 7.x
 
-; Information added by drupal.org packaging script on 2012-08-18
-version = "7.x-1.2"
+; Information added by drupal.org packaging script on 2013-04-03
+version = "7.x-1.3"
 core = "7.x"
 project = "ctools"
-datestamp = "1345319204"
+datestamp = "1365013512"
 
diff --git a/profiles/commons/modules/contrib/ctools/ctools_plugin_example/ctools_plugin_example.module b/profiles/commons/modules/contrib/ctools/ctools_plugin_example/ctools_plugin_example.module
index 442969d..01d5338 100644
--- a/profiles/commons/modules/contrib/ctools/ctools_plugin_example/ctools_plugin_example.module
+++ b/profiles/commons/modules/contrib/ctools/ctools_plugin_example/ctools_plugin_example.module
@@ -85,8 +85,8 @@ function ctools_plugin_example_explanation_page() {
     You can find it in %path.',
     array(
       '@demo_url' => url('ctools_plugin_example/xxxxx'),
-      '!ctools_plugin_example_help' => theme('advanced_help_topic', 'ctools_plugin_example', 'Chaos-Tools--CTools--Plugin-Examples', 'title'),
-      '!ctools_help' => theme('advanced_help_topic', 'ctools', 'plugins', 'title'),
+      '!ctools_plugin_example_help' => theme('advanced_help_topic', array('module' => 'ctools_plugin_example', 'topic' => 'Chaos-Tools--CTools--Plugin-Examples', 'type' => 'title')),
+      '!ctools_help' => theme('advanced_help_topic', array('module' => 'ctools', 'topic' => 'plugins', 'type' => 'title')),
       '%path' => drupal_get_path('module', 'ctools_plugin_example'),
     )) . '</p>';
 
diff --git a/profiles/commons/modules/contrib/ctools/ctools_plugin_example/plugins/content_types/no_context_content_type.inc b/profiles/commons/modules/contrib/ctools/ctools_plugin_example/plugins/content_types/no_context_content_type.inc
index 8b73408..3c02ab8 100644
--- a/profiles/commons/modules/contrib/ctools/ctools_plugin_example/plugins/content_types/no_context_content_type.inc
+++ b/profiles/commons/modules/contrib/ctools/ctools_plugin_example/plugins/content_types/no_context_content_type.inc
@@ -53,8 +53,8 @@ $plugin = array(
 function no_context_content_type_render($subtype, $conf, $args, $context) {
   $block = new stdClass();
 
-  $ctools_help = theme('advanced_help_topic', 'ctools', 'plugins', 'title');
-  $ctools_plugin_example_help = theme('advanced_help_topic', 'ctools_plugin_example', 'Chaos-Tools--CTools--Plugin-Examples', 'title');
+  $ctools_help = theme('advanced_help_topic', array('module' => 'ctools', 'topic' => 'plugins', 'type' => 'title'));
+  $ctools_plugin_example_help = theme('advanced_help_topic', array('module' => 'ctools_plugin_example', 'topic' => 'Chaos-Tools--CTools--Plugin-Examples', 'type' => 'title'));
 
   // The title actually used in rendering
   $block->title = check_plain("No-context content type");
diff --git a/profiles/commons/modules/contrib/ctools/drush/ctools.drush.inc b/profiles/commons/modules/contrib/ctools/drush/ctools.drush.inc
index bf1df1f..1862dbe 100644
--- a/profiles/commons/modules/contrib/ctools/drush/ctools.drush.inc
+++ b/profiles/commons/modules/contrib/ctools/drush/ctools.drush.inc
@@ -381,6 +381,7 @@ function ctools_drush_export_info() {
 
   // Get info on these tables, or all tables if none specified.
   $info = _ctools_drush_export_info($table_names, $load);
+  $schemas = $info['schemas'];
   $exportables = $info['exportables'];
 
   if (empty($exportables)) {
@@ -416,11 +417,12 @@ function ctools_drush_export_info() {
   }
   // Build a tabular output as default.
   else {
-    $header = $tables_only ? array() : array(dt('Base table'), dt('Exportables'));
+    $header = $tables_only ? array() : array(dt('Module'), dt('Base table'), dt('Exportables'));
     $rows = array();
     foreach ($exportables as $table => $info) {
       if (is_array($info)) {
         $row = array(
+          $schemas[$table]['module'],
           $table,
           // Machine name is better for this?
           shellColours::getColouredOutput(implode("\n", array_keys($info)), 'light_green') . "\n",
@@ -434,7 +436,7 @@ function ctools_drush_export_info() {
     if (!empty($rows)) {
       drush_print("\n");
       array_unshift($rows, $header);
-      drush_print_table($rows, TRUE, array(20));
+      drush_print_table($rows, TRUE, array(20, 20));
       drush_print(dt('Total exportables found: !total', array('!total' => $exportable_counts['total'])));
       foreach ($exportable_counts['exportables'] as $table_name => $count) {
         drush_print(dt('!table_name (!count)', array('!table_name' => $table_name, '!count' => $count)), 2);
diff --git a/profiles/commons/modules/contrib/ctools/help/plugins-implementing.html b/profiles/commons/modules/contrib/ctools/help/plugins-implementing.html
index 070f08d..c95e72d 100644
--- a/profiles/commons/modules/contrib/ctools/help/plugins-implementing.html
+++ b/profiles/commons/modules/contrib/ctools/help/plugins-implementing.html
@@ -1,6 +1,7 @@
-<p>To implement plugins, you need to implement a single hook in your module to tell the system where your plugins live, and then you need to implement one or more .inc files that contain the plugin data.</p>
+<p>There are two parts to implementing a plugin: telling the system where it is, and implementing one or more .inc files that contain the plugin data.</p>
 
-<h2>Telling it where your plugins live</h2>
+<h2>Telling the system where your plugins live</h2>
+<h3>How a module implements plugins</h3>
 <p>To implement any plugins at all, you must implement a single function for all plugins: <strong>hook_ctools_plugin_directory</strong>. Every time a module loads plugins, this hook will be called to see which modules implement those plugins and in what directory those plugins will live.</p>
 
 <pre>
@@ -30,13 +31,13 @@ plugins/
         my_content_type.inc
     layouts/
         my_layout.inc
-        my_laout.css
+        my_layout.css
         my_layout.tpl.php
         my_layout_image.png
 </pre>
 
-<h2>How a theme can implement plugins</h2>
-<p>Themes can implement plugins if the plugin owner specified that it's possible in its hook_ctools_api_TYPE() call. If so, it is generally exactly the same as modules, except for one important difference: themes don't get hook_ctools_plugin_directory(). Instead, themes add a line to their info file:</p>
+<h3>How a theme implements plugins</h3>
+<p>Themes can implement plugins if the plugin owner specified that it's possible in its hook_ctools_plugin_type() call. If so, it is generally exactly the same as modules, except for one important difference: themes don't get hook_ctools_plugin_directory(). Instead, themes add a line to their .info file:</p>
 
 <pre>
 plugins[module][type] = directory
@@ -54,7 +55,7 @@ $plugin = array(
 );
 </pre>
 
-<p>Several values will be filled in for you automatically, but you can override them if necessary. They include 'name', 'path', 'file' and 'module'. Additionally, the plugin can owner can provide other defaults as well.</p>
+<p>Several values will be filled in for you automatically, but you can override them if necessary. They include 'name', 'path', 'file' and 'module'. Additionally, the plugin owner can provide other defaults as well.</p>
 
 <p>There are no required keys by the plugin system itself. The only requirements in the $plugin array will be defined by the plugin type.</p>
 
diff --git a/profiles/commons/modules/contrib/ctools/help/plugins.html b/profiles/commons/modules/contrib/ctools/help/plugins.html
index b948411..1e64da0 100644
--- a/profiles/commons/modules/contrib/ctools/help/plugins.html
+++ b/profiles/commons/modules/contrib/ctools/help/plugins.html
@@ -1,5 +1,5 @@
 <p>The plugins tool allows a module to allow <b>other</b> modules (and themes!) to provide plugins which provide some kind of functionality or some kind of task. For example, in Panels there are several types of plugins: Content types (which are like blocks), layouts (which are page layouts) and styles (which can be used to style a panel). Each plugin is represented by a .inc file, and the functionality they offer can differ wildly.</p>
 
-<p>A module which uses plugins can implement a hook describing the plugin (which is not necessary, as defaults will be filled in) and then calls a ctools function which loads either all the known plugins (used for listing/choosing) or loads a specific plugin (used when its known which plugin is needed). From the perspective of the plugin system, a plugin is a packet of data, usually some printable info and a list of callbacks. It is up to the module implementing plugins to determine what that info means and what the callbacks do.</p>
+<p>A module which uses plugins can implement a hook describing the plugin (which is not necessary, as defaults will be filled in) and then calls a ctools function which loads either all the known plugins (used for listing/choosing) or a specific plugin (used when it's known which plugin is needed). From the perspective of the plugin system, a plugin is a packet of data, usually some printable info and a list of callbacks. It is up to the module implementing plugins to determine what that info means and what the callbacks do.</p>
 
-<p>A module which implements plugins must first implement the <strong>hook_ctools_plugin_directory</strong> function, which simply tells the system which plugins are supported and what directory to look in. Each plugin will then be in a .inc file in the directory supplied. The .inc file will contain a specially named hook which returns the data necessary to implement the plugin.</p>
\ No newline at end of file
+<p>A module which implements plugins must first implement the <strong>hook_ctools_plugin_directory</strong> function, which simply tells the system which plugins are supported and what directory to look in. Each plugin will then be in a separate .inc file in the directory supplied. The .inc file will contain a specially named hook which returns the data necessary to implement the plugin.</p>
diff --git a/profiles/commons/modules/contrib/ctools/includes/action-links.theme.inc b/profiles/commons/modules/contrib/ctools/includes/action-links.theme.inc
new file mode 100644
index 0000000..3a2398a
--- /dev/null
+++ b/profiles/commons/modules/contrib/ctools/includes/action-links.theme.inc
@@ -0,0 +1,33 @@
+<?php
+/**
+ * @file
+ * Theme function for wrapping menu local actions.
+ */
+
+/**
+ * Delegated implementation of hook_theme()
+ */
+function ctools_action_links_theme(&$items) {
+  $items['ctools_menu_local_actions_wrapper'] = array(
+    'render element' => 'links',
+    'file' => 'includes/action-links.theme.inc',
+  );
+}
+
+/**
+ * Render a menu local actions wrapper.
+ *
+ * @param $links
+ *   Local actions links.
+ * @param $attributes
+ *   An array of attributes to append to the wrapper.
+ */
+function theme_ctools_menu_local_actions_wrapper($variables) {
+  $links = drupal_render($variables['links']);
+
+  if (empty($links)) {
+    return;
+  }
+
+  return '<ul class="action-links">' . $links . '</ul>';
+}
\ No newline at end of file
diff --git a/profiles/commons/modules/contrib/ctools/includes/content.menu.inc b/profiles/commons/modules/contrib/ctools/includes/content.menu.inc
index 11a686a..93884fc 100644
--- a/profiles/commons/modules/contrib/ctools/includes/content.menu.inc
+++ b/profiles/commons/modules/contrib/ctools/includes/content.menu.inc
@@ -50,6 +50,21 @@ function ctools_content_autocomplete_entity($type, $string = '') {
 
     $matches = array();
     if ($type == 'node') {
+      if (!user_access('bypass node access')) {
+        // If the user is able to view their own unpublished nodes, allow them
+        // to see these in addition to published nodes.
+        if (user_access('view own unpublished content')) {
+          $query->condition(db_or()
+            ->condition('b.status', NODE_PUBLISHED)
+            ->condition('b.uid', $GLOBALS['user']->uid)
+          );
+        }
+        else {
+          // If not, restrict the query to published nodes.
+          $query->condition('b.status', NODE_PUBLISHED);
+        }
+      }
+
       $query->addTag('node_access');
       $query->join('users', 'u', 'b.uid = u.uid');
       $query->addField('u', 'name', 'name');
diff --git a/profiles/commons/modules/contrib/ctools/includes/content.plugin-type.inc b/profiles/commons/modules/contrib/ctools/includes/content.plugin-type.inc
index 4c767ae..a0debc3 100644
--- a/profiles/commons/modules/contrib/ctools/includes/content.plugin-type.inc
+++ b/profiles/commons/modules/contrib/ctools/includes/content.plugin-type.inc
@@ -10,7 +10,7 @@ function ctools_content_plugin_type(&$items) {
     'cache' => FALSE,
     'process' => array(
       'function' => 'ctools_content_process',
-      'file' => 'export-ui.inc',
+      'file' => 'content.inc',
       'path' => drupal_get_path('module', 'ctools') . '/includes',
     ),
   );
diff --git a/profiles/commons/modules/contrib/ctools/includes/context-task-handler.inc b/profiles/commons/modules/contrib/ctools/includes/context-task-handler.inc
index 617f20e..37aa6df 100644
--- a/profiles/commons/modules/contrib/ctools/includes/context-task-handler.inc
+++ b/profiles/commons/modules/contrib/ctools/includes/context-task-handler.inc
@@ -143,6 +143,10 @@ function ctools_context_handler_render_handler($task, $subtask, $handler, $conte
         return MENU_ACCESS_DENIED;
       case 404:
         return MENU_NOT_FOUND;
+      case 410:
+        drupal_add_http_header('Status', '410 Gone');
+        drupal_exit();
+        break;
       case 301:
       case 302:
       case 303:
@@ -451,7 +455,7 @@ function ctools_context_handler_edit_criteria($form, &$form_state) {
   ctools_include('ajax');
   ctools_modal_add_plugin_js(ctools_get_access_plugins());
   ctools_include('context-access-admin');
-  $form_state['module'] = 'page_manager_task_handler';
+  $form_state['module'] = (isset($form_state['module'])) ? $form_state['module'] : 'page_manager_task_handler';
   // Encode a bunch of info into the argument so we can get our cache later
   $form_state['callback argument'] = $form_state['task_name'] . '*' . $form_state['handler']->name;
   $form_state['access'] = $form_state['handler']->conf['access'];
diff --git a/profiles/commons/modules/contrib/ctools/includes/context.inc b/profiles/commons/modules/contrib/ctools/includes/context.inc
index 5c7a4ce..93be748 100644
--- a/profiles/commons/modules/contrib/ctools/includes/context.inc
+++ b/profiles/commons/modules/contrib/ctools/includes/context.inc
@@ -508,6 +508,17 @@ function ctools_context_get_all_converters() {
 
 /**
  * Let the context convert an argument based upon the converter that was given.
+ *
+ * @param $context
+ *   The context object
+ * @param $converter
+ *   The converter to use, which should be a string provided by the converter list.
+ * @param $converter_options
+ *   A n array of options to pass on to the generation function. For contexts
+ *   that use token module, of particular use is 'sanitize' => FALSE which can
+ *   get raw tokens. This should ONLY be used in values that will later be
+ *   treated as unsafe user input since these values are by themselves unsafe.
+ *   It is particularly useful to get raw values from Field API.
  */
 function ctools_context_convert_context($context, $converter, $converter_options = array()) {
   // Contexts without plugins might be optional placeholders.
@@ -633,7 +644,7 @@ function ctools_context_keyword_substitute($string, $keywords, $contexts, $conve
 
   // Look for context matches we we only have to convert known matches.
   $matches = array();
-  if (preg_match_all('/%(%|[a-zA-Z0-9_-]+(?:\:[a-zA-Z0-9_-]+)?)/us', $string, $matches)) {
+  if (preg_match_all('/%(%|[a-zA-Z0-9_-]+(?:\:[a-zA-Z0-9_-]+)*)/us', $string, $matches)) {
     foreach ($matches[1] as $keyword) {
       // Ignore anything it finds with %%.
       if ($keyword[0] == '%') {
diff --git a/profiles/commons/modules/contrib/ctools/includes/dropbutton.theme.inc b/profiles/commons/modules/contrib/ctools/includes/dropbutton.theme.inc
index 0848666..fcdd5a3 100644
--- a/profiles/commons/modules/contrib/ctools/includes/dropbutton.theme.inc
+++ b/profiles/commons/modules/contrib/ctools/includes/dropbutton.theme.inc
@@ -1,10 +1,11 @@
 <?php
-// $Id$
 
 /**
  * @file
  * Provide a javascript based dropbutton menu.
  *
+ * An example are the edit/disable/delete links on the views listing page.
+ *
  * The dropbutton menu will show up as a button with a clickable twisty pointer
  * to the right. When clicked the button will expand, showing the list of links.
  *
diff --git a/profiles/commons/modules/contrib/ctools/includes/dropdown.theme.inc b/profiles/commons/modules/contrib/ctools/includes/dropdown.theme.inc
index 2e21559..7e748f5 100644
--- a/profiles/commons/modules/contrib/ctools/includes/dropdown.theme.inc
+++ b/profiles/commons/modules/contrib/ctools/includes/dropdown.theme.inc
@@ -4,6 +4,9 @@
  * @file
  * Provide a javascript based dropdown menu.
  *
+ * An example are the dropdown settings in the panels ui, like for adding
+ * new panes.
+ *
  * The dropdown menu will show up as a clickable link; when clicked,
  * a small menu will slide down beneath it, showing the list of links.
  *
diff --git a/profiles/commons/modules/contrib/ctools/includes/fields.inc b/profiles/commons/modules/contrib/ctools/includes/fields.inc
index dcd6139..162262c 100644
--- a/profiles/commons/modules/contrib/ctools/includes/fields.inc
+++ b/profiles/commons/modules/contrib/ctools/includes/fields.inc
@@ -170,6 +170,8 @@ function ctools_field_label($field_name) {
  *
  * @param $field_name
  *   Either a field instance object or the name of the field.
+ *   If the 'field' key is populated it will be used as the field
+ *   settings.
  * @param $op
  *   Possible operations include:
  *   - form
@@ -222,6 +224,7 @@ function ctools_field_label($field_name) {
 function ctools_field_invoke_field($field_name, $op, $entity_type, $entity, &$a = NULL, &$b = NULL, $options = array()) {
   if (is_array($field_name)) {
     $instance = $field_name;
+    $field = empty($field_name['field']) ? field_info_field($instance['field_name']) : $field_name['field'];
     $field_name = $instance['field_name'];
   }
   else {
@@ -245,7 +248,6 @@ function ctools_field_invoke_field($field_name, $op, $entity_type, $entity, &$a
 
   // Everything from here is unmodified code from _field_invoke() formerly
   // inside a foreach loop over the instances.
-  $field = field_info_field($field_name);
   $function = $options['default'] ? 'field_default_' . $op : $field['module'] . '_field_' . $op;
   if (function_exists($function)) {
     // Determine the list of languages to iterate on.
diff --git a/profiles/commons/modules/contrib/ctools/includes/plugins.inc b/profiles/commons/modules/contrib/ctools/includes/plugins.inc
index 2dbdd48..0363fcb 100644
--- a/profiles/commons/modules/contrib/ctools/includes/plugins.inc
+++ b/profiles/commons/modules/contrib/ctools/includes/plugins.inc
@@ -440,7 +440,7 @@ function ctools_plugin_load_includes($info, $filename = NULL) {
       $all_files[$info['module']][$info['type']] = array();
       // Load all our plugins.
       $directories = ctools_plugin_get_directories($info);
-      $extension = empty($info['info file']) ? $info['extension'] : 'info';
+      $extension = (empty($info['info file']) || ($info['extension'] != 'inc')) ? $info['extension'] : 'info';
 
       foreach ($directories as $module => $path) {
         $all_files[$info['module']][$info['type']][$module] = file_scan_directory($path, '/\.' . $extension . '$/', array('key' => 'name'));
diff --git a/profiles/commons/modules/contrib/ctools/js/auto-submit.js b/profiles/commons/modules/contrib/ctools/js/auto-submit.js
index 890dd1f..a3e9aa4 100644
--- a/profiles/commons/modules/contrib/ctools/js/auto-submit.js
+++ b/profiles/commons/modules/contrib/ctools/js/auto-submit.js
@@ -45,11 +45,11 @@ Drupal.behaviors.CToolsAutoSubmit = {
     // the change event bubbles so we only need to bind it to the outer form
     $('form.ctools-auto-submit-full-form', context)
       .add('.ctools-auto-submit', context)
-      .filter('form, select, input:not(:text, :submit, .ctools-auto-submit-exclude)')
+      .filter('form, select, input:not(:text, :submit)')
       .once('ctools-auto-submit')
       .change(function (e) {
         // don't trigger on text change for full-form
-        if ($(e.target).is(':not(:text, :submit)')) {
+        if ($(e.target).is(':not(:text, :submit, .ctools-auto-submit-exclude)')) {
           triggerSubmit.call(e.target.form);
         }
       });
@@ -88,6 +88,11 @@ Drupal.behaviors.CToolsAutoSubmit = {
             if ($.inArray(e.keyCode, discardKeyCode) === -1) {
               timeoutID = setTimeout($.proxy(triggerSubmit, this.form), 500);
             }
+          })
+          .bind('change', function (e) {
+            if ($.inArray(e.keyCode, discardKeyCode) === -1) {
+              timeoutID = setTimeout($.proxy(triggerSubmit, this.form), 500);
+            }
           });
       });
   }
diff --git a/profiles/commons/modules/contrib/ctools/js/dropbutton.js b/profiles/commons/modules/contrib/ctools/js/dropbutton.js
index 49bc107..f505550 100644
--- a/profiles/commons/modules/contrib/ctools/js/dropbutton.js
+++ b/profiles/commons/modules/contrib/ctools/js/dropbutton.js
@@ -1,4 +1,3 @@
-// $Id$
 /**
  * @file
  * Implement a simple, clickable dropbutton menu.
diff --git a/profiles/commons/modules/contrib/ctools/js/modal.js b/profiles/commons/modules/contrib/ctools/js/modal.js
index 5b417d0..831649f 100644
--- a/profiles/commons/modules/contrib/ctools/js/modal.js
+++ b/profiles/commons/modules/contrib/ctools/js/modal.js
@@ -399,7 +399,7 @@
       }
 
       var parents = $(target).parents().get();
-      for (var i in $(target).parents().get()) {
+      for (var i = 0; i < parents.length; ++i) {
         var position = $(parents[i]).css('position');
         if (position == 'absolute' || position == 'fixed') {
           return true;
@@ -434,7 +434,7 @@
       }
     };
 
-    $(document).bind('keypress', modalEventEscapeCloseHandler);
+    $(document).bind('keydown', modalEventEscapeCloseHandler);
 
     // Close the open modal content and backdrop
     function close() {
diff --git a/profiles/commons/modules/contrib/ctools/page_manager/page_manager.admin.inc b/profiles/commons/modules/contrib/ctools/page_manager/page_manager.admin.inc
index c01961b..3dce041 100644
--- a/profiles/commons/modules/contrib/ctools/page_manager/page_manager.admin.inc
+++ b/profiles/commons/modules/contrib/ctools/page_manager/page_manager.admin.inc
@@ -158,7 +158,7 @@ function page_manager_get_pages($tasks, &$pages, $task_id = NULL) {
     $visible_path = '';
     if (!empty($task['admin path'])) {
       foreach (explode('/', $task['admin path']) as $bit) {
-        if ($bit[0] != '!') {
+        if (isset($bit[0]) && $bit[0] != '!') {
           $path[] = $bit;
         }
       }
@@ -1126,9 +1126,11 @@ function page_manager_render_operations(&$page, $operations, $active_trail, $att
     // We only render an li for things in the same nav tree.
     if (empty($operation['location']) || $operation['location'] == $location) {
       if (!is_array($attributes['class'])) {
-        dsm($attributes['class']);
+        $attributes['class'] = array($attributes['class']);
       }
+
       $class = empty($attributes['class']) || !is_array($attributes['class']) ? array() : $attributes['class'];
+
       if ($id == $first) {
         $class[] = 'operation-first';
       }
diff --git a/profiles/commons/modules/contrib/ctools/page_manager/page_manager.api.php b/profiles/commons/modules/contrib/ctools/page_manager/page_manager.api.php
new file mode 100644
index 0000000..03e2e75
--- /dev/null
+++ b/profiles/commons/modules/contrib/ctools/page_manager/page_manager.api.php
@@ -0,0 +1,39 @@
+<?php
+
+/**
+ * @file
+ * Describe hooks provided by the Page Manager module.
+ */
+
+/**
+ * @addtogroup hooks
+ * @{
+ */
+
+/**
+ * @todo.
+ *
+ * @param array $result
+ *   @todo.
+ * @param object $page
+ *   @todo.
+ */
+function hook_page_manager_operations_alter(&$result, &$page) {
+  // @todo.
+}
+
+/**
+ * @todo.
+ *
+ * @param array $operations
+ *   @todo.
+ * @param object $handler
+ *   @todo.
+ */
+function hook_page_manager_variant_operations_alter(&$operations, &$handler) {
+  // @todo.
+}
+
+/**
+ * @} End of "addtogroup hooks".
+ */
diff --git a/profiles/commons/modules/contrib/ctools/page_manager/page_manager.info b/profiles/commons/modules/contrib/ctools/page_manager/page_manager.info
index d3e3588..76095ff 100644
--- a/profiles/commons/modules/contrib/ctools/page_manager/page_manager.info
+++ b/profiles/commons/modules/contrib/ctools/page_manager/page_manager.info
@@ -4,9 +4,9 @@ core = 7.x
 dependencies[] = ctools
 package = Chaos tool suite
 
-; Information added by drupal.org packaging script on 2012-08-18
-version = "7.x-1.2"
+; Information added by drupal.org packaging script on 2013-04-03
+version = "7.x-1.3"
 core = "7.x"
 project = "ctools"
-datestamp = "1345319204"
+datestamp = "1365013512"
 
diff --git a/profiles/commons/modules/contrib/ctools/page_manager/page_manager.module b/profiles/commons/modules/contrib/ctools/page_manager/page_manager.module
index 62f6d27..da99a57 100644
--- a/profiles/commons/modules/contrib/ctools/page_manager/page_manager.module
+++ b/profiles/commons/modules/contrib/ctools/page_manager/page_manager.module
@@ -838,9 +838,6 @@ function page_manager_get_task_subtasks($task) {
     if (is_array($retval)) {
       return $retval;
     }
-    else {
-      dsm($retval);
-    }
   }
 
   return array();
diff --git a/profiles/commons/modules/contrib/ctools/page_manager/plugins/task_handlers/http_response.inc b/profiles/commons/modules/contrib/ctools/page_manager/plugins/task_handlers/http_response.inc
index c11dcd7..e5c0141 100644
--- a/profiles/commons/modules/contrib/ctools/page_manager/plugins/task_handlers/http_response.inc
+++ b/profiles/commons/modules/contrib/ctools/page_manager/plugins/task_handlers/http_response.inc
@@ -105,8 +105,9 @@ $plugin = array(
  */
 function page_manager_http_response_codes() {
   return array(
-    404 => t('404 Page not found'),
     403 => t('403 Access denied'),
+    404 => t('404 Page not found'),
+    410 => t('410 Gone'),
     301 => t('301 Redirect'),
   );
 }
@@ -282,4 +283,4 @@ function page_manager_http_response_render($handler, $base_contexts, $args, $tes
   }
 
   return $info;
-}
\ No newline at end of file
+}
diff --git a/profiles/commons/modules/contrib/ctools/page_manager/plugins/tasks/comment_reply.inc b/profiles/commons/modules/contrib/ctools/page_manager/plugins/tasks/comment_reply.inc
new file mode 100644
index 0000000..0fcf9e2
--- /dev/null
+++ b/profiles/commons/modules/contrib/ctools/page_manager/plugins/tasks/comment_reply.inc
@@ -0,0 +1,162 @@
+<?php
+/**
+ * Specialized implementation of hook_page_manager_task_tasks(). See api-task.html for
+ * more information.
+ */
+function page_manager_comment_reply_page_manager_tasks() {
+  if (!module_exists('comment')) {
+    return;
+  }
+
+  return array(
+    // This is a 'page' task and will fall under the page admin UI
+    'task type' => 'page',
+
+    'title' => t('Comment Reply page'),
+    'admin title' => t('Comment Reply page'),
+    'admin description' => t('When enabled, this overrides the default Drupal behavior for the site contact page at <em>/contact</em>. If no variant is selected, the default Drupal contact form will be used.'),
+    'admin path' => 'comment/reply/%node',
+
+    // Menu hooks so that we can alter the node/%node menu entry to point to us.
+    'hook menu alter' => 'page_manager_comment_reply_menu_alter',
+
+    // This is task uses 'context' handlers and must implement these to give the
+    // handler data it needs.
+    'handler type' => 'context',
+    'get arguments' => 'page_manager_comment_reply_get_arguments',
+    'get context placeholders' => 'page_manager_comment_reply_get_contexts',
+
+  // Allow this to be enabled or disabled:
+    'disabled' => variable_get('page_manager_comment_reply_disabled', TRUE),
+    'enable callback' => 'page_manager_comment_reply_enable',
+    'access callback' => 'page_manager_comment_reply_check',
+  );
+}
+
+/**
+ * Callback to enable/disable the page from the UI.
+ */
+function page_manager_comment_reply_enable($cache, $status) {
+  variable_set('page_manager_comment_reply_disabled', $status);
+  // Set a global flag so that the menu routine knows it needs
+  // to set a message if enabling cannot be done.
+  if (!$status) {
+    $GLOBALS['page_manager_enabling_comment_reply'] = TRUE;
+  }
+}
+
+
+/**
+ * Entry point for our overridden comment.
+ *
+ */
+function page_manager_comment_reply_page($node, $pid = NULL){
+    // Load my task plugin
+  $task = page_manager_get_task('comment_reply');
+
+  // Load the node into a context.
+  ctools_include('context');
+  ctools_include('context-task-handler');
+
+  $contexts = ctools_context_handler_get_task_contexts($task, '', array($node, $pid));
+
+  if (array_key_exists('argument_cid_3', $contexts) && $contexts['argument_cid_3']->data->nid != $node->nid) {
+    // Attempting to reply to a comment not belonging to the current nid.
+    drupal_set_message(t('The comment you are replying to does not exist.'), 'error');
+    drupal_goto("node/$node->nid");
+  }
+
+  $output = ctools_context_handler_render($task, '', $contexts, array($node, $pid));
+  if ($output != FALSE) {
+    return $output;
+  }
+
+  $function = 'comment_reply';
+  foreach (module_implements('page_manager_override') as $module) {
+    $call = $module . '_page_manager_override';
+    if (($rc = $call('comment_reply')) && function_exists($rc)) {
+      $function = $rc;
+      break;
+    }
+  }
+
+  module_load_include('inc', 'comment', 'comment.pages');
+  return $function($node, $pid);
+}
+
+/**
+ * Callback to get arguments provided by this task handler.
+ *
+ * Since this is the node view and there is no UI on the arguments, we
+ * create dummy arguments that contain the needed data.
+ */
+function page_manager_comment_reply_get_arguments($task, $subtask_id) {
+  return array(
+    array(
+      'keyword' => 'node',
+      'identifier' => t('Node being commented on'),
+      'id' => 2,
+      'name' => 'entity_id:node',
+      'settings' => array(),
+    ),
+    array(
+      'keyword' => 'comment',
+      'identifier' => t('Comment being replied to'),
+      'id' => 3,
+      'name' => 'entity_id:comment',
+      'settings' => array(),
+    ),
+  );
+}
+
+/**
+ * Callback to get context placeholders provided by this handler.
+ */
+function page_manager_comment_reply_get_contexts($task, $subtask_id) {
+  return ctools_context_get_placeholders_from_argument(page_manager_comment_reply_get_arguments($task, $subtask_id));
+}
+
+/**
+ * Callback defined by page_manager_node_view_page_manager_tasks().
+ *
+ * Alter the node view input so that node view comes to us rather than the
+ * normal node view process.
+ */
+function page_manager_comment_reply_menu_alter(&$items, $task) {
+  if (variable_get('page_manager_comment_reply_disabled', TRUE)) {
+    return;
+  }
+  // Override the node view handler for our purpose.
+  $callback = $items['comment/reply/%node']['page callback'];
+  if ($callback == 'comment_reply' || variable_get('page_manager_override_anyway', FALSE)) {
+    $items['comment/reply/%node']['page callback'] = 'page_manager_comment_reply_page';
+    $items['comment/reply/%node']['file path'] = $task['path'];
+    $items['comment/reply/%node']['file'] = $task['file'];
+  }
+  else {
+    // automatically disable this task if it cannot be enabled.
+    variable_set('page_manager_comment_reply_disabled', TRUE);
+    if (!empty($GLOBALS['page_manager_enabling_comment_reply'])) {
+      drupal_set_message(t('Page manager module is unable to enable comment/reply/%node because some other module already has overridden with %callback.', array('%callback' => $callback)), 'error');
+    }
+  }
+
+  // @todo override node revision handler as well?
+}
+
+/**
+ * Callback to determine if a page is accessible.
+ *
+ * @param $task
+ *   The task plugin.
+ * @param $subtask_id
+ *   The subtask id
+ * @param $contexts
+ *   The contexts loaded for the task.
+ * @return
+ *   TRUE if the current user can access the page.
+ */
+function page_manager_comment_reply_access_check($task, $subtask_id, $contexts) {
+  $context = reset($contexts);
+  return TRUE;
+}
diff --git a/profiles/commons/modules/contrib/ctools/page_manager/plugins/tasks/term_view.inc b/profiles/commons/modules/contrib/ctools/page_manager/plugins/tasks/term_view.inc
index 6933a54..e276570 100644
--- a/profiles/commons/modules/contrib/ctools/page_manager/plugins/tasks/term_view.inc
+++ b/profiles/commons/modules/contrib/ctools/page_manager/plugins/tasks/term_view.inc
@@ -106,44 +106,90 @@ function page_manager_term_view_menu_alter(&$items, $task) {
  * to run with it. If no one does, it passes through to Drupal core's
  * term view, which is term_page_view().
  */
-function page_manager_term_view_page($term) {
-  // Assign the term name as the page title, just as the original page
-  // callback did.
+function page_manager_term_view_page($term, $depth = NULL) {
+  // Prep the term to be displayed so all of the regular hooks are triggered.
+  // Rather than calling taxonomy_term_page() directly, as it that would
+  // potentially load nodes that were not necessary, execute some of the code
+  // prior to identifying the correct CTools or Page Manager task handler and
+  // only proceed with the rest of the code if necessary.
+
+  // Assign the term name as the page title.
   drupal_set_title($term->name);
 
-  // While we ordinarily should never actually get feeds through here,
-  // just in case
+  // If there is a menu link to this term, the link becomes the last part
+  // of the active trail, and the link name becomes the page title.
+  // Thus, we must explicitly set the page title to be the node title.
+  $uri = entity_uri('taxonomy_term', $term);
+
+  // Set the term path as the canonical URL to prevent duplicate content.
+  drupal_add_html_head_link(array('rel' => 'canonical', 'href' => url($uri['path'], $uri['options'])), TRUE);
+  // Set the non-aliased path as a default shortlink.
+  drupal_add_html_head_link(array('rel' => 'shortlink', 'href' => url($uri['path'], array_merge($uri['options'], array('alias' => TRUE)))), TRUE);
+
+  // Trigger the main
+  $build = taxonomy_term_show($term);
+
   // Load my task plugin
   $task = page_manager_get_task('term_view');
 
   // Load the term into a context.
   ctools_include('context');
   ctools_include('context-task-handler');
-  $contexts = ctools_context_handler_get_task_contexts($task, '', array($term));
+  $contexts = ctools_context_handler_get_task_contexts($task, '', array($term, $depth));
 
   if (empty($contexts)) {
     return drupal_not_found();
   }
 
+  // Build the full output using the configured CTools plugin.
   $output = ctools_context_handler_render($task, '', $contexts, array($term->tid));
   if ($output !== FALSE) {
     return $output;
   }
 
-  $function = 'taxonomy_term_page';
+  // Try loading an override plugin.
   foreach (module_implements('page_manager_override') as $module) {
     $call = $module . '_page_manager_override';
     if (($rc = $call('term_view')) && function_exists($rc)) {
-      $function = $rc;
-      break;
+      return $rc($node);
     }
   }
 
-  // Otherwise, fall back.
-  if ($function == 'taxonomy_term_page') {
-    module_load_include('inc', 'taxonomy', 'taxonomy.pages');
+  // Otherwise, fall back to replicating the output normally generated by
+  // taxonomy_term_page().
+
+  // Build breadcrumb based on the hierarchy of the term.
+  $current = (object) array(
+    'tid' => $term->tid,
+  );
+  // @todo This overrides any other possible breadcrumb and is a pure hard-coded
+  //   presumption. Make this behavior configurable per vocabulary or term.
+  $breadcrumb = array();
+  while ($parents = taxonomy_get_parents($current->tid)) {
+    $current = array_shift($parents);
+    $breadcrumb[] = l($current->name, 'taxonomy/term/' . $current->tid);
+  }
+  $breadcrumb[] = l(t('Home'), NULL);
+  $breadcrumb = array_reverse($breadcrumb);
+  drupal_set_breadcrumb($breadcrumb);
+  drupal_add_feed('taxonomy/term/' . $term->tid . '/feed', 'RSS - ' . $term->name);
+
+  if ($nids = taxonomy_select_nodes($term->tid, TRUE, variable_get('default_nodes_main', 10))) {
+    $nodes = node_load_multiple($nids);
+    $build += node_view_multiple($nodes);
+    $build['pager'] = array(
+      '#theme' => 'pager',
+      '#weight' => 5,
+    );
+  }
+  else {
+    $build['no_content'] = array(
+      '#prefix' => '<p>',
+      '#markup' => t('There is currently no content classified with this term.'),
+      '#suffix' => '</p>',
+    );
   }
-  return $function($term);
+  return $build;
 }
 
 /**
diff --git a/profiles/commons/modules/contrib/ctools/page_manager/plugins/tasks/user_edit.inc b/profiles/commons/modules/contrib/ctools/page_manager/plugins/tasks/user_edit.inc
index 3d98426..6d0135d 100644
--- a/profiles/commons/modules/contrib/ctools/page_manager/plugins/tasks/user_edit.inc
+++ b/profiles/commons/modules/contrib/ctools/page_manager/plugins/tasks/user_edit.inc
@@ -52,6 +52,17 @@ function page_manager_user_edit_menu_alter(&$items, $task) {
     $items['user/%user/edit']['page arguments'] = array(1);
     $items['user/%user/edit']['file path'] = $task['path'];
     $items['user/%user/edit']['file'] = $task['file'];
+    if (($categories = _user_categories()) && (count($categories) > 1)) {
+      foreach ($categories as $key => $category) {
+        // 'account' is already handled by the MENU_DEFAULT_LOCAL_TASK.
+        if ($category['name'] != 'account') {
+          $items['user/%user_category/edit/' . $category['name']]['page callback'] = 'page_manager_user_edit_page';
+          $items['user/%user_category/edit/' . $category['name']]['page arguments'] = array(1, 3);
+          $items['user/%user_category/edit/' . $category['name']]['file path'] = $task['path'];
+          $items['user/%user_category/edit/' . $category['name']]['file'] = $task['file'];
+        }
+      }
+    }
   }
   else {
     // automatically disable this task if it cannot be enabled.
@@ -69,7 +80,9 @@ function page_manager_user_edit_menu_alter(&$items, $task) {
  * to run with it. If no one does, it passes through to Drupal core's
  * user edit, which is drupal_get_form('user_profile_form',$account).
  */
-function page_manager_user_edit_page($account) {
+function page_manager_user_edit_page($account, $category = 'account') {
+  // Store the category on the user for later usage.
+  $account->user_category = $category;
 
   // Load my task plugin:
   $task = page_manager_get_task('user_edit');
diff --git a/profiles/commons/modules/contrib/ctools/plugins/access/entity_bundle.inc b/profiles/commons/modules/contrib/ctools/plugins/access/entity_bundle.inc
index ed68096..e07a048 100644
--- a/profiles/commons/modules/contrib/ctools/plugins/access/entity_bundle.inc
+++ b/profiles/commons/modules/contrib/ctools/plugins/access/entity_bundle.inc
@@ -1,5 +1,4 @@
 <?php
-// $Id$
 
 /**
  * @file
diff --git a/profiles/commons/modules/contrib/ctools/plugins/access/entity_field_value.inc b/profiles/commons/modules/contrib/ctools/plugins/access/entity_field_value.inc
index 59b01fb..e5857d8 100644
--- a/profiles/commons/modules/contrib/ctools/plugins/access/entity_field_value.inc
+++ b/profiles/commons/modules/contrib/ctools/plugins/access/entity_field_value.inc
@@ -98,6 +98,7 @@ function ctools_entity_field_value_ctools_access_settings($form, &$form_state, $
   foreach (element_children($form['settings']) as $element) {
     unset($form['settings'][$element]['#weight']);
   }
+
   // Need more logic here to handle compound fields.
   foreach ($columns as $column) {
     if (isset($conf[$column]) && is_array($conf[$column])) {
@@ -105,12 +106,13 @@ function ctools_entity_field_value_ctools_access_settings($form, &$form_state, $
         if (is_numeric($delta) && is_array($conf_value)) {
           $form['settings'][$field_name][LANGUAGE_NONE][$delta]['value']['#default_value'] = $conf_value['value'];
         }
-        else {
-          $form['settings'][$field_name][LANGUAGE_NONE]['#default_value'] = $conf[$column];
-        }
       }
     }
+    else {
+      $form['settings'][$field_name][LANGUAGE_NONE]['#default_value'] = $conf[$column];
+    }
   }
+
   return $form;
 }
 
@@ -148,29 +150,29 @@ function ctools_entity_field_value_ctools_access_check($conf, $context, $plugin)
     foreach ($field['columns'] as $column => $attributes) {
       $columns[$column] = _field_sql_storage_columnname($field_name, $column);
     }
-    foreach ($conf as $potential_field => $values) {
-      if ($field_name === $potential_field) {
 
-        $conf_value_array = _ctools_entity_field_value_ctools_access_get_conf_field_values($values, $langcode);
-        if (empty($conf_value_array)) {
-          return FALSE;
-        }
+    if (isset($conf[$field_name])) {
+      // We have settings for this field.
+      $conf_value_array = _ctools_entity_field_value_ctools_access_get_conf_field_values($conf[$field_name], $langcode);
+      if (empty($conf_value_array)) {
+        return FALSE;
+      }
 
-        // Check field value.
-        foreach ($field_items as $field_value) {
-          foreach ($field_value as $field_column => $value) {
-            // Iterate through config values.
-            foreach ($conf_value_array as $conf_value) {
-              //
-              if ($value == $conf_value[$field_column]) {
-                return TRUE;
-              }
+      // Check field value.
+      foreach ($field_items as $field_value) {
+        foreach ($field_value as $field_column => $value) {
+          // Iterate through config values.
+          foreach ($conf_value_array as $conf_value) {
+            // Check access only for stored in config column values.
+            if (isset($conf_value[$field_column]) && $value == $conf_value[$field_column]) {
+              return TRUE;
             }
           }
         }
       }
     }
   }
+
   return FALSE;
 }
 
@@ -221,15 +223,17 @@ function ctools_entity_field_value_ctools_access_summary($conf, $context, $plugi
   $options   = array('language' => LANGUAGE_NONE);
   ctools_include('fields');
   $display         = field_get_display($instance, $view_mode, $entity);
-  $display['type'] = 'list_default';
-  $function        = $display['module'] . '_field_formatter_view';
-  $items           = isset($entity->{$field_name}[LANGUAGE_NONE]) ? $entity->{$field_name}[LANGUAGE_NONE] : array();
-  if (function_exists($function)) {
-    $elements = $function($entity_type, $entity, $field, $instance, LANGUAGE_NONE, $items, $display);
-  }
-  $value_keys = array_keys($values);
-  foreach ($value_keys as $key => $value) {
-    $values[$value] = $elements[$key]['#markup'];
+  if (isset($display['module'])) {
+    $display['type'] = 'list_default';
+    $function        = $display['module'] . '_field_formatter_view';
+    $items           = isset($entity->{$field_name}[LANGUAGE_NONE]) ? $entity->{$field_name}[LANGUAGE_NONE] : array();
+    if (function_exists($function)) {
+      $elements = $function($entity_type, $entity, $field, $instance, LANGUAGE_NONE, $items, $display);
+    }
+    $value_keys = array_keys($values);
+    foreach ($value_keys as $key => $value) {
+      $values[$value] = isset($elements[$key]['#markup']) ? $elements[$key]['#markup'] : '';
+    }
   }
   $values = array_merge($keys, $values);
   return t($string, $values);
diff --git a/profiles/commons/modules/contrib/ctools/plugins/arguments/user_edit.inc b/profiles/commons/modules/contrib/ctools/plugins/arguments/user_edit.inc
index fc77f80..32b2b81 100644
--- a/profiles/commons/modules/contrib/ctools/plugins/arguments/user_edit.inc
+++ b/profiles/commons/modules/contrib/ctools/plugins/arguments/user_edit.inc
@@ -44,5 +44,4 @@ function ctools_user_edit_context($arg = NULL, $conf = NULL, $empty = FALSE) {
 
   // This will perform a node_access check, so we don't have to.
   return ctools_context_create('user_edit_form', $account);
-  return NULL;
 }
\ No newline at end of file
diff --git a/profiles/commons/modules/contrib/ctools/plugins/content_types/block/block.inc b/profiles/commons/modules/contrib/ctools/plugins/content_types/block/block.inc
index f5b0063..9d55e8a 100644
--- a/profiles/commons/modules/contrib/ctools/plugins/content_types/block/block.inc
+++ b/profiles/commons/modules/contrib/ctools/plugins/content_types/block/block.inc
@@ -85,6 +85,10 @@ function _ctools_block_content_type_content_type($module, $delta, $block) {
  * doesn't cache its results anyway.
  */
 function _ctools_block_load_blocks() {
+  if (!module_exists('block')) {
+    return array();
+  }
+
   $blocks = &drupal_static(__FUNCTION__, NULL);
   if (!isset($blocks)) {
     global $theme_key;
@@ -142,8 +146,8 @@ function ctools_block_content_type_render($subtype, $conf) {
     // Allow modules to modify the block before it is viewed, via either
     // hook_block_view_alter() or hook_block_view_MODULE_DELTA_alter().
     drupal_alter(array('block_view', "block_view_{$module}_{$delta}"), $block, $info);
-    $block = (object) $block;
   }
+  $block = (object) $block;
 
   if (empty($block)) {
     return;
@@ -152,7 +156,7 @@ function ctools_block_content_type_render($subtype, $conf) {
   $block->module = $module;
   $block->delta = $delta;
 
-  if ($module == 'block') {
+  if ($module == 'block' && !empty($info) && isset($info->title)) {
     $block->title = $info->title;
   }
   else if (isset($block->subject)) {
@@ -280,7 +284,7 @@ function ctools_block_content_type_admin_title($subtype, $conf) {
  */
 function ctools_block_content_type_admin_info($subtype, $conf) {
   list($module, $delta) = _ctools_block_get_module_delta($subtype, $conf);
-  $block = (object) module_invoke($module, 'block', 'view', $delta);
+  $block = (object) module_invoke($module, 'block_view', $delta);
 
   // Sanitize the block because <script> tags can hose javascript up:
   if (!empty($block->content)) {
@@ -493,11 +497,11 @@ function ctools_user_login_pane_render($subtype, $conf, $panel_args, $contexts)
   $info->module = $module;
   $info->delta = $delta;
 
-  $block = new stdClass;
-  $block->subject = t('User login');
+  $block = array();
+  $block['subject'] = t('User login');
   // Manually set the content (rather than invoking block_view) because the
   // block implementation won't render on certain URLs.
-  $block->content = drupal_get_form('user_login_block');
+  $block['content'] = drupal_get_form('user_login_block');
 
   // Allow modules to modify the block before it is viewed, via either
   // hook_block_view_alter() or hook_block_view_MODULE_DELTA_alter().
diff --git a/profiles/commons/modules/contrib/ctools/plugins/content_types/comment/comment_reply_form.inc b/profiles/commons/modules/contrib/ctools/plugins/content_types/comment/comment_reply_form.inc
new file mode 100644
index 0000000..f31a702
--- /dev/null
+++ b/profiles/commons/modules/contrib/ctools/plugins/content_types/comment/comment_reply_form.inc
@@ -0,0 +1,50 @@
+<?php
+
+/**
+ * @file
+ * Ctools content-type plugin to provide a comment-reply form (replying either
+ * to a node or to another comment).
+ */
+
+// Only provide the plugin in the comment module is enabled.
+if (module_exists('comment')) {
+  $plugin = array(
+    'single' => TRUE,
+    'title' => t('Comment Reply Form'),
+    'icon' => 'icon_comment.png',
+    'description' => t('A form to add a new comment reply.'),
+    'required context' => array(
+        new ctools_context_required(t('Node'), 'node'),
+        new ctools_context_optional(t('Comment'), 'comment'),
+        ),
+    'category' => t('Comment'),
+    'render callback'  => 'ctools_comment_reply_form_content_type_render',
+    'defaults' => array('anon_links' => false),
+  );
+}
+
+function ctools_comment_reply_form_content_type_render($subtype, $conf, $panel_args, $context) {
+
+  $comment = ($context[1]->identifier == 'No context') ? NULL : clone($context[1]->data);
+  $block = new stdClass();
+  $block->module = 'comments';
+  if ($comment) $block->delta  = $comment->cid;
+  $block->title = t('Add comment');
+  $node = $context[0]->data;
+
+  module_load_include('inc', 'comment', 'comment.pages');
+  $block->content = comment_reply($node, ($comment ? $comment->cid : NULL));
+
+  return $block;
+}
+
+function ctools_comment_reply_form_content_type_admin_title($subtype, $conf, $context) {
+  return t('"@s" comment form', array('@s' => $context[0]->identifier));
+}
+
+function ctools_comment_reply_form_content_type_edit_form($form, &$form_state) {
+  return $form;
+}
+
+function ctools_comment_reply_form_content_type_edit_form_submit($form, &$form_state) {
+}
diff --git a/profiles/commons/modules/contrib/ctools/plugins/content_types/form/entity_form_field.inc b/profiles/commons/modules/contrib/ctools/plugins/content_types/form/entity_form_field.inc
index 0183fc6..56fb76a 100644
--- a/profiles/commons/modules/contrib/ctools/plugins/content_types/form/entity_form_field.inc
+++ b/profiles/commons/modules/contrib/ctools/plugins/content_types/form/entity_form_field.inc
@@ -104,7 +104,12 @@ function ctools_entity_form_field_content_type_render($subtype, $conf, $panel_ar
 function ctools_entity_form_field_content_type_admin_title($subtype, $conf, $context) {
   list($entity_type, $field_name) = explode(':', $subtype, 2);
 
-  $field = field_info_instance($entity_type, $field_name, $context->restrictions['type'][0]);
+  if (!empty($context->restrictions)) {
+    $field = field_info_instance($entity_type, $field_name, $context->restrictions['type'][0]);
+  }
+  else {
+    $field = array('label' => $subtype);
+  }
 
   return t('"@s" @field form', array('@s' => $context->identifier, '@field' => $field['label']));
 }
diff --git a/profiles/commons/modules/contrib/ctools/plugins/content_types/node_context/node_title.inc b/profiles/commons/modules/contrib/ctools/plugins/content_types/node_context/node_title.inc
index 6a52306..bec8982 100644
--- a/profiles/commons/modules/contrib/ctools/plugins/content_types/node_context/node_title.inc
+++ b/profiles/commons/modules/contrib/ctools/plugins/content_types/node_context/node_title.inc
@@ -13,6 +13,9 @@ $plugin = array(
   'category' => t('Node'),
   'defaults' => array(
     'link' => TRUE,
+    'markup' => 'none',
+    'id' => '',
+    'class' => '',
   ),
 );
 
@@ -30,11 +33,27 @@ function ctools_node_title_content_type_render($subtype, $conf, $panel_args, $co
   // Load information about the node type.
   $type = node_type_get_type($node);
 
+  // Generate the title
+  $content = !empty($conf['link']) ? l($node->title, 'node/' . $node->nid) : check_plain($node->title);
+
+  // Build any surrounding markup if so configured
+  if (isset($conf['markup']) && $conf['markup'] != 'none') {
+    $markup = '<' . $conf['markup'];
+    if (!empty($conf['id'])) {
+      $markup .= ' id="' . $conf['id'] . '"';
+    }
+    if (!empty($conf['class'])) {
+      $markup .= ' class="' . $conf['class'] . '"';
+    }
+    $markup .= '>' . $content . '</' . $conf['markup'] . '>' . "\n";
+    $content = $markup;
+  }
+
   // Build the content type block.
   $block = new stdClass();
   $block->module  = 'node_title';
   $block->title   = $type->title_label;
-  $block->content = !empty($conf['link']) ? l($node->title, 'node/' . $node->nid) : check_plain($node->title);
+  $block->content = $content;
   $block->delta   = $node->nid;
 
   return $block;
@@ -46,6 +65,34 @@ function ctools_node_title_content_type_render($subtype, $conf, $panel_args, $co
 function ctools_node_title_content_type_edit_form($form, &$form_state) {
   $conf = $form_state['conf'];
 
+  $form['markup'] = array(
+    '#title' => t('Title tag'),
+    '#type' => 'select',
+    '#options' => array(
+      'none' => t('- No tag -'),
+      'h1' => t('h1'),
+      'h2' => t('h2'),
+      'h3' => t('h3'),
+      'h4' => t('h4'),
+      'h5' => t('h5'),
+      'h6' => t('h6'),
+      'div' => t('div'),
+    ),
+    '#default_value' => $conf['markup'],
+  );
+
+  $form['id'] = array(
+    '#title' => t('CSS id to use'),
+    '#type' => 'textfield',
+    '#default_value' => $conf['id'],
+  );
+
+  $form['class'] = array(
+    '#title' => t('CSS class to use'),
+    '#type' => 'textfield',
+    '#default_value' => $conf['class'],
+  );
+
   $form['link'] = array(
     '#title' => t('Link to node'),
     '#type' => 'checkbox',
diff --git a/profiles/commons/modules/contrib/ctools/plugins/content_types/node_form/node_form_language.inc b/profiles/commons/modules/contrib/ctools/plugins/content_types/node_form/node_form_language.inc
new file mode 100644
index 0000000..2043c1c
--- /dev/null
+++ b/profiles/commons/modules/contrib/ctools/plugins/content_types/node_form/node_form_language.inc
@@ -0,0 +1,41 @@
+<?php
+
+/**
+ * Plugins are described by creating a $plugin array which will be used
+ * by the system that includes this file.
+ */
+$plugin = array(
+  'single' => TRUE,
+  'icon' => 'icon_node_form.png',
+  'title' => t('Node form languages'),
+  'description' => t('The language selection form.'),
+  'required context' => new ctools_context_required(t('Form'), 'node_form'),
+  'category' => t('Form'),
+);
+
+function ctools_node_form_language_content_type_render($subtype, $conf, $panel_args, &$context) {
+  $block = new stdClass();
+  $block->module = t('node_form');
+
+  $block->delta = 'language-options';
+
+  if (isset($context->form)) {
+    if (!empty($context->form['language'])) {
+      $block->content['language'] = $context->form['language'];
+      unset($context->form['language']);
+    }
+  }
+  else {
+    $block->content = t('Node language form.');
+  }
+  return $block;
+}
+
+function ctools_node_form_language_content_type_admin_title($subtype, $conf, $context) {
+  return t('"@s" node form language field', array('@s' => $context->identifier));
+}
+
+function ctools_node_form_language_content_type_edit_form($form, &$form_state) {
+  // provide a blank form so we have a place to have context setting.
+  return $form;
+}
\ No newline at end of file
diff --git a/profiles/commons/modules/contrib/ctools/plugins/content_types/page/page_actions.inc b/profiles/commons/modules/contrib/ctools/plugins/content_types/page/page_actions.inc
index e8762d4..c20c408 100644
--- a/profiles/commons/modules/contrib/ctools/plugins/content_types/page/page_actions.inc
+++ b/profiles/commons/modules/contrib/ctools/plugins/content_types/page/page_actions.inc
@@ -26,7 +26,7 @@ $plugin = array(
  */
 function ctools_page_actions_content_type_render($subtype, $conf, $panel_args) {
   $block = new stdClass();
-  $block->content = menu_local_actions();
+  $block->content = theme('ctools_menu_local_actions_wrapper', array('links' => menu_local_actions()));
 
   return $block;
 }
diff --git a/profiles/commons/modules/contrib/ctools/plugins/content_types/term_context/term_list.inc b/profiles/commons/modules/contrib/ctools/plugins/content_types/term_context/term_list.inc
index 4585611..dc3124b 100644
--- a/profiles/commons/modules/contrib/ctools/plugins/content_types/term_context/term_list.inc
+++ b/profiles/commons/modules/contrib/ctools/plugins/content_types/term_context/term_list.inc
@@ -49,7 +49,7 @@ function ctools_term_list_content_type_render($subtype, $conf, $panel_args, $con
 
       case 'parent':
         $terms = taxonomy_get_parents($term->tid);
-        $block->title = format_plural(count($terms), 'Parent term', 'Parent terms');
+        $block->title = count($terms) == 1 ? t('Parent term') : t('Parent terms');
         break;
 
       case 'sibling':
diff --git a/profiles/commons/modules/contrib/ctools/plugins/content_types/user_context/user_profile.inc b/profiles/commons/modules/contrib/ctools/plugins/content_types/user_context/user_profile.inc
index 3e769d6..6c41882 100644
--- a/profiles/commons/modules/contrib/ctools/plugins/content_types/user_context/user_profile.inc
+++ b/profiles/commons/modules/contrib/ctools/plugins/content_types/user_context/user_profile.inc
@@ -21,7 +21,7 @@ $plugin = array(
  */
 function ctools_user_profile_content_type_render($subtype, $conf, $panel_args, $context) {
   $account = isset($context->data) ? clone($context->data) : NULL;
-  if (!$account || ($account->access == 0 && !user_access('administer users'))) {
+  if (!$account) {
     return NULL;
   }
 
diff --git a/profiles/commons/modules/contrib/ctools/plugins/contexts/string.inc b/profiles/commons/modules/contrib/ctools/plugins/contexts/string.inc
index c53acae..0ea5e52 100644
--- a/profiles/commons/modules/contrib/ctools/plugins/contexts/string.inc
+++ b/profiles/commons/modules/contrib/ctools/plugins/contexts/string.inc
@@ -15,7 +15,7 @@ $plugin = array(
   'description' => t('A context that is just a string.'),
   'context' => 'ctools_context_create_string',
   'keyword' => 'string',
-  'no ui' => TRUE,
+  'no ui' => FALSE,
   'context name' => 'string',
   'convert list' => array(
     'raw' => t('Raw string'),
@@ -45,7 +45,7 @@ function ctools_context_create_string($empty, $data = NULL, $conf = FALSE) {
 
   if ($data !== FALSE ) {
     $context->data = $data;
-    $context->title = check_plain($data);
+    $context->title = ($conf) ? check_plain($data['identifier']) : check_plain($data);
     return $context;
   }
 }
diff --git a/profiles/commons/modules/contrib/ctools/plugins/contexts/user_edit_form.inc b/profiles/commons/modules/contrib/ctools/plugins/contexts/user_edit_form.inc
index 89ee2b4..da0cca0 100644
--- a/profiles/commons/modules/contrib/ctools/plugins/contexts/user_edit_form.inc
+++ b/profiles/commons/modules/contrib/ctools/plugins/contexts/user_edit_form.inc
@@ -30,16 +30,29 @@ $plugin = array(
  * are not always created from the UI.
  */
 function ctools_context_create_user_edit_form($empty, $user = NULL, $conf = FALSE) {
-  static $created;
+  // Determine the user category.
+  $category = !empty($conf['category']) ? $conf['category'] : FALSE;
+  unset($conf['category']);
+
+  // Return previously created contexts, per category.
+  static $created = array();
+  if (!empty($created[$category])) {
+    return $created[$category];
+  }
+  // If no category was specified, use the default 'account'.
+  if (!$category) {
+    $category = 'account';
+  }
+
   $context = new ctools_context(array('form', 'user_edit', 'user_form', 'user_edit_form', 'user', 'entity:user'));
+  // Store this context for later.
+  $created[$category] = $context;
   $context->plugin = 'user_edit_form';
-
-  if ($empty || (isset($created) && $created)) {
+  if ($empty) {
     return $context;
   }
-  $created = TRUE;
 
-  if ($conf) {
+  if (!empty($conf)) {
     // In this case, $user is actually our $conf array.
     $uid = is_array($user) && isset($user['uid']) ? $user['uid'] : (is_object($user) ? $user->uid : 0);
 
@@ -58,7 +71,7 @@ function ctools_context_create_user_edit_form($empty, $user = NULL, $conf = FALS
   if (!empty($user)) {
     $form_id = 'user_profile_form';
 
-    $form_state = array('want form' => TRUE, 'build_info' => array('args' => array($user)));
+    $form_state = array('want form' => TRUE, 'build_info' => array('args' => array($user, $category)));
 
     $file = drupal_get_path('module', 'user') . '/user.pages.inc';
     require_once DRUPAL_ROOT . '/' . $file;
diff --git a/profiles/commons/modules/contrib/ctools/plugins/relationships/user_category_edit_form_from_user.inc b/profiles/commons/modules/contrib/ctools/plugins/relationships/user_category_edit_form_from_user.inc
new file mode 100644
index 0000000..28dac72
--- /dev/null
+++ b/profiles/commons/modules/contrib/ctools/plugins/relationships/user_category_edit_form_from_user.inc
@@ -0,0 +1,31 @@
+<?php
+
+/**
+ * @file
+ * Plugin to provide an relationship handler for term from node.
+ */
+
+/**
+ * Plugins are described by creating a $plugin array which will be used
+ * by the system that includes this file.
+ */
+$plugin = array(
+  'title' => t('User category edit form from user'),
+  'keyword' => 'user_category_form',
+  'description' => t('Adds user category edit form from a user context.'),
+  'required context' => new ctools_context_required(t('User'), 'user'),
+  'context' => 'ctools_user_category_edit_form_from_user_context',
+);
+
+/**
+ * Return a new context based on an existing context.
+ */
+function ctools_user_category_edit_form_from_user_context($context, $conf) {
+  if (empty($context->data)) {
+    return ctools_context_create_empty('user_edit_form', NULL);
+  }
+
+  if (isset($context->data->user_category)) {
+    return ctools_context_create('user_edit_form', $context->data, array('category' => $context->data->user_category));
+  }
+}
diff --git a/profiles/commons/modules/contrib/ctools/stylizer/stylizer.info b/profiles/commons/modules/contrib/ctools/stylizer/stylizer.info
index 9c7f117..888cc8e 100644
--- a/profiles/commons/modules/contrib/ctools/stylizer/stylizer.info
+++ b/profiles/commons/modules/contrib/ctools/stylizer/stylizer.info
@@ -5,9 +5,9 @@ package = Chaos tool suite
 dependencies[] = ctools
 dependencies[] = color
 
-; Information added by drupal.org packaging script on 2012-08-18
-version = "7.x-1.2"
+; Information added by drupal.org packaging script on 2013-04-03
+version = "7.x-1.3"
 core = "7.x"
 project = "ctools"
-datestamp = "1345319204"
+datestamp = "1365013512"
 
diff --git a/profiles/commons/modules/contrib/ctools/tests/context.test b/profiles/commons/modules/contrib/ctools/tests/context.test
index b5f6fb1..bdf14e3 100644
--- a/profiles/commons/modules/contrib/ctools/tests/context.test
+++ b/profiles/commons/modules/contrib/ctools/tests/context.test
@@ -23,6 +23,10 @@ class CtoolsContextKeywordsSubstitutionTestCase extends DrupalWebTestCase {
 
     // Run tests on some edge cases.
     $checks = array(
+      '%node:changed:raw:' => array(
+        "{$node->changed}:",
+        t('Multi-level token has been replaced. Colon left untouched.'),
+      ),
       '%node:title' => array(
         "{$node->title}",
         t('Keyword and converter have been replaced.'),
diff --git a/profiles/commons/modules/contrib/ctools/tests/ctools_export_test/ctools_export_test.info b/profiles/commons/modules/contrib/ctools/tests/ctools_export_test/ctools_export_test.info
index 2d975c3..669c4ae 100644
--- a/profiles/commons/modules/contrib/ctools/tests/ctools_export_test/ctools_export_test.info
+++ b/profiles/commons/modules/contrib/ctools/tests/ctools_export_test/ctools_export_test.info
@@ -7,9 +7,9 @@ hidden = TRUE
 
 files[] = ctools_export.test
 
-; Information added by drupal.org packaging script on 2012-08-18
-version = "7.x-1.2"
+; Information added by drupal.org packaging script on 2013-04-03
+version = "7.x-1.3"
 core = "7.x"
 project = "ctools"
-datestamp = "1345319204"
+datestamp = "1365013512"
 
diff --git a/profiles/commons/modules/contrib/ctools/tests/ctools_plugin_test.info b/profiles/commons/modules/contrib/ctools/tests/ctools_plugin_test.info
index 6d5e9cd..5bb61ed 100644
--- a/profiles/commons/modules/contrib/ctools/tests/ctools_plugin_test.info
+++ b/profiles/commons/modules/contrib/ctools/tests/ctools_plugin_test.info
@@ -7,11 +7,13 @@ files[] = ctools.plugins.test
 files[] = object_cache.test
 files[] = css.test
 files[] = context.test
+files[] = math_expression.test
+files[] = math_expression_stack.test
 hidden = TRUE
 
-; Information added by drupal.org packaging script on 2012-08-18
-version = "7.x-1.2"
+; Information added by drupal.org packaging script on 2013-04-03
+version = "7.x-1.3"
 core = "7.x"
 project = "ctools"
-datestamp = "1345319204"
+datestamp = "1365013512"
 
diff --git a/profiles/commons/modules/contrib/ctools/tests/math_expression.test b/profiles/commons/modules/contrib/ctools/tests/math_expression.test
new file mode 100644
index 0000000..730e079
--- /dev/null
+++ b/profiles/commons/modules/contrib/ctools/tests/math_expression.test
@@ -0,0 +1,129 @@
+<?php
+
+/**
+ * @file
+ * Contains \CtoolsMathExpressionTestCase.
+ */
+
+/**
+ * Tests the MathExpression library of ctools.
+ */
+class CtoolsMathExpressionTestCase extends DrupalWebTestCase {
+  public static function getInfo() {
+    return array(
+      'name' => 'CTools math expression tests',
+      'description' => 'Test the math expression library of ctools.',
+      'group' => 'Chaos Tools Suite',
+    );
+  }
+
+  public function setUp() {
+    parent::setUp('ctools', 'ctools_plugin_test');
+  }
+
+  /**
+   * Returns a random double between 0 and 1.
+   */
+  protected function rand01() {
+    return rand(0, PHP_INT_MAX) / PHP_INT_MAX;
+  }
+
+  /**
+   * A custom assertion with checks the values in a certain range.
+   */
+  protected function assertFloat($first, $second, $delta = 0.0000001, $message = '', $group = 'Other') {
+    return $this->assert(abs($first - $second) <= $delta, $message ? $message : t('Value @first is equal to value @second.', array('@first' => var_export($first, TRUE), '@second' => var_export($second, TRUE))), $group);
+  }
+
+  public function testArithmetic() {
+    $math_expression = new ctools_math_expr();
+
+    // Test constant expressions.
+    $this->assertEqual($math_expression->e('2'), 2);
+    $random_number = rand(0, 10);
+    $this->assertEqual($random_number, $math_expression->e((string) $random_number));
+
+    // Test simple arithmetic.
+    $random_number_a = rand(5, 10);
+    $random_number_b = rand(5, 10);
+    $this->assertEqual($random_number_a + $random_number_b, $math_expression->e("$random_number_a + $random_number_b"));
+    $this->assertEqual($random_number_a - $random_number_b, $math_expression->e("$random_number_a - $random_number_b"));
+    $this->assertEqual($random_number_a * $random_number_b, $math_expression->e("$random_number_a * $random_number_b"));
+    $this->assertEqual($random_number_a / $random_number_b, $math_expression->e("$random_number_a / $random_number_b"));
+
+    // Test Associative property.
+    $random_number_c = rand(5, 10);
+    $this->assertEqual($math_expression->e("$random_number_a + ($random_number_b + $random_number_c)"), $math_expression->e("($random_number_a + $random_number_b) + $random_number_c"));
+    $this->assertEqual($math_expression->e("$random_number_a * ($random_number_b * $random_number_c)"), $math_expression->e("($random_number_a * $random_number_b) * $random_number_c"));
+
+    // Test Commutative property.
+    $this->assertEqual($math_expression->e("$random_number_a + $random_number_b"), $math_expression->e("$random_number_b + $random_number_a"));
+    $this->assertEqual($math_expression->e("$random_number_a * $random_number_b"), $math_expression->e("$random_number_b * $random_number_a"));
+
+    // Test Distributive property.
+    $this->assertEqual($math_expression->e("($random_number_a + $random_number_b) * $random_number_c"), $math_expression->e("($random_number_a * $random_number_c + $random_number_b * $random_number_c)"));
+
+    $this->assertEqual(pow($random_number_a, $random_number_b), $math_expression->e("$random_number_a ^ $random_number_b"));
+  }
+
+  public function testBuildInFunctions() {
+    $math_expression = new ctools_math_expr();
+
+    // @todo: maybe run this code multiple times to test different values.
+    $random_double = $this->rand01();
+    $random_int = rand(5, 10);
+    $this->assertFloat(sin($random_double), $math_expression->e("sin($random_double)"));
+    $this->assertFloat(cos($random_double), $math_expression->e("cos($random_double)"));
+    $this->assertFloat(tan($random_double), $math_expression->e("tan($random_double)"));
+    $this->assertFloat(exp($random_double), $math_expression->e("exp($random_double)"));
+    $this->assertFloat(sqrt($random_double), $math_expression->e("sqrt($random_double)"));
+    $this->assertFloat(log($random_double), $math_expression->e("ln($random_double)"));
+    $this->assertFloat(round($random_double), $math_expression->e("round($random_double)"));
+    $this->assertFloat(abs($random_double + $random_int), $math_expression->e('abs(' . ($random_double + $random_int) . ')'));
+    $this->assertEqual(round($random_double + $random_int), $math_expression->e('round(' . ($random_double + $random_int) . ')'));
+    $this->assertEqual(ceil($random_double + $random_int), $math_expression->e('ceil(' . ($random_double + $random_int) . ')'));
+    $this->assertEqual(floor($random_double + $random_int), $math_expression->e('floor(' . ($random_double + $random_int) . ')'));
+
+    // @fixme: you can't run time without an argument.
+    $this->assertFloat(time(), $math_expression->e('time(1)'));
+
+    $random_double_a = $this->rand01();
+    $random_double_b = $this->rand01();
+    // @fixme: max/min don't work at the moment.
+//    $this->assertFloat(max($random_double_a, $random_double_b), $math_expression->e("max($random_double_a, $random_double_b)"));
+//    $this->assertFloat(min($random_double_a, $random_double_b), $math_expression->e("min($random_double_a, $random_double_b)"));
+  }
+
+  public function testVariables() {
+    $math_expression = new ctools_math_expr();
+
+    $random_number_a = rand(5, 10);
+    $random_number_b = rand(5, 10);
+
+    // Store the first random number and use it on calculations.
+    $math_expression->e("var = $random_number_a");
+    $this->assertEqual($random_number_a + $random_number_b, $math_expression->e("var + $random_number_b"));
+    $this->assertEqual($random_number_a * $random_number_b, $math_expression->e("var * $random_number_b"));
+    $this->assertEqual($random_number_a - $random_number_b, $math_expression->e("var - $random_number_b"));
+    $this->assertEqual($random_number_a / $random_number_b, $math_expression->e("var / $random_number_b"));
+  }
+
+  public function testCustomFunctions() {
+    $math_expression = new ctools_math_expr();
+
+    $random_number_a = rand(5, 10);
+    $random_number_b = rand(5, 10);
+
+    // Create a one-argument function.
+    $math_expression->e("f(x) = 2 * x");
+    $this->assertEqual($random_number_a * 2, $math_expression->e("f($random_number_a)"));
+    $this->assertEqual($random_number_b * 2, $math_expression->e("f($random_number_b)"));
+
+    // Create a two-argument function.
+    $math_expression->e("g(x, y) = 2 * x + y");
+    $this->assertEqual($random_number_a * 2 + $random_number_b, $math_expression->e("g($random_number_a, $random_number_b)"));
+
+    // Use a custom function in another function.
+    $this->assertEqual(($random_number_a * 2 + $random_number_b) * 2, $math_expression->e("f(g($random_number_a, $random_number_b))"));
+  }
+}
diff --git a/profiles/commons/modules/contrib/ctools/tests/math_expression_stack.test b/profiles/commons/modules/contrib/ctools/tests/math_expression_stack.test
new file mode 100644
index 0000000..8143a55
--- /dev/null
+++ b/profiles/commons/modules/contrib/ctools/tests/math_expression_stack.test
@@ -0,0 +1,63 @@
+<?php
+
+/**
+ * @file
+ * Contains \CtoolsMathExpressionStackTestCase
+ */
+
+/**
+ * Tests the simple MathExpressionStack class.
+ */
+class CtoolsMathExpressionStackTestCase extends DrupalWebTestCase {
+  public static function getInfo() {
+    return array(
+      'name' => 'CTools math expression stack tests',
+      'description' => 'Test the stack class of the math expression library.',
+      'group' => 'Chaos Tools Suite',
+    );
+  }
+
+  public function setUp() {
+    parent::setUp('ctools', 'ctools_plugin_test');
+  }
+
+  public function testStack() {
+    $stack = new ctools_math_expr_stack();
+
+    // Test the empty stack.
+    $this->assertNull($stack->last());
+    $this->assertNull($stack->pop());
+
+    // Add an element and see whether it's the right element.
+    $value = $this->randomName();
+    $stack->push($value);
+    $this->assertIdentical($value, $stack->last());
+    $this->assertIdentical($value, $stack->pop());
+    $this->assertNull($stack->pop());
+
+    // Add multiple elements and see whether they are returned in the right order.
+    $values = array($this->randomName(), $this->randomName(), $this->randomName());
+    foreach ($values as $value) {
+      $stack->push($value);
+    }
+
+    // Test the different elements at different positions with the last() method.
+    $count = count($values);
+    foreach ($values as $key => $value) {
+      $this->assertEqual($value, $stack->last($count - $key));
+    }
+
+    // Pass in a non-valid number to last.
+    $non_valid_number = rand(10, 20);
+    $this->assertNull($stack->last($non_valid_number));
+
+    // Test the order of the poping.
+    $values = array_reverse($values);
+    foreach ($values as $key => $value) {
+      $this->assertEqual($stack->last(), $value);
+      $this->assertEqual($stack->pop(), $value);
+    }
+    $this->assertNull($stack->pop());
+
+  }
+}
diff --git a/profiles/commons/modules/contrib/ctools/views_content/plugins/content_types/views.inc b/profiles/commons/modules/contrib/ctools/views_content/plugins/content_types/views.inc
index deea741..262d81d 100644
--- a/profiles/commons/modules/contrib/ctools/views_content/plugins/content_types/views.inc
+++ b/profiles/commons/modules/contrib/ctools/views_content/plugins/content_types/views.inc
@@ -144,7 +144,7 @@ function views_content_views_content_type_render($subtype, $conf, $panel_args, $
         list($cid, $converter) = explode('.', $context_info, 2);
       }
       if (!empty($contexts[$cid])) {
-        $arg = ctools_context_convert_context($contexts[$cid], $converter);
+        $arg = ctools_context_convert_context($contexts[$cid], $converter, array('sanitize' => FALSE));
         array_splice($args, $count, 0, array($arg));
       }
       else {
diff --git a/profiles/commons/modules/contrib/ctools/views_content/plugins/content_types/views_panes.inc b/profiles/commons/modules/contrib/ctools/views_content/plugins/content_types/views_panes.inc
index a27a26c..10a6a83 100644
--- a/profiles/commons/modules/contrib/ctools/views_content/plugins/content_types/views_panes.inc
+++ b/profiles/commons/modules/contrib/ctools/views_content/plugins/content_types/views_panes.inc
@@ -156,7 +156,7 @@ function views_content_views_panes_content_type_render($subtype, $conf, $panel_a
         if (isset($contexts[$key])) {
           if (strpos($argument['context'], '.')) {
             list($context, $converter) = explode('.', $argument['context'], 2);
-            $args[] = ctools_context_convert_context($contexts[$key], $converter);
+            $args[] = ctools_context_convert_context($contexts[$key], $converter, array('sanitize' => FALSE));
           }
           else {
             $args[] = $contexts[$key]->argument;
diff --git a/profiles/commons/modules/contrib/ctools/views_content/plugins/relationships/view_from_argument.inc b/profiles/commons/modules/contrib/ctools/views_content/plugins/relationships/view_from_argument.inc
index 4da5fe5..cefc6db 100644
--- a/profiles/commons/modules/contrib/ctools/views_content/plugins/relationships/view_from_argument.inc
+++ b/profiles/commons/modules/contrib/ctools/views_content/plugins/relationships/view_from_argument.inc
@@ -1,5 +1,4 @@
 <?php
-// $Id$
 
 /**
  * @file
@@ -77,7 +76,7 @@ function views_content_view_from_argument_context($contexts, $conf) {
         if (isset($contexts [$key])) {
           if (strpos($argument['context'], '.')) {
             list($context, $converter) = explode('.', $argument['context'], 2);
-            $args[] = ctools_context_convert_context($contexts[$key], $converter);
+            $args[] = ctools_context_convert_context($contexts[$key], $converter, array('sanitize' => FALSE));
           }
           else {
             $args[] = $contexts[$key]->argument;
diff --git a/profiles/commons/modules/contrib/ctools/views_content/views_content.info b/profiles/commons/modules/contrib/ctools/views_content/views_content.info
index cd7ce44..1782d37 100644
--- a/profiles/commons/modules/contrib/ctools/views_content/views_content.info
+++ b/profiles/commons/modules/contrib/ctools/views_content/views_content.info
@@ -9,9 +9,9 @@ files[] = plugins/views/views_content_plugin_display_ctools_context.inc
 files[] = plugins/views/views_content_plugin_display_panel_pane.inc
 files[] = plugins/views/views_content_plugin_style_ctools_context.inc
 
-; Information added by drupal.org packaging script on 2012-08-18
-version = "7.x-1.2"
+; Information added by drupal.org packaging script on 2013-04-03
+version = "7.x-1.3"
 core = "7.x"
 project = "ctools"
-datestamp = "1345319204"
+datestamp = "1365013512"
 
diff --git a/profiles/commons/modules/contrib/custom_search/custom_search.info b/profiles/commons/modules/contrib/custom_search/custom_search.info
index be604e7..c205641 100644
--- a/profiles/commons/modules/contrib/custom_search/custom_search.info
+++ b/profiles/commons/modules/contrib/custom_search/custom_search.info
@@ -13,9 +13,9 @@ files[] = custom_search.install
 
 configure = admin/config/search/custom_search
 
-; Information added by drush on 2013-03-28
+; Information added by drush on 2013-04-04
 version = "7.x-1.11+9-dev"
 core = "7.x"
 project = "custom_search"
-datestamp = "1364431825"
+datestamp = "1365041489"
 
diff --git a/profiles/commons/modules/contrib/custom_search/modules/custom_search_blocks/custom_search_blocks.info b/profiles/commons/modules/contrib/custom_search/modules/custom_search_blocks/custom_search_blocks.info
index e8f4be3..2b9ec5b 100644
--- a/profiles/commons/modules/contrib/custom_search/modules/custom_search_blocks/custom_search_blocks.info
+++ b/profiles/commons/modules/contrib/custom_search/modules/custom_search_blocks/custom_search_blocks.info
@@ -12,9 +12,9 @@ files[] = custom_search_blocks.install
 
 configure = admin/config/search/custom_search/blocks
 
-; Information added by drush on 2013-03-28
+; Information added by drush on 2013-04-04
 version = "7.x-1.11+9-dev"
 core = "7.x"
 project = "custom_search"
-datestamp = "1364431825"
+datestamp = "1365041489"
 
diff --git a/profiles/commons/modules/contrib/custom_search/modules/custom_search_i18n/custom_search_i18n.info b/profiles/commons/modules/contrib/custom_search/modules/custom_search_i18n/custom_search_i18n.info
index cac099d..5dbf405 100644
--- a/profiles/commons/modules/contrib/custom_search/modules/custom_search_i18n/custom_search_i18n.info
+++ b/profiles/commons/modules/contrib/custom_search/modules/custom_search_i18n/custom_search_i18n.info
@@ -10,9 +10,9 @@ files[] = custom_search_i18n.module
 files[] = custom_search_i18n.admin.inc
 files[] = custom_search_i18n.install
 
-; Information added by drush on 2013-03-28
+; Information added by drush on 2013-04-04
 version = "7.x-1.11+9-dev"
 core = "7.x"
 project = "custom_search"
-datestamp = "1364431825"
+datestamp = "1365041489"
 
diff --git a/profiles/commons/modules/contrib/custom_search/modules/custom_search_taxonomy/custom_search_taxonomy.info b/profiles/commons/modules/contrib/custom_search/modules/custom_search_taxonomy/custom_search_taxonomy.info
index ed50288..2ba3af8 100644
--- a/profiles/commons/modules/contrib/custom_search/modules/custom_search_taxonomy/custom_search_taxonomy.info
+++ b/profiles/commons/modules/contrib/custom_search/modules/custom_search_taxonomy/custom_search_taxonomy.info
@@ -12,9 +12,9 @@ files[] = custom_search_taxonomy.install
 
 configure = admin/config/search/custom_search/taxonomy
 
-; Information added by drush on 2013-03-28
+; Information added by drush on 2013-04-04
 version = "7.x-1.11+9-dev"
 core = "7.x"
 project = "custom_search"
-datestamp = "1364431825"
+datestamp = "1365041489"
 
diff --git a/profiles/commons/modules/contrib/devel/devel.info b/profiles/commons/modules/contrib/devel/devel.info
index 36cfe7e..e716d18 100644
--- a/profiles/commons/modules/contrib/devel/devel.info
+++ b/profiles/commons/modules/contrib/devel/devel.info
@@ -7,9 +7,9 @@ tags[] = developer
 files[] = devel.test
 files[] = devel.mail.inc
 
-; Information added by drupal.org packaging script on 2013-03-06
-version = "7.x-1.3+43-dev"
+; Information added by drupal.org packaging script on 2013-04-03
+version = "7.x-1.3+45-dev"
 core = "7.x"
 project = "devel"
-datestamp = "1362575417"
+datestamp = "1364950099"
 
diff --git a/profiles/commons/modules/contrib/devel/devel.install b/profiles/commons/modules/contrib/devel/devel.install
index 03fc0ae..2247fa5 100644
--- a/profiles/commons/modules/contrib/devel/devel.install
+++ b/profiles/commons/modules/contrib/devel/devel.install
@@ -31,7 +31,6 @@ function devel_enable() {
  * Implements hook_uninstall().
  */
 function devel_uninstall() {
-  variable_del('devel_form_weights');
   variable_del('devel_execution');
   variable_del('dev_timer');
   variable_del('devel_query_display');
@@ -43,6 +42,16 @@ function devel_uninstall() {
   variable_del('devel_switch_user_list_size');
   variable_del('devel_switch_user_include_anon');
   variable_del('devel_switch_user_show_form');
+  variable_del('devel_krumo_skin');
+  variable_del('devel_page_alter');
+  variable_del('devel_query_sort');
+  variable_del('devel_rebuild_theme_registry');
+  variable_del('devel_use_uncompressed_jquery');
+  variable_del('devel_xhprof_directory');
+  variable_del('devel_xhprof_enabled');
+  variable_del('devel_xhprof_url');
+  variable_del('devel_debug_mail_file_format');
+  variable_del('devel_debug_mail_directory');
 
   // Delete the development menu.
   if (module_exists('menu')) {
@@ -106,3 +115,10 @@ function devel_update_7004() {
     variable_set('devel_error_handlers', drupal_map_assoc($error_handlers));
   }
 }
+
+/**
+ * Delete variable 'devel_form_weights' from database as it was removed from code.
+ */
+function devel_update_7005() {
+  variable_del('devel_form_weights');
+}
diff --git a/profiles/commons/modules/contrib/devel/devel_generate/devel_generate.info b/profiles/commons/modules/contrib/devel/devel_generate/devel_generate.info
index 25a0435..fe16908 100644
--- a/profiles/commons/modules/contrib/devel/devel_generate/devel_generate.info
+++ b/profiles/commons/modules/contrib/devel/devel_generate/devel_generate.info
@@ -7,9 +7,9 @@ tags[] = developer
 configure = admin/config/development/generate
 files[] = devel_generate.test
 
-; Information added by drupal.org packaging script on 2013-03-06
-version = "7.x-1.3+43-dev"
+; Information added by drupal.org packaging script on 2013-04-03
+version = "7.x-1.3+45-dev"
 core = "7.x"
 project = "devel"
-datestamp = "1362575417"
+datestamp = "1364950099"
 
diff --git a/profiles/commons/modules/contrib/devel/devel_node_access.info b/profiles/commons/modules/contrib/devel/devel_node_access.info
index c3e94c4..00f2d5d 100644
--- a/profiles/commons/modules/contrib/devel/devel_node_access.info
+++ b/profiles/commons/modules/contrib/devel/devel_node_access.info
@@ -6,9 +6,9 @@ core = 7.x
 configure = admin/config/development/devel
 tags[] = developer
 
-; Information added by drupal.org packaging script on 2013-03-06
-version = "7.x-1.3+43-dev"
+; Information added by drupal.org packaging script on 2013-04-03
+version = "7.x-1.3+45-dev"
 core = "7.x"
 project = "devel"
-datestamp = "1362575417"
+datestamp = "1364950099"
 
diff --git a/profiles/commons/modules/contrib/entityreference/entityreference.info b/profiles/commons/modules/contrib/entityreference/entityreference.info
index 6db20d0..54ca820 100644
--- a/profiles/commons/modules/contrib/entityreference/entityreference.info
+++ b/profiles/commons/modules/contrib/entityreference/entityreference.info
@@ -24,9 +24,9 @@ files[] = tests/entityreference.admin.test
 files[] = tests/entityreference.feeds.test
 
 
-; Information added by drush on 2013-03-28
+; Information added by drush on 2013-04-04
 version = "7.x-1.0+4-dev"
 core = "7.x"
 project = "entityreference"
-datestamp = "1364431824"
+datestamp = "1365041476"
 
diff --git a/profiles/commons/modules/contrib/entityreference/examples/entityreference_behavior_example/entityreference_behavior_example.info b/profiles/commons/modules/contrib/entityreference/examples/entityreference_behavior_example/entityreference_behavior_example.info
index 1754921..6d1b460 100644
--- a/profiles/commons/modules/contrib/entityreference/examples/entityreference_behavior_example/entityreference_behavior_example.info
+++ b/profiles/commons/modules/contrib/entityreference/examples/entityreference_behavior_example/entityreference_behavior_example.info
@@ -5,9 +5,9 @@ package = Fields
 dependencies[] = entityreference
 
 
-; Information added by drush on 2013-03-28
+; Information added by drush on 2013-04-04
 version = "7.x-1.0+4-dev"
 core = "7.x"
 project = "entityreference"
-datestamp = "1364431824"
+datestamp = "1365041476"
 
diff --git a/profiles/commons/modules/contrib/entityreference/tests/modules/entityreference_feeds_test/entityreference_feeds_test.info b/profiles/commons/modules/contrib/entityreference/tests/modules/entityreference_feeds_test/entityreference_feeds_test.info
index 79f8b0d..22b324e 100644
--- a/profiles/commons/modules/contrib/entityreference/tests/modules/entityreference_feeds_test/entityreference_feeds_test.info
+++ b/profiles/commons/modules/contrib/entityreference/tests/modules/entityreference_feeds_test/entityreference_feeds_test.info
@@ -9,9 +9,9 @@ dependencies[] = feeds_ui
 dependencies[] = entityreference
 
 
-; Information added by drush on 2013-03-28
+; Information added by drush on 2013-04-04
 version = "7.x-1.0+4-dev"
 core = "7.x"
 project = "entityreference"
-datestamp = "1364431824"
+datestamp = "1365041476"
 
diff --git a/profiles/commons/modules/contrib/facetapi/contrib/current_search/current_search.block.inc b/profiles/commons/modules/contrib/facetapi/contrib/current_search/current_search.block.inc
index 1fe1151..0aa830a 100644
--- a/profiles/commons/modules/contrib/facetapi/contrib/current_search/current_search.block.inc
+++ b/profiles/commons/modules/contrib/facetapi/contrib/current_search/current_search.block.inc
@@ -75,6 +75,18 @@ function current_search_block_info() {
 }
 
 /**
+ * Implements hook_ctools_block_info().
+ *
+ * @see http://drupal.org/node/1669918
+ */
+function current_search_ctools_block_info($module, $delta, &$info) {
+  // Give the current search blocks it's own categories.
+  $info['category'] = t('Current Search Blocks');
+  // Allow blocks to be used before the search results in Panels.
+  $info['render last'] = TRUE;
+}
+
+/**
  * Returns the content for a facet based on the delta.
  */
 function current_search_block_view($delta = '') {
diff --git a/profiles/commons/modules/contrib/facetapi/contrib/current_search/current_search.info b/profiles/commons/modules/contrib/facetapi/contrib/current_search/current_search.info
index 7519197..d9bee5a 100644
--- a/profiles/commons/modules/contrib/facetapi/contrib/current_search/current_search.info
+++ b/profiles/commons/modules/contrib/facetapi/contrib/current_search/current_search.info
@@ -10,9 +10,9 @@ files[] = plugins/current_search/item_text.inc
 files[] = tests/current_search.test
 configure = admin/config/search/current_search
 
-; Information added by drupal.org packaging script on 2012-09-20
-version = "7.x-1.2"
+; Information added by drupal.org packaging script on 2013-04-02
+version = "7.x-1.3"
 core = "7.x"
 project = "facetapi"
-datestamp = "1348169693"
+datestamp = "1364861711"
 
diff --git a/profiles/commons/modules/contrib/facetapi/contrib/current_search/current_search.module b/profiles/commons/modules/contrib/facetapi/contrib/current_search/current_search.module
index 21fa39c..8ab1da5 100644
--- a/profiles/commons/modules/contrib/facetapi/contrib/current_search/current_search.module
+++ b/profiles/commons/modules/contrib/facetapi/contrib/current_search/current_search.module
@@ -103,7 +103,7 @@ function current_search_theme() {
     ),
     'current_search_sort_settings_table' => array(
       'render element' => 'element',
-      'file' => 'plugins/export_ui/current_search_export_ui.class.php',
+      'file' => 'current_search.theme.inc',
     ),
   );
 }
diff --git a/profiles/commons/modules/contrib/facetapi/contrib/current_search/current_search.theme.inc b/profiles/commons/modules/contrib/facetapi/contrib/current_search/current_search.theme.inc
index 0ec966d..3f11ac1 100644
--- a/profiles/commons/modules/contrib/facetapi/contrib/current_search/current_search.theme.inc
+++ b/profiles/commons/modules/contrib/facetapi/contrib/current_search/current_search.theme.inc
@@ -141,3 +141,39 @@ function theme_current_search_keys($variables) {
 function theme_current_search_deactivate_widget($variables) {
   return ' [X]';
 }
+
+/**
+ * Returns the sort table.
+ *
+ * @param $variables
+ *   An associative array containing:
+ *   - element: A render element representing the form.
+ *
+ * @ingroup themeable
+ */
+function theme_current_search_sort_settings_table($variables) {
+  $output = '';
+
+  // Builds table rows.
+  $rows = array();
+  foreach ($variables['element']['#current_search']['items'] as $name => $settings) {
+    $rows[$name] = array(
+      'class' => array('draggable'),
+      'data' => array(
+        drupal_render($variables['element'][$name]['item']),
+        drupal_render($variables['element'][$name]['weight']),
+        array(
+          'data' => drupal_render($variables['element'][$name]['remove']),
+          'class' => 'current-search-remove-link',
+        ),
+      ),
+    );
+  }
+
+  // Builds table with drabble rows, returns output.
+  $table_id = 'current-search-sort-settings';
+  drupal_add_tabledrag($table_id, 'order', 'sibling', 'current-search-sort-weight');
+  $output .= drupal_render_children($variables['element']);
+  $output .= theme('table', array('rows' => $rows, 'attributes' => array('id' => $table_id)));
+  return $output;
+}
diff --git a/profiles/commons/modules/contrib/facetapi/contrib/current_search/plugins/current_search/item_text.inc b/profiles/commons/modules/contrib/facetapi/contrib/current_search/plugins/current_search/item_text.inc
index 83748a4..a1c813e 100644
--- a/profiles/commons/modules/contrib/facetapi/contrib/current_search/plugins/current_search/item_text.inc
+++ b/profiles/commons/modules/contrib/facetapi/contrib/current_search/plugins/current_search/item_text.inc
@@ -19,7 +19,7 @@ class CurrentSearchItemText extends CurrentSearchItem {
    * Implements CurrentSearchItem::execute().
    */
   public function execute(FacetapiAdapter $adapter) {
-    $data = array('facetapi_adapter' => $adapter);
+    $data = array('facetapi_results' => array('facetapi_adapter' => $adapter));
 
     // Determines plurality of string.
     if ($this->settings['plural']) {
diff --git a/profiles/commons/modules/contrib/facetapi/contrib/current_search/plugins/export_ui/current_search_export_ui.class.php b/profiles/commons/modules/contrib/facetapi/contrib/current_search/plugins/export_ui/current_search_export_ui.class.php
index 7186605..2d65bd3 100644
--- a/profiles/commons/modules/contrib/facetapi/contrib/current_search/plugins/export_ui/current_search_export_ui.class.php
+++ b/profiles/commons/modules/contrib/facetapi/contrib/current_search/plugins/export_ui/current_search_export_ui.class.php
@@ -330,6 +330,13 @@ function current_search_settings_form(&$form, &$form_state) {
   ////
   ////
 
+  // Ensure the theme function is available after upgrading to 7.x-1.3. A cache
+  // clear is all that is needed to fix the broken sort table, however this hack
+  // ensures that the theme function is available without having to do so.
+  // @todo Remove this in later versions of the module.
+  // @see http://drupal.org/node/1795556
+  module_load_include('inc', 'current_search', 'current_search.theme');
+
   $form['plugin_sort'] = array(
     '#type' => 'item',
     '#access' => !empty($item->settings['items']),
@@ -447,41 +454,7 @@ function current_search_settings_form(&$form, &$form_state) {
 
 }
 
-/**
- * Returns the sort table.
- *
- * @param $variables
- *   An associative array containing:
- *   - element: A render element representing the form.
- *
- * @ingroup themeable
- */
-function theme_current_search_sort_settings_table($variables) {
-  $output = '';
-
-  // Builds table rows.
-  $rows = array();
-  foreach ($variables['element']['#current_search']['items'] as $name => $settings) {
-    $rows[$name] = array(
-      'class' => array('draggable'),
-      'data' => array(
-        drupal_render($variables['element'][$name]['item']),
-        drupal_render($variables['element'][$name]['weight']),
-        array(
-          'data' => drupal_render($variables['element'][$name]['remove']),
-          'class' => 'current-search-remove-link',
-        ),
-      ),
-    );
-  }
 
-  // Builds table with drabble rows, returns output.
-  $table_id = 'current-search-sort-settings';
-  drupal_add_tabledrag($table_id, 'order', 'sibling', 'current-search-sort-weight');
-  $output .= drupal_render_children($variables['element']);
-  $output .= theme('table', array('rows' => $rows, 'attributes' => array('id' => $table_id)));
-  return $output;
-}
 
 /**
  * Form validation handler for current_search_settings_form().
diff --git a/profiles/commons/modules/contrib/facetapi/facetapi.admin.inc b/profiles/commons/modules/contrib/facetapi/facetapi.admin.inc
index 4f2a43d..0d08dbd 100644
--- a/profiles/commons/modules/contrib/facetapi/facetapi.admin.inc
+++ b/profiles/commons/modules/contrib/facetapi/facetapi.admin.inc
@@ -384,7 +384,7 @@ function facetapi_facet_display_form($form, &$form_state, FacetapiAdapter $adapt
 
   // We have to set the title due to contextual link magic.
   // @see http://drupal.org/node/1147588#comment-4428940
-  drupal_set_title(t('Configure facet display'));
+  drupal_set_title(t('Configure facet display for @label', array('@label' => $facet['label'])));
 
   // Captures variables and settings for code readability.
   $searcher = $adapter->getSearcher();
@@ -807,14 +807,14 @@ function facetapi_facet_display_form_submit($form, &$form_state) {
  */
 function facetapi_facet_filters_form($form, &$form_state, FacetapiAdapter $adapter, array $realm, array $filters) {
 
-  // We have to set the title due to contextual link magic.
-  // @see http://drupal.org/node/1147588#comment-4428940
-  drupal_set_title(t('Configure facet filters'));
-
   // Loads variables for code readability.
   $facet = $filters['facet'];
   $settings = $adapter->getFacet($facet)->getSettings($realm);
 
+  // We have to set the title due to contextual link magic.
+  // @see http://drupal.org/node/1147588#comment-4428940
+  drupal_set_title(t('Configure facet filters for @label', array('@label' => $facet['label'])));
+
   // Adds Facet API settings, excluded values aren't saved.
   $form['#facetapi'] = array(
     'adapter' => $adapter,
@@ -1053,7 +1053,8 @@ function facetapi_facet_dependencies_form($form, &$form_state, FacetapiAdapter $
 
   // We have to set the title due to contextual link magic.
   // @see http://drupal.org/node/1147588#comment-4428940
-  drupal_set_title(t('Configure facet dependencies'));
+  $facet = facetapi_facet_load(arg(6), $adapter->getSearcher());
+  drupal_set_title(t('Configure facet dependencies for @label', array('@label' => $facet['label'])));
 
   // Adds Facet API settings, excluded values aren't saved.
   $form['#facetapi'] = array(
diff --git a/profiles/commons/modules/contrib/facetapi/facetapi.api.php b/profiles/commons/modules/contrib/facetapi/facetapi.api.php
index 1715251..a9a432f 100644
--- a/profiles/commons/modules/contrib/facetapi/facetapi.api.php
+++ b/profiles/commons/modules/contrib/facetapi/facetapi.api.php
@@ -447,9 +447,14 @@ function hook_facetapi_url_processors() {
  *   associative array keyed by "handler" containing:
  *   - label: The human readable name of the plugin displayed in the admin UI.
  *   - class: The name of the plugin class.
- *   - query types: An array of query-types that this widget is compatible with
+ *   - query types: An array of query-types that this widget is compatible with.
+ *   - requirements: An array of requirements that must pass in order for this
+ *     widget to be displayed. Requirements are associative arrays keyed by
+ *     function to requirement options. The value defaults to a requirement that
+ *     the "element type" realm property is equal to "links".
  *
  * @see FacetapiWidget
+ * @see facetapi_get_widgets()
  */
 function hook_facetapi_widgets() {
   return array(
@@ -458,6 +463,9 @@ function hook_facetapi_widgets() {
         'label' => t('Links'),
         'class' => 'FacetapiWidgetLinks',
         'query types' => array('term', 'date'),
+        'requirements' => array(
+          'facetapi_requirement_realm_property' => array('element type' => 'links')
+        ),
       ),
     ),
   );
diff --git a/profiles/commons/modules/contrib/facetapi/facetapi.block.inc b/profiles/commons/modules/contrib/facetapi/facetapi.block.inc
index 55a38be..21b11bf 100644
--- a/profiles/commons/modules/contrib/facetapi/facetapi.block.inc
+++ b/profiles/commons/modules/contrib/facetapi/facetapi.block.inc
@@ -195,7 +195,7 @@ function facetapi_check_block_visibility($delta) {
 function facetapi_get_delta_map() {
   $map = &drupal_static(__FUNCTION__);
   if (NULL === $map) {
-    if ($data = cache_get('facetapi:delta_map')) {
+    if ($data = cache_get('facetapi:delta_map') && !empty($data->data)) {
       $map = $data->data;
     }
     else {
diff --git a/profiles/commons/modules/contrib/facetapi/facetapi.info b/profiles/commons/modules/contrib/facetapi/facetapi.info
index 482aded..b17571a 100644
--- a/profiles/commons/modules/contrib/facetapi/facetapi.info
+++ b/profiles/commons/modules/contrib/facetapi/facetapi.info
@@ -18,9 +18,9 @@ files[] = plugins/facetapi/widget_links.inc
 files[] = tests/facetapi_test.plugins.inc
 files[] = tests/facetapi.test
 
-; Information added by drupal.org packaging script on 2012-09-20
-version = "7.x-1.2"
+; Information added by drupal.org packaging script on 2013-04-02
+version = "7.x-1.3"
 core = "7.x"
 project = "facetapi"
-datestamp = "1348169693"
+datestamp = "1364861711"
 
diff --git a/profiles/commons/modules/contrib/facetapi/facetapi.js b/profiles/commons/modules/contrib/facetapi/facetapi.js
index 1fed227..e2c5b69 100644
--- a/profiles/commons/modules/contrib/facetapi/facetapi.js
+++ b/profiles/commons/modules/contrib/facetapi/facetapi.js
@@ -88,17 +88,23 @@ Drupal.facetapi.makeCheckbox = function() {
       // Not a facet link.
       return;
     }
-    var checkbox = active ? $('<input type="checkbox" class="facetapi-checkbox" checked="true" />') : $('<input type="checkbox" class="facetapi-checkbox" />');
+    // Derive an ID and label for the checkbox based on the associated link.
+    // The label is required for accessibility, but it duplicates information
+    // in the link itself, so it should only be shown to screen reader users.
+    var id = this.id + '--checkbox';
+    var description = $link.find('.element-invisible').html();
+    var label = $('<label class="element-invisible" for="' + id + '">' + description + '</label>');
+    var checkbox = active ? $('<input type="checkbox" class="facetapi-checkbox" id="' + id + '" checked="true" />') : $('<input type="checkbox" class="facetapi-checkbox" id="' + id + '" />');
     // Get the href of the link that is this DOM object.
     var href = $link.attr('href');
     redirect = new Drupal.facetapi.Redirect(href);
     checkbox.click($.proxy(redirect, 'gotoHref'));
     if (active) {
-      // Add the checkbox, hide the link.
-      $link.before(checkbox).hide();
+      // Add the checkbox and label, hide the link.
+      $link.before(label).before(checkbox).hide();
     }
     else {
-      $link.before(checkbox);
+      $link.before(label).before(checkbox);
     }
     $link.removeClass('facetapi-checkbox').addClass('facetapi-checkbox-processed');
   }
diff --git a/profiles/commons/modules/contrib/facetapi/facetapi.theme.inc b/profiles/commons/modules/contrib/facetapi/facetapi.theme.inc
index 097a6fa..d392dcb 100644
--- a/profiles/commons/modules/contrib/facetapi/facetapi.theme.inc
+++ b/profiles/commons/modules/contrib/facetapi/facetapi.theme.inc
@@ -33,7 +33,7 @@ function theme_facetapi_title($variables) {
 }
 
 /**
- * Returns HTML for an active facet item.
+ * Returns HTML for an inactive facet item.
  *
  * @param $variables
  *   An associative array containing the keys 'text', 'path', 'options', and
@@ -68,7 +68,7 @@ function theme_facetapi_link_inactive($variables) {
 }
 
 /**
- * Returns HTML for the inactive facet item's count.
+ * Returns HTML for the active facet item's count.
  *
  * @param $variables
  *   An associative array containing:
@@ -146,5 +146,9 @@ function theme_facetapi_deactivate_widget($variables) {
 function theme_facetapi_accessible_markup($variables) {
   $vars = array('@text' => $variables['text']);
   $text = ($variables['active']) ? t('Remove @text filter', $vars) : t('Apply @text filter', $vars);
-  return '<span class="element-invisible">' . $text . '</span>';
+  // Add spaces before and after the text, since other content may be displayed
+  // inline with this and we don't want the words to run together. However, the
+  // spaces must be inside the <span> so as not to disrupt the layout for
+  // sighted users.
+  return '<span class="element-invisible"> ' . $text . ' </span>';
 }
diff --git a/profiles/commons/modules/contrib/facetapi/facetapi.tokens.inc b/profiles/commons/modules/contrib/facetapi/facetapi.tokens.inc
index 5d4534e..24cf072 100644
--- a/profiles/commons/modules/contrib/facetapi/facetapi.tokens.inc
+++ b/profiles/commons/modules/contrib/facetapi/facetapi.tokens.inc
@@ -124,9 +124,9 @@ function facetapi_token_info() {
 function facetapi_tokens($type, $tokens, array $data = array(), array $options = array()) {
   $replacements = array();
 
-  if ('facetapi_results' == $type && !empty($data['facetapi_adapter'])) {
+  if ('facetapi_results' == $type && !empty($data['facetapi_results']['facetapi_adapter'])) {
 
-    $adapter = $data['facetapi_adapter'];
+    $adapter = $data['facetapi_results']['facetapi_adapter'];
     foreach ($tokens as $name => $original) {
       switch ($name) {
 
diff --git a/profiles/commons/modules/contrib/facetapi/plugins/facetapi/adapter.inc b/profiles/commons/modules/contrib/facetapi/plugins/facetapi/adapter.inc
index 67adce5..0ace511 100644
--- a/profiles/commons/modules/contrib/facetapi/plugins/facetapi/adapter.inc
+++ b/profiles/commons/modules/contrib/facetapi/plugins/facetapi/adapter.inc
@@ -211,8 +211,19 @@ abstract class FacetapiAdapter {
     // Get the url processor plugin class. If the class for the passed plugin
     // cannot be retrieved, log the error and load the standard plugin.
     if (!$class = ctools_plugin_load_class('facetapi', 'url_processors', $id, 'handler')) {
-      watchdog('facetapi', 'Url processor plugin "@id" not valid, loading standard plugin.', array('@id' => $id), WATCHDOG_ERROR);
-      $class = ctools_plugin_load_class('facetapi', 'url_processors', 'standard', 'handler');
+      if ('standard' != $id) {
+        watchdog('facetapi', 'Url processor plugin "@id" not valid, loading standard plugin.', array('@id' => $id), WATCHDOG_ERROR);
+        $class = ctools_plugin_load_class('facetapi', 'url_processors', 'standard', 'handler');
+      }
+      else {
+        // The plugins are not registered, probably because CTools is weighted
+        // heavier than Facet API. It is still unclear why this even matters.
+        // Let's raise a call to action and explicitly set the class to prevent
+        // fatal errors.
+        // @see http://drupal.org/node/1816110
+        watchdog('facetapi', 'Url processor plugins are not yet registered, loading standard plugin. Please visit <a href="@url">@url</a> for more information.', array('@id' => $id, '@url' => 'http://drupal.org/node/1816110'), WATCHDOG_ERROR);
+        $class = 'FacetapiUrlProcessorStandard';
+      }
     }
 
     // Instantiates and initializes plugin.
@@ -1044,7 +1055,6 @@ abstract class FacetapiAdapter {
     $this->processFacets();
 
     // Add JavaScript, initializes the realm specific render array.
-    drupal_add_js(drupal_get_path('module', 'facetapi') . '/facetapi.js');
     $build = array(
       '#adapter' => $this,
       '#realm' => $realm,
@@ -1053,7 +1063,7 @@ abstract class FacetapiAdapter {
     // Iterate over the realm's enabled facets and build their render arrays.
     foreach ($this->getEnabledFacets($realm['name']) as $facet) {
       // Continue to the next facet if this one failed its dependencies.
-      if (!$this->dependenciesPassed[$facet['name']]) {
+      if (empty($this->dependenciesPassed[$facet['name']])) {
         continue;
       }
 
diff --git a/profiles/commons/modules/contrib/facetapi/plugins/facetapi/widget.inc b/profiles/commons/modules/contrib/facetapi/plugins/facetapi/widget.inc
index c84b2fa..e18c3db 100644
--- a/profiles/commons/modules/contrib/facetapi/plugins/facetapi/widget.inc
+++ b/profiles/commons/modules/contrib/facetapi/plugins/facetapi/widget.inc
@@ -143,6 +143,9 @@ abstract class FacetapiWidget {
         ),
         'id' => drupal_html_id("facetapi-facet-$searcher-{$this->realm['name']}-{$this->facet['name']}"),
       ),
+      '#attached' => array(
+        'js' => array(drupal_get_path('module', 'facetapi') . '/facetapi.js'),
+      ),
     );
 
     // Apply sorting algorithms to the render array.
diff --git a/profiles/commons/modules/contrib/facetapi/plugins/facetapi/widget_links.inc b/profiles/commons/modules/contrib/facetapi/plugins/facetapi/widget_links.inc
index fa4862c..81075b2 100644
--- a/profiles/commons/modules/contrib/facetapi/plugins/facetapi/widget_links.inc
+++ b/profiles/commons/modules/contrib/facetapi/plugins/facetapi/widget_links.inc
@@ -114,6 +114,9 @@ class FacetapiWidgetLinks extends FacetapiWidget {
         $variables['options']['attributes']['class'][] = 'facetapi-zero-results';
       }
 
+      // Add an ID to identify this link.
+      $variables['options']['attributes']['id'] = drupal_html_id('facetapi-link');
+
       // If the item has no children, it is a leaf.
       if (empty($item['#item_children'])) {
         $row['class'][] = 'leaf';
diff --git a/profiles/commons/modules/contrib/facetapi/tests/facetapi_test.info b/profiles/commons/modules/contrib/facetapi/tests/facetapi_test.info
index 9800599..3b8edd7 100644
--- a/profiles/commons/modules/contrib/facetapi/tests/facetapi_test.info
+++ b/profiles/commons/modules/contrib/facetapi/tests/facetapi_test.info
@@ -5,9 +5,9 @@ package = Testing
 core = 7.x
 hidden = TRUE
 
-; Information added by drupal.org packaging script on 2012-09-20
-version = "7.x-1.2"
+; Information added by drupal.org packaging script on 2013-04-02
+version = "7.x-1.3"
 core = "7.x"
 project = "facetapi"
-datestamp = "1348169693"
+datestamp = "1364861711"
 
diff --git a/profiles/commons/modules/contrib/facetapi/tests/facetapi_test.module b/profiles/commons/modules/contrib/facetapi/tests/facetapi_test.module
index 7fa49b6..c1ef37c 100644
--- a/profiles/commons/modules/contrib/facetapi/tests/facetapi_test.module
+++ b/profiles/commons/modules/contrib/facetapi/tests/facetapi_test.module
@@ -117,7 +117,7 @@ function facetapi_test_facetapi_facet_info($searcher_info) {
 
     $facets['colon:test'] = array(
       'label' => t('Colon test'),
-      'description' => t('Test facets names with colonss.'),
+      'description' => t('Test facets names with colons.'),
       'dependency plugins' => array('role'),
     );
 
@@ -134,8 +134,8 @@ function facetapi_test_facetapi_facet_info($searcher_info) {
     );
 
     $facets['hierarchical'] = array(
-      'label' => t('Colon test'),
-      'description' => t('Test facets names with colonss.'),
+      'label' => t('Hierarchical test'),
+      'description' => t('Test hierarchical facets.'),
       'dependency plugins' => array('role'),
       'hierarchy callback' => 'facetapi_test_process_hierarchy',
     );
diff --git a/profiles/commons/modules/contrib/facetapi/tests/facetapi_test.plugins.inc b/profiles/commons/modules/contrib/facetapi/tests/facetapi_test.plugins.inc
index 4570f4e..f480af8 100644
--- a/profiles/commons/modules/contrib/facetapi/tests/facetapi_test.plugins.inc
+++ b/profiles/commons/modules/contrib/facetapi/tests/facetapi_test.plugins.inc
@@ -34,6 +34,13 @@ class FacetapiTestAdapter extends FacetapiAdapter {
   }
 
   /**
+   * Overrides FacetapiAdapter::getSearchPath().
+   */
+  public function getSearchPath() {
+    return 'facetapi_test/search';
+  }
+
+  /**
    * Sets the result count.
    *
    * The test searcher does not use the core pager APIs, so we use this method
diff --git a/profiles/commons/modules/contrib/features/features.info b/profiles/commons/modules/contrib/features/features.info
index 42d9aaa..d523039 100644
--- a/profiles/commons/modules/contrib/features/features.info
+++ b/profiles/commons/modules/contrib/features/features.info
@@ -5,9 +5,9 @@ package = "Features"
 files[] = tests/features.test
 
 
-; Information added by drush on 2013-03-28
+; Information added by drush on 2013-04-04
 version = "7.x-2.0-beta1+5-dev"
 core = "7.x"
 project = "features"
-datestamp = "1364431824"
+datestamp = "1365041473"
 
diff --git a/profiles/commons/modules/contrib/features/tests/features_test.info b/profiles/commons/modules/contrib/features/tests/features_test.info
index dbd229e..033e0aa 100644
--- a/profiles/commons/modules/contrib/features/tests/features_test.info
+++ b/profiles/commons/modules/contrib/features/tests/features_test.info
@@ -21,9 +21,9 @@ features[views_view][] = features_test
 hidden = TRUE
 
 
-; Information added by drush on 2013-03-28
+; Information added by drush on 2013-04-04
 version = "7.x-2.0-beta1+5-dev"
 core = "7.x"
 project = "features"
-datestamp = "1364431824"
+datestamp = "1365041473"
 
diff --git a/profiles/commons/modules/contrib/message/message.info b/profiles/commons/modules/contrib/message/message.info
index 8fa786b..777522b 100644
--- a/profiles/commons/modules/contrib/message/message.info
+++ b/profiles/commons/modules/contrib/message/message.info
@@ -23,9 +23,9 @@ files[] = includes/views/handlers/message_handler_filter_message_type.inc
 files[] = includes/views/handlers/message_handler_filter_message_type_category.inc
 
 
-; Information added by drush on 2013-03-28
+; Information added by drush on 2013-04-04
 version = "7.x-1.7+2-dev"
 core = "7.x"
 project = "message"
-datestamp = "1364431823"
+datestamp = "1365041475"
 
diff --git a/profiles/commons/modules/contrib/message/message_example/message_example.info b/profiles/commons/modules/contrib/message/message_example/message_example.info
index 760c183..04933ee 100644
--- a/profiles/commons/modules/contrib/message/message_example/message_example.info
+++ b/profiles/commons/modules/contrib/message/message_example/message_example.info
@@ -25,9 +25,9 @@ features[views_view][] = "message_example"
 stylesheets[all][] = "css/message_example.css"
 
 
-; Information added by drush on 2013-03-28
+; Information added by drush on 2013-04-04
 version = "7.x-1.7+2-dev"
 core = "7.x"
 project = "message"
-datestamp = "1364431823"
+datestamp = "1365041475"
 
diff --git a/profiles/commons/modules/contrib/message/message_og_example/message_og_example.info b/profiles/commons/modules/contrib/message/message_og_example/message_og_example.info
index 34e26dc..3518d75 100644
--- a/profiles/commons/modules/contrib/message/message_og_example/message_og_example.info
+++ b/profiles/commons/modules/contrib/message/message_og_example/message_og_example.info
@@ -21,9 +21,9 @@ package = "Message"
 php = "5.2.4"
 
 
-; Information added by drush on 2013-03-28
+; Information added by drush on 2013-04-04
 version = "7.x-1.7+2-dev"
 core = "7.x"
 project = "message"
-datestamp = "1364431823"
+datestamp = "1365041475"
 
diff --git a/profiles/commons/modules/contrib/message_notify/message_notify.info b/profiles/commons/modules/contrib/message_notify/message_notify.info
index 21d60bb..34630ab 100644
--- a/profiles/commons/modules/contrib/message_notify/message_notify.info
+++ b/profiles/commons/modules/contrib/message_notify/message_notify.info
@@ -12,9 +12,9 @@ files[] = plugins/notifier/abstract.inc
 ; Tests
 files[] = message_notify.test
 
-; Information added by drush on 2013-03-28
+; Information added by drush on 2013-04-04
 version = "7.x-2.3+3-dev"
 core = "7.x"
 project = "message_notify"
-datestamp = "1364431823"
+datestamp = "1365041465"
 
diff --git a/profiles/commons/modules/contrib/message_notify/message_notify_example/message_notify_example.info b/profiles/commons/modules/contrib/message_notify/message_notify_example/message_notify_example.info
index 9ec83b6..f3a0ec7 100644
--- a/profiles/commons/modules/contrib/message_notify/message_notify_example/message_notify_example.info
+++ b/profiles/commons/modules/contrib/message_notify/message_notify_example/message_notify_example.info
@@ -17,9 +17,9 @@ features[message_type][] = "comment_insert"
 features[views_view][] = "message_notify_example"
 
 
-; Information added by drush on 2013-03-28
+; Information added by drush on 2013-04-04
 version = "7.x-2.3+3-dev"
 core = "7.x"
 project = "message_notify"
-datestamp = "1364431823"
+datestamp = "1365041465"
 
diff --git a/profiles/commons/modules/contrib/message_notify/tests/message_notify_test.info b/profiles/commons/modules/contrib/message_notify/tests/message_notify_test.info
index 077eb15..21ad231 100644
--- a/profiles/commons/modules/contrib/message_notify/tests/message_notify_test.info
+++ b/profiles/commons/modules/contrib/message_notify/tests/message_notify_test.info
@@ -7,9 +7,9 @@ hidden = TRUE
 files[] = plugins/notifier/MessageNotifierTest.class.php
 
 
-; Information added by drush on 2013-03-28
+; Information added by drush on 2013-04-04
 version = "7.x-2.3+3-dev"
 core = "7.x"
 project = "message_notify"
-datestamp = "1364431823"
+datestamp = "1365041465"
 
diff --git a/profiles/commons/modules/contrib/message_subscribe/message_subscribe.info b/profiles/commons/modules/contrib/message_subscribe/message_subscribe.info
index f298e59..306d30f 100644
--- a/profiles/commons/modules/contrib/message_subscribe/message_subscribe.info
+++ b/profiles/commons/modules/contrib/message_subscribe/message_subscribe.info
@@ -12,9 +12,9 @@ dependencies[] = message_notify
 files[] = message_subscribe.test
 
 
-; Information added by drush on 2013-03-28
+; Information added by drush on 2013-04-04
 version = "7.x-1.0-alpha3+3-dev"
 core = "7.x"
 project = "message_subscribe"
-datestamp = "1364431823"
+datestamp = "1365041463"
 
diff --git a/profiles/commons/modules/contrib/message_subscribe/message_subscribe_email/message_subscribe_email.info b/profiles/commons/modules/contrib/message_subscribe/message_subscribe_email/message_subscribe_email.info
index f3d8cc1..0a3b348 100644
--- a/profiles/commons/modules/contrib/message_subscribe/message_subscribe_email/message_subscribe_email.info
+++ b/profiles/commons/modules/contrib/message_subscribe/message_subscribe_email/message_subscribe_email.info
@@ -9,9 +9,9 @@ dependencies[] = message_subscribe_ui
 dependencies[] = views
 
 
-; Information added by drush on 2013-03-28
+; Information added by drush on 2013-04-04
 version = "7.x-1.0-alpha3+3-dev"
 core = "7.x"
 project = "message_subscribe"
-datestamp = "1364431823"
+datestamp = "1365041463"
 
diff --git a/profiles/commons/modules/contrib/message_subscribe/message_subscribe_ui/message_subscribe_ui.info b/profiles/commons/modules/contrib/message_subscribe/message_subscribe_ui/message_subscribe_ui.info
index e2553d8..284c3a4 100644
--- a/profiles/commons/modules/contrib/message_subscribe/message_subscribe_ui/message_subscribe_ui.info
+++ b/profiles/commons/modules/contrib/message_subscribe/message_subscribe_ui/message_subscribe_ui.info
@@ -15,9 +15,9 @@ features[views_view][] = subscribe_taxonomy_term
 features[views_view][] = subscribe_user
 
 
-; Information added by drush on 2013-03-28
+; Information added by drush on 2013-04-04
 version = "7.x-1.0-alpha3+3-dev"
 core = "7.x"
 project = "message_subscribe"
-datestamp = "1364431823"
+datestamp = "1365041463"
 
diff --git a/profiles/commons/modules/contrib/oauthconnector/modules/oauth2/oauth2_common.info b/profiles/commons/modules/contrib/oauthconnector/modules/oauth2/oauth2_common.info
index 602fbdc..9631c55 100644
--- a/profiles/commons/modules/contrib/oauthconnector/modules/oauth2/oauth2_common.info
+++ b/profiles/commons/modules/contrib/oauthconnector/modules/oauth2/oauth2_common.info
@@ -7,9 +7,9 @@ files[] = lib/DrupalOAuth2Client.inc
 
 
 
-; Information added by drush on 2013-03-28
+; Information added by drush on 2013-04-04
 version = "7.x-1.0-beta1+6-dev"
 core = "7.x"
 project = "oauthconnector"
-datestamp = "1364431822"
+datestamp = "1365041456"
 
diff --git a/profiles/commons/modules/contrib/oauthconnector/oauthconnector.info b/profiles/commons/modules/contrib/oauthconnector/oauthconnector.info
index e7799d7..d5205dd 100644
--- a/profiles/commons/modules/contrib/oauthconnector/oauthconnector.info
+++ b/profiles/commons/modules/contrib/oauthconnector/oauthconnector.info
@@ -10,9 +10,9 @@ dependencies[] = http_client_oauth
 dependencies[] = ctools
 
 
-; Information added by drush on 2013-03-28
+; Information added by drush on 2013-04-04
 version = "7.x-1.0-beta1+6-dev"
 core = "7.x"
 project = "oauthconnector"
-datestamp = "1364431822"
+datestamp = "1365041456"
 
diff --git a/profiles/commons/modules/contrib/quicktabs/quicktabs.info b/profiles/commons/modules/contrib/quicktabs/quicktabs.info
index 9843d86..eb69d2d 100644
--- a/profiles/commons/modules/contrib/quicktabs/quicktabs.info
+++ b/profiles/commons/modules/contrib/quicktabs/quicktabs.info
@@ -9,9 +9,9 @@ configure = admin/structure/quicktabs
 dependencies[] = "ctools"
 
 
-; Information added by drush on 2013-03-28
+; Information added by drush on 2013-04-04
 version = "7.x-3.4+2-dev"
 core = "7.x"
 project = "quicktabs"
-datestamp = "1364431822"
+datestamp = "1365041448"
 
diff --git a/profiles/commons/modules/contrib/quicktabs/quicktabs_tabstyles/quicktabs_tabstyles.info b/profiles/commons/modules/contrib/quicktabs/quicktabs_tabstyles/quicktabs_tabstyles.info
index ac7ec21..80b744c 100644
--- a/profiles/commons/modules/contrib/quicktabs/quicktabs_tabstyles/quicktabs_tabstyles.info
+++ b/profiles/commons/modules/contrib/quicktabs/quicktabs_tabstyles/quicktabs_tabstyles.info
@@ -4,9 +4,9 @@ core = 7.x
 configure=admin/structure/quicktabs/styles
 dependencies[] = "quicktabs"
 
-; Information added by drush on 2013-03-28
+; Information added by drush on 2013-04-04
 version = "7.x-3.4+2-dev"
 core = "7.x"
 project = "quicktabs"
-datestamp = "1364431822"
+datestamp = "1365041448"
 
diff --git a/profiles/commons/modules/contrib/radioactivity/features/radioactivitydefaults/radioactivitydefaults.info b/profiles/commons/modules/contrib/radioactivity/features/radioactivitydefaults/radioactivitydefaults.info
index d96f784..35e6119 100644
--- a/profiles/commons/modules/contrib/radioactivity/features/radioactivitydefaults/radioactivitydefaults.info
+++ b/profiles/commons/modules/contrib/radioactivity/features/radioactivitydefaults/radioactivitydefaults.info
@@ -12,9 +12,9 @@ features[radioactivity_decay_profile][] = default_now
 features[radioactivity_decay_profile][] = default_weekly
 
 
-; Information added by drush on 2013-03-28
+; Information added by drush on 2013-04-04
 version = "7.x-2.8+1-dev"
 core = "7.x"
 project = "radioactivity"
-datestamp = "1364431821"
+datestamp = "1365041453"
 
diff --git a/profiles/commons/modules/contrib/radioactivity/radioactivity.info b/profiles/commons/modules/contrib/radioactivity/radioactivity.info
index aebc56d..2d6b8ef 100644
--- a/profiles/commons/modules/contrib/radioactivity/radioactivity.info
+++ b/profiles/commons/modules/contrib/radioactivity/radioactivity.info
@@ -13,9 +13,9 @@ files[] = includes/RadioactivityMemcachedIncidentStorage.inc
 files[] = includes/RadioactivityIncident.inc
 
 
-; Information added by drush on 2013-03-28
+; Information added by drush on 2013-04-04
 version = "7.x-2.8+1-dev"
 core = "7.x"
 project = "radioactivity"
-datestamp = "1364431821"
+datestamp = "1365041453"
 
diff --git a/profiles/commons/modules/contrib/registration/modules/registration_entity_access/registration_entity_access.info b/profiles/commons/modules/contrib/registration/modules/registration_entity_access/registration_entity_access.info
index 367397d..6f93664 100644
--- a/profiles/commons/modules/contrib/registration/modules/registration_entity_access/registration_entity_access.info
+++ b/profiles/commons/modules/contrib/registration/modules/registration_entity_access/registration_entity_access.info
@@ -6,9 +6,9 @@ core = 7.x
 dependencies[] = registration
 
 
-; Information added by drush on 2013-03-28
+; Information added by drush on 2013-04-04
 version = "7.x-1.0+3-dev"
 core = "7.x"
 project = "registration"
-datestamp = "1364431821"
+datestamp = "1365041453"
 
diff --git a/profiles/commons/modules/contrib/registration/modules/registration_views/registration_views.info b/profiles/commons/modules/contrib/registration/modules/registration_views/registration_views.info
index dd70c76..629731f 100644
--- a/profiles/commons/modules/contrib/registration/modules/registration_views/registration_views.info
+++ b/profiles/commons/modules/contrib/registration/modules/registration_views/registration_views.info
@@ -19,9 +19,9 @@ files[] = includes/registration_handler_field_entity_settings_link.inc
 files[] = includes/registration_handler_field_entity_registration_status.inc
 
 
-; Information added by drush on 2013-03-28
+; Information added by drush on 2013-04-04
 version = "7.x-1.0+3-dev"
 core = "7.x"
 project = "registration"
-datestamp = "1364431821"
+datestamp = "1365041453"
 
diff --git a/profiles/commons/modules/contrib/registration/modules/registration_waitlist/registration_waitlist.info b/profiles/commons/modules/contrib/registration/modules/registration_waitlist/registration_waitlist.info
index df4596e..3d4f187 100644
--- a/profiles/commons/modules/contrib/registration/modules/registration_waitlist/registration_waitlist.info
+++ b/profiles/commons/modules/contrib/registration/modules/registration_waitlist/registration_waitlist.info
@@ -8,9 +8,9 @@ dependencies[] = registration
 files[] = registration_waitlist.test
 
 
-; Information added by drush on 2013-03-28
+; Information added by drush on 2013-04-04
 version = "7.x-1.0+3-dev"
 core = "7.x"
 project = "registration"
-datestamp = "1364431821"
+datestamp = "1365041453"
 
diff --git a/profiles/commons/modules/contrib/registration/registration.info b/profiles/commons/modules/contrib/registration/registration.info
index a8eed6d..8002ab7 100644
--- a/profiles/commons/modules/contrib/registration/registration.info
+++ b/profiles/commons/modules/contrib/registration/registration.info
@@ -16,9 +16,9 @@ files[] = lib/registration_type.ui_controller.inc
 
 
 
-; Information added by drush on 2013-03-28
+; Information added by drush on 2013-04-04
 version = "7.x-1.0+3-dev"
 core = "7.x"
 project = "registration"
-datestamp = "1364431821"
+datestamp = "1365041453"
 
diff --git a/profiles/commons/modules/contrib/registration/tests/registration_test_api/registration_test_api.info b/profiles/commons/modules/contrib/registration/tests/registration_test_api/registration_test_api.info
index bd9da04..1277ea5 100644
--- a/profiles/commons/modules/contrib/registration/tests/registration_test_api/registration_test_api.info
+++ b/profiles/commons/modules/contrib/registration/tests/registration_test_api/registration_test_api.info
@@ -6,9 +6,9 @@ core = 7.x
 dependencies[] = registration
 hidden = TRUE
 
-; Information added by drush on 2013-03-28
+; Information added by drush on 2013-04-04
 version = "7.x-1.0+3-dev"
 core = "7.x"
 project = "registration"
-datestamp = "1364431821"
+datestamp = "1365041453"
 
diff --git a/profiles/commons/modules/contrib/strongarm/strongarm.info b/profiles/commons/modules/contrib/strongarm/strongarm.info
index 0bb52c5..0b5eecb 100644
--- a/profiles/commons/modules/contrib/strongarm/strongarm.info
+++ b/profiles/commons/modules/contrib/strongarm/strongarm.info
@@ -8,9 +8,9 @@ files[] = strongarm.install
 files[] = strongarm.module
 
 
-; Information added by drush on 2013-03-28
+; Information added by drush on 2013-04-04
 version = "7.x-2.0+2-dev"
 core = "7.x"
 project = "strongarm"
-datestamp = "1364431820"
+datestamp = "1365041432"
 
diff --git a/profiles/commons/modules/contrib/timeago/timeago.info b/profiles/commons/modules/contrib/timeago/timeago.info
index 1c3d0da..699bd3c 100644
--- a/profiles/commons/modules/contrib/timeago/timeago.info
+++ b/profiles/commons/modules/contrib/timeago/timeago.info
@@ -7,9 +7,9 @@ files[] = timeago.install
 files[] = timeago.module
 
 
-; Information added by drush on 2013-03-28
+; Information added by drush on 2013-04-04
 version = "7.x-2.1+6-dev"
 core = "7.x"
 project = "timeago"
-datestamp = "1364431820"
+datestamp = "1365041434"
 
diff --git a/profiles/commons/themes/contrib/adaptivetheme/at_admin/adaptivetheme_admin.info b/profiles/commons/themes/contrib/adaptivetheme/at_admin/adaptivetheme_admin.info
index 2a533b6..652a2a4 100755
--- a/profiles/commons/themes/contrib/adaptivetheme/at_admin/adaptivetheme_admin.info
+++ b/profiles/commons/themes/contrib/adaptivetheme/at_admin/adaptivetheme_admin.info
@@ -349,9 +349,9 @@
   settings[custom_css] = ''
 
 
-; Information added by drush on 2013-03-28
+; Information added by drush on 2013-04-04
 version = "7.x-3.1+55-dev"
 core = "7.x"
 project = "adaptivetheme"
-datestamp = "1364431817"
+datestamp = "1365041546"
 
diff --git a/profiles/commons/themes/contrib/adaptivetheme/at_core/adaptivetheme.info b/profiles/commons/themes/contrib/adaptivetheme/at_core/adaptivetheme.info
index f10a092..e10321d 100755
--- a/profiles/commons/themes/contrib/adaptivetheme/at_core/adaptivetheme.info
+++ b/profiles/commons/themes/contrib/adaptivetheme/at_core/adaptivetheme.info
@@ -375,9 +375,9 @@
   settings[custom_css] = ''
 
 
-; Information added by drush on 2013-03-28
+; Information added by drush on 2013-04-04
 version = "7.x-3.1+55-dev"
 core = "7.x"
 project = "adaptivetheme"
-datestamp = "1364431817"
+datestamp = "1365041546"
 
diff --git a/profiles/commons/themes/contrib/adaptivetheme/at_subtheme/adaptivetheme_subtheme.info b/profiles/commons/themes/contrib/adaptivetheme/at_subtheme/adaptivetheme_subtheme.info
index 8b4f7a3..6dc31e6 100755
--- a/profiles/commons/themes/contrib/adaptivetheme/at_subtheme/adaptivetheme_subtheme.info
+++ b/profiles/commons/themes/contrib/adaptivetheme/at_subtheme/adaptivetheme_subtheme.info
@@ -454,9 +454,9 @@
   settings[custom_css] = ''
 
 
-; Information added by drush on 2013-03-28
+; Information added by drush on 2013-04-04
 version = "7.x-3.1+55-dev"
 core = "7.x"
 project = "adaptivetheme"
-datestamp = "1364431817"
+datestamp = "1365041546"
 
diff --git a/profiles/commons/themes/contrib/commons_origins/.gitignore b/profiles/commons/themes/contrib/commons_origins/.gitignore
index b4b2957..6173eab 100644
--- a/profiles/commons/themes/contrib/commons_origins/.gitignore
+++ b/profiles/commons/themes/contrib/commons_origins/.gitignore
@@ -1 +1,2 @@
-/.sass-cache/
\ No newline at end of file
+/.sass-cache/
+.DS_Store
diff --git a/profiles/commons/themes/contrib/commons_origins/commons_origins.info b/profiles/commons/themes/contrib/commons_origins/commons_origins.info
index 4f7f72b..31e19a7 100644
--- a/profiles/commons/themes/contrib/commons_origins/commons_origins.info
+++ b/profiles/commons/themes/contrib/commons_origins/commons_origins.info
@@ -421,9 +421,9 @@
   ; Custom CSS
   settings[custom_css] = ''
 
-; Information added by drupal.org packaging script on 2013-02-25
-version = "7.x-3.0"
+; Information added by drupal.org packaging script on 2013-04-04
+version = "7.x-3.2"
 core = "7.x"
 project = "commons_origins"
-datestamp = "1361820335"
+datestamp = "1365037516"
 
diff --git a/profiles/commons/themes/contrib/commons_origins/css/global.base.css b/profiles/commons/themes/contrib/commons_origins/css/global.base.css
index f766985..2aaae7d 100644
--- a/profiles/commons/themes/contrib/commons_origins/css/global.base.css
+++ b/profiles/commons/themes/contrib/commons_origins/css/global.base.css
@@ -79,7 +79,7 @@ input[type="button"] {
   -webkit-background-clip: padding;
   -moz-background-clip: padding;
   background-clip: padding-box;
-  background: #dddddd url('../images/button.png?1361802894') repeat-x;
+  background: #dddddd url('../images/button.png?1363371593') repeat-x;
   background-image: -webkit-gradient(linear, 50% 0%, 50% 100%, color-stop(0%, #ffffff), color-stop(100%, #dddddd));
   background-image: -webkit-linear-gradient(#ffffff, #dddddd);
   background-image: -moz-linear-gradient(#ffffff, #dddddd);
@@ -313,7 +313,7 @@ optgroup::-moz-focus-inner {
 .ie6_button,
 * html button,
 * html a.button {
-  background: #dddddd url('../images/button.png?1361802894') repeat-x;
+  background: #dddddd url('../images/button.png?1363371593') repeat-x;
   border: 1px solid;
   border-color: #dddddd #bbbbbb #999999;
   cursor: pointer;
@@ -366,7 +366,7 @@ optgroup::-moz-focus-inner {
 .selectBox-dropdown {
   min-width: 150px;
   position: relative;
-  border: solid 1px #bbbbbb;
+  border: solid 1px #BBB;
   line-height: 1.5;
   text-decoration: none;
   text-align: left;
@@ -390,13 +390,13 @@ optgroup::-moz-focus-inner {
   background: transparent;
   border: none;
   box-shadow: none;
-  min-width: auto;
+  min-width: inherit;
   color: white;
   line-height: 1;
   margin-top: 5px;
   margin-left: 9px;
 }
-#views-exposed-form-commons-homepage-content-panel-pane-1 .selectBox-dropdown, #quicktabs-commons_bw .selectBox-dropdown {
+#views-exposed-form-commons-homepage-content-panel-pane-1 .selectBox-dropdown, #quicktabs-commons_bw .selectBox-dropdown, .views-exposed-widgets .selectBox-dropdown {
   background: #e6e6e6;
   border: none;
   box-shadow: none;
@@ -443,7 +443,7 @@ optgroup::-moz-focus-inner {
   top: 1px;
   margin-left: 5px;
 }
-#views-exposed-form-commons-homepage-content-panel-pane-1 .selectBox-dropdown .selectBox-label, #quicktabs-commons_bw .selectBox-dropdown .selectBox-label {
+#views-exposed-form-commons-homepage-content-panel-pane-1 .selectBox-dropdown .selectBox-label, #quicktabs-commons_bw .selectBox-dropdown .selectBox-label, .views-exposed-widgets .selectBox-dropdown .selectBox-label {
   width: auto !important;
   padding: 2px 4px;
 }
@@ -454,13 +454,13 @@ optgroup::-moz-focus-inner {
   right: 0;
   width: 23px;
   height: 100%;
-  background: url('../images/jquery.selectBox-arrow.gif?1361802894') 50% center no-repeat;
-  border-left: solid 1px #bbbbbb;
+  background: url('../images/jquery.selectBox-arrow.gif?1363371593') 50% center no-repeat;
+  border-left: solid 1px #BBB;
 }
 .block-search .selectBox-dropdown .selectBox-arrow {
   display: none;
 }
-#views-exposed-form-commons-homepage-content-panel-pane-1 .selectBox-dropdown .selectBox-arrow, #quicktabs-commons_bw .selectBox-dropdown .selectBox-arrow {
+#views-exposed-form-commons-homepage-content-panel-pane-1 .selectBox-dropdown .selectBox-arrow, #quicktabs-commons_bw .selectBox-dropdown .selectBox-arrow, .views-exposed-widgets .selectBox-dropdown .selectBox-arrow {
   display: none;
 }
 
@@ -470,7 +470,7 @@ optgroup::-moz-focus-inner {
   z-index: 99999;
   max-height: 200px;
   min-height: 1em;
-  border: solid 1px #bbbbbb;
+  border: solid 1px #BBB;
   /* should be the same border width as .selectBox-dropdown */
   background: #FFF;
   -moz-box-shadow: 0 2px 6px rgba(0, 0, 0, 0.2);
@@ -484,7 +484,7 @@ optgroup::-moz-focus-inner {
 .selectBox-inline {
   min-width: 150px;
   outline: none;
-  border: solid 1px #bbbbbb;
+  border: solid 1px #BBB;
   background: #FFF;
   display: inline-block;
   -webkit-border-radius: 4px;
@@ -499,8 +499,8 @@ optgroup::-moz-focus-inner {
 
 /* Options */
 .selectBox-options,
-.selectBox-options LI,
-.selectBox-options LI A {
+.selectBox-options li,
+.selectBox-options li a {
   list-style: none;
   display: block;
   cursor: default;
@@ -508,24 +508,24 @@ optgroup::-moz-focus-inner {
   margin: 0;
 }
 
-.selectBox-options LI A {
+.selectBox-options li a {
   line-height: 1.5;
-  padding: 0 0.5em;
+  padding: 0 .5em;
   white-space: nowrap;
   overflow: hidden;
   background: 6px center no-repeat;
 }
 
-.selectBox-options LI.selectBox-hover A {
+.selectBox-options li.selectBox-hover a {
   background-color: #EEE;
 }
 
-.selectBox-options LI.selectBox-disabled A {
+.selectBox-options li.selectBox-disabled a {
   color: #888;
   background-color: transparent;
 }
 
-.selectBox-options LI.selectBox-selected A {
+.selectBox-options li.selectBox-selected a {
   background-color: #C8DEF4;
 }
 
@@ -534,13 +534,13 @@ optgroup::-moz-focus-inner {
   background: #EEE;
   font-weight: bold;
   line-height: 1.5;
-  padding: 0 0.3em;
+  padding: 0 .3em;
   white-space: nowrap;
 }
 
 /* Disabled state */
 .selectBox.selectBox-disabled {
-  color: #888888 !important;
+  color: #888 !important;
 }
 
 .selectBox-dropdown.selectBox-disabled .selectBox-arrow {
@@ -550,10 +550,10 @@ optgroup::-moz-focus-inner {
 }
 
 .selectBox-inline.selectBox-disabled {
-  color: #888888 !important;
+  color: #888 !important;
 }
 
-.selectBox-inline.selectBox-disabled .selectBox-options A {
+.selectBox-inline.selectBox-disabled .selectBox-options a {
   background-color: transparent !important;
 }
 
@@ -631,8 +631,7 @@ audio:not([controls]) {
 html {
   font-size: 100%;
   -webkit-text-size-adjust: 100%;
-  line-height: 1.5;
-  height: 100%;
+  line-height: 1.7;
   overflow-y: scroll;
 }
 
@@ -768,7 +767,7 @@ code,
 kbd,
 samp {
   font-family: monospace, serif;
-  _font-family: "courier new", monospace;
+  _font-family: 'courier new', monospace;
   font-size: 1em;
 }
 
@@ -1028,37 +1027,6 @@ table {
 }
 
 /* =============================================================================
-    Gutters
-   ========================================================================== */
-/*
- * If gutters are set in theme settings they will override these values,
- * see Extensions > Modify Output > Design
- * $gutter-width is set in _base.scss
- */
-#main-content,
-.block-inner,
-.pane-inner,
-.menu-wrapper,
-.branding-elements,
-.breadcrumb-wrapper,
-.attribution,
-.at-panel .rounded-corner,
-div.messages {
-  margin-left: 10px;
-  margin-right: 10px;
-}
-
-/*
- * Panel pages need negative margin equal to the gutter width applied to #content,
- * this is taken care of in theme settings as per above for normal gutters
- */
-#content .panel-display,
-#content .panel-flexible {
-  margin-left: -10px;
-  margin-right: -10px;
-}
-
-/* =============================================================================
     Flexible Media and Cross browser improvements
    ========================================================================== */
 /*
diff --git a/profiles/commons/themes/contrib/commons_origins/css/global.styles.css b/profiles/commons/themes/contrib/commons_origins/css/global.styles.css
index 19eddf6..21c53a3 100644
--- a/profiles/commons/themes/contrib/commons_origins/css/global.styles.css
+++ b/profiles/commons/themes/contrib/commons_origins/css/global.styles.css
@@ -12,17 +12,12 @@
   box-shadow: #247aac 1px 0px 0px;
 }
 
-.page-user-login #columns, .page-node-add .field-type-taxonomy-term-reference-form, .page-node-add #edit-additional-settings, .page-user .pane-views-panes, .commons-pod-comments, .front.not-logged-in .pane-views-panes, .front.not-logged-in
+.commons-pod, .page-user .pane-views-panes, .commons-pod-comments, .front.not-logged-in .pane-views-panes, .front.not-logged-in
 .pane-views, .front.not-logged-in
-body.page-node .pane-views-panes, .pane-commons-events-user-upcoming-events-panel-pane-2,
-.pane-commons-events-user-upcoming-events-panel-pane-3,
-.pane-commons-events-upcoming-panel-pane-1,
-.pane-activity-group-panel-pane-1,
-.pane-commons-radioactivity-groups-active-in-group-panel-pane-1,
-.pane-commons-contributors-group-panel-pane-2,
-.pane-commons-wikis-contributor-list-commons-wikis-contributor-pane,
-.nodes, .page-events .view-commons-events-upcoming .view-content, .pane-commons-radioactivity-groups-most-active-panel-pane-1, .pane-commons-activity-streams-activity-panel-pane-1, .pane-commons-featured-panel-pane-1, .pane-commons-groups-contributors-panel-pane-1, .pane-commons-bw-group, .view-display-id-commons_events_upcoming_page .views-row, .view-commons-groups-directory > .view-content > .views-row, .view-commons-groups-directory > .view-filters, .view-commons-homepage-content .node-teaser.node-group > .view-content > .views-row, .view-commons-homepage-content .node-teaser.node-group > .view-filters, body.front.logged-in .view-commons-homepage-content > .view-content, body.front.logged-in #views-exposed-form-commons-homepage-content-panel-pane-1 .views-exposed-widgets.widgets-active, .page-events .search-results-wrapper .search-result, .page-events .region-three-25-50-25-first, .page-events .region-three-25-50-25-third .pane-views-panes, .page-search .region-two-33-66-first, .page-search .pane-search-form,
-.page-search .search-results {
+body.page-node .pane-views-panes, .page-events .view-commons-events-upcoming .view-content, .pane-commons-bw-group, .view-display-id-commons_events_upcoming_page .views-row, .view-commons-groups-directory > .view-content > .views-row,
+.view-commons-groups-directory > .view-filters,
+.view-commons-homepage-content .node-teaser.node-group > .view-content > .views-row,
+.view-commons-homepage-content .node-teaser.node-group > .view-filters, body.front.logged-in .view-commons-homepage-content > .view-content, body.front.logged-in #views-exposed-form-commons-homepage-content-panel-pane-1 .views-exposed-widgets.widgets-active, .page-events .region-three-25-50-25-third .pane-views-panes, .pane-search-result .block-content .search-results, .page-search-user .user-results {
   background-color: white;
   -webkit-border-radius: 3px;
   -moz-border-radius: 3px;
@@ -32,43 +27,32 @@ body.page-node .pane-views-panes, .pane-commons-events-user-upcoming-events-pane
   -webkit-box-shadow: #858585 1px 1px 4px;
   -moz-box-shadow: #858585 1px 1px 4px;
   box-shadow: #858585 1px 1px 4px;
-  margin-right: 20px;
-  margin-bottom: 20px;
-}
-.lt480 .page-user-login #columns, .page-user-login .lt480 #columns, .lt480 .page-node-add .field-type-taxonomy-term-reference-form, .page-node-add .lt480 .field-type-taxonomy-term-reference-form, .lt480 .page-node-add #edit-additional-settings, .page-node-add .lt480 #edit-additional-settings, .lt480 .page-user .pane-views-panes, .page-user .lt480 .pane-views-panes, .lt480 .commons-pod-comments, .lt480 .front.not-logged-in .pane-views-panes, .front.not-logged-in .lt480 .pane-views-panes, .lt480 .front.not-logged-in .pane-views, .front.not-logged-in .lt480 .pane-views, .lt480 .front.not-logged-in
-body.page-node .pane-views-panes, .front.not-logged-in
-body.page-node .lt480 .pane-views-panes, .lt480 .pane-commons-events-user-upcoming-events-panel-pane-2,
-.lt480 .pane-commons-events-user-upcoming-events-panel-pane-3,
-.lt480 .pane-commons-events-upcoming-panel-pane-1,
-.lt480 .pane-activity-group-panel-pane-1,
-.lt480 .pane-commons-radioactivity-groups-active-in-group-panel-pane-1,
-.lt480 .pane-commons-contributors-group-panel-pane-2,
-.lt480 .pane-commons-wikis-contributor-list-commons-wikis-contributor-pane,
-.lt480 .nodes, .lt480 .page-events .view-commons-events-upcoming .view-content, .page-events .view-commons-events-upcoming .lt480 .view-content, .lt480 .pane-commons-radioactivity-groups-most-active-panel-pane-1, .lt480 .pane-commons-activity-streams-activity-panel-pane-1, .lt480 .pane-commons-featured-panel-pane-1, .lt480 .pane-commons-groups-contributors-panel-pane-1, .lt480 .pane-commons-bw-group, .lt480 .view-display-id-commons_events_upcoming_page .views-row, .view-display-id-commons_events_upcoming_page .lt480 .views-row, .lt480 .view-commons-groups-directory > .view-content > .views-row, .lt480 .view-commons-groups-directory > .view-filters, .lt480 .view-commons-homepage-content .node-teaser.node-group > .view-content > .views-row, .view-commons-homepage-content .lt480 .node-teaser.node-group > .view-content > .views-row, .lt480 .view-commons-homepage-content .node-teaser.node-group > .view-filters, .view-commons-homepage-content .lt480 .node-teaser.node-group > .view-filters, .lt480 body.front.logged-in .view-commons-homepage-content > .view-content, body.front.logged-in .lt480 .view-commons-homepage-content > .view-content, .lt480 body.front.logged-in #views-exposed-form-commons-homepage-content-panel-pane-1 .views-exposed-widgets.widgets-active, body.front.logged-in #views-exposed-form-commons-homepage-content-panel-pane-1 .lt480 .views-exposed-widgets.widgets-active, .lt480 .page-events .search-results-wrapper .search-result, .page-events .search-results-wrapper .lt480 .search-result, .lt480 .page-events .region-three-25-50-25-first, .page-events .lt480 .region-three-25-50-25-first, .lt480 .page-events .region-three-25-50-25-third .pane-views-panes, .page-events .region-three-25-50-25-third .lt480 .pane-views-panes, .lt480 .page-search .region-two-33-66-first, .page-search .lt480 .region-two-33-66-first, .lt480 .page-search .pane-search-form, .page-search .lt480 .pane-search-form,
-.lt480 .page-search .search-results,
-.page-search .lt480 .search-results {
-  margin-right: 0;
+  margin: 10px 0;
 }
 
-.page-user-login #columns, .page-node-add .field-type-taxonomy-term-reference-form > div, .page-node-add #edit-additional-settings > div, .page-user .pane-views-panes .block-inner, .commons-pod-comments .comment-wrapper, .front.not-logged-in .pane-views-panes > div, .front.not-logged-in
+.commons-pod, .page-user .pane-views-panes .block-inner, .commons-pod-comments .comment-wrapper, .front.not-logged-in .pane-views-panes > div, .front.not-logged-in
 .pane-views > div, .front.not-logged-in
-body.page-node .pane-views-panes > div, .pane-commons-events-user-upcoming-events-panel-pane-2,
-.pane-commons-events-user-upcoming-events-panel-pane-3,
-.pane-commons-events-upcoming-panel-pane-1,
-.pane-activity-group-panel-pane-1,
-.pane-commons-radioactivity-groups-active-in-group-panel-pane-1,
-.pane-commons-contributors-group-panel-pane-2,
-.pane-commons-wikis-contributor-list-commons-wikis-contributor-pane,
-.nodes, .page-events .view-commons-events-upcoming .view-content, .pane-commons-radioactivity-groups-most-active-panel-pane-1 > .block-inner, .pane-commons-activity-streams-activity-panel-pane-1 > .block-inner, .pane-commons-featured-panel-pane-1 > .block-inner, .pane-commons-groups-contributors-panel-pane-1 > .block-inner, .pane-commons-bw-group > .block-inner, .view-display-id-commons_events_upcoming_page .views-row article, .view-commons-groups-directory > .view-content > .views-row > .node-teaser, .view-commons-groups-directory > .view-content > .views-row form, .view-commons-groups-directory > .view-filters > .node-teaser, .view-commons-groups-directory > .view-filters form, .view-commons-homepage-content .node-teaser.node-group > .view-content > .views-row > .node-teaser, .view-commons-homepage-content .node-teaser.node-group > .view-content > .views-row form, .view-commons-homepage-content .node-teaser.node-group > .view-filters > .node-teaser, .view-commons-homepage-content .node-teaser.node-group > .view-filters form, body.front.logged-in #views-exposed-form-commons-homepage-content-panel-pane-1 .views-exposed-widgets.widgets-active, .page-events .search-results-wrapper .search-result .search-result-wrapper, .page-events .region-three-25-50-25-first .region-inner, .page-events .region-three-25-50-25-third .pane-views-panes .block-inner, .page-search .region-two-33-66-first .region-inner, .page-search .pane-search-form,
-.page-search .search-results {
-  padding: 10px 10px 20px 10px;
+body.page-node .pane-views-panes > div, .page-events .view-commons-events-upcoming .view-content, .pane-commons-bw-group > .block-inner, .view-display-id-commons_events_upcoming_page .views-row article, .view-commons-groups-directory > .view-content > .views-row > .node-teaser,
+.view-commons-groups-directory > .view-content > .views-row form,
+.view-commons-groups-directory > .view-filters > .node-teaser,
+.view-commons-groups-directory > .view-filters form,
+.view-commons-homepage-content .node-teaser.node-group > .view-content > .views-row > .node-teaser,
+.view-commons-homepage-content .node-teaser.node-group > .view-content > .views-row form,
+.view-commons-homepage-content .node-teaser.node-group > .view-filters > .node-teaser,
+.view-commons-homepage-content .node-teaser.node-group > .view-filters form, body.front.logged-in #views-exposed-form-commons-homepage-content-panel-pane-1 .views-exposed-widgets.widgets-active, .page-events .region-three-25-50-25-third .pane-views-panes .block-inner, .pane-search-result .block-content .search-results, .page-search-user .user-results {
+  padding: 10px;
 }
 
 .node.node-event > .node-content, .node.node-poll > .node-content, .node.node-question > .node-content, .node-teaser.node-promoted.node-event > .node-content, .node-teaser.node-promoted.node-poll > .node-content, .node-teaser.node-promoted.node-question > .node-content {
   margin-right: 90px;
 }
+@media only screen and (max-width: 768px) {
+  .node.node-event > .node-content, .node.node-poll > .node-content, .node.node-question > .node-content, .node-teaser.node-promoted.node-event > .node-content, .node-teaser.node-promoted.node-poll > .node-content, .node-teaser.node-promoted.node-question > .node-content {
+    margin-right: 0;
+  }
+}
 
-.commons-sign-up, .pane-commons-groups-commons-groups-create-group a, #quicktabs-container-commons_bw .quicktabs-tabpage .attachment-before > a, #quicktabs-container-commons_bw .quicktabs-tabpage .comment-add a, #content-column .view-content input[type="submit"], form.commons-events-form-float input, form.commons-events-form-float input:hover, .pane-commons-events-commons-events-create-event-link a {
+.button-alert, .commons-sign-up, .pane-commons-groups-commons-groups-create-group a, #quicktabs-container-commons_bw .quicktabs-tabpage .attachment-before > a, #quicktabs-container-commons_bw .quicktabs-tabpage .comment-add a, #content-column .view-content input[type="submit"], form.commons-events-form-float input, form.commons-events-form-float input:hover, .pane-commons-events-commons-events-create-event-link a {
   box-shadow: 1px 1px 1px #abe0a2 inset, 0 3px 3px rgba(0, 0, 0, 0.09);
   padding: 0 10px;
   background-color: #6eca5d;
@@ -85,12 +69,14 @@ body.page-node .pane-views-panes > div, .pane-commons-events-user-upcoming-event
   -ms-border-radius: 3px;
   -o-border-radius: 3px;
   border-radius: 3px;
-  color: white;
   text-align: center;
   display: inline-block;
   text-shadow: 1px 1px rgba(0, 0, 0, 0.49);
 }
-.commons-sign-up:hover, .pane-commons-groups-commons-groups-create-group a:hover, #quicktabs-container-commons_bw .quicktabs-tabpage .attachment-before > a:hover, #quicktabs-container-commons_bw .quicktabs-tabpage .comment-add a:hover, #content-column .view-content input[type="submit"]:hover, form.commons-events-form-float input:hover, .pane-commons-events-commons-events-create-event-link a:hover {
+.button-alert, .commons-sign-up, .pane-commons-groups-commons-groups-create-group a, #quicktabs-container-commons_bw .quicktabs-tabpage .attachment-before > a, #quicktabs-container-commons_bw .quicktabs-tabpage .comment-add a, #content-column .view-content input[type="submit"], form.commons-events-form-float input, form.commons-events-form-float input:hover, .pane-commons-events-commons-events-create-event-link a, .button-alert:link, .commons-sign-up:link, .pane-commons-groups-commons-groups-create-group a:link, #quicktabs-container-commons_bw .quicktabs-tabpage .attachment-before > a:link, #quicktabs-container-commons_bw .quicktabs-tabpage .comment-add a:link, #content-column .view-content input[type="submit"]:link, form.commons-events-form-float input:link, form.commons-events-form-float input:link:hover, .pane-commons-events-commons-events-create-event-link a:link, .button-alert:visited, .commons-sign-up:visited, .pane-commons-groups-commons-groups-create-group a:visited, #quicktabs-container-commons_bw .quicktabs-tabpage .attachment-before > a:visited, #quicktabs-container-commons_bw .quicktabs-tabpage .comment-add a:visited, #content-column .view-content input[type="submit"]:visited, form.commons-events-form-float input:visited, form.commons-events-form-float input:visited:hover, .pane-commons-events-commons-events-create-event-link a:visited, .button-alert:active, .commons-sign-up:active, .pane-commons-groups-commons-groups-create-group a:active, #quicktabs-container-commons_bw .quicktabs-tabpage .attachment-before > a:active, #quicktabs-container-commons_bw .quicktabs-tabpage .comment-add a:active, #content-column .view-content input[type="submit"]:active, form.commons-events-form-float input:active, form.commons-events-form-float input:active:hover, .pane-commons-events-commons-events-create-event-link a:active, .button-alert:hover, .commons-sign-up:hover, .pane-commons-groups-commons-groups-create-group a:hover, #quicktabs-container-commons_bw .quicktabs-tabpage .attachment-before > a:hover, #quicktabs-container-commons_bw .quicktabs-tabpage .comment-add a:hover, #content-column .view-content input[type="submit"]:hover, form.commons-events-form-float input:hover, .pane-commons-events-commons-events-create-event-link a:hover {
+  color: white;
+}
+.button-alert:hover, .commons-sign-up:hover, .pane-commons-groups-commons-groups-create-group a:hover, #quicktabs-container-commons_bw .quicktabs-tabpage .attachment-before > a:hover, #quicktabs-container-commons_bw .quicktabs-tabpage .comment-add a:hover, #content-column .view-content input[type="submit"]:hover, form.commons-events-form-float input:hover, .pane-commons-events-commons-events-create-event-link a:hover {
   text-decoration: none;
 }
 
@@ -191,7 +177,7 @@ body.page-node .pane-views-panes > div, .pane-commons-events-user-upcoming-event
   padding: 5px 5px 0;
   z-index: 1;
   background: #D9D9D9;
-  border: 1px solid #b5b5b5;
+  border: 1px solid #B5B5B5;
   height: 22px;
   font-size: 11.9px;
   color: #333333;
@@ -227,7 +213,7 @@ body.page-node .pane-views-panes > div, .pane-commons-events-user-upcoming-event
   margin-top: -5px;
 }
 
-/*
+/**
  * @file
  * global.styles
  *
@@ -253,7 +239,7 @@ body.page-node .pane-views-panes > div, .pane-commons-events-user-upcoming-event
 /* =============================================================================
  *   Base
  * ========================================================================== */
-/*
+/**
  * To preserve theme settings never apply font properties to the HTML element.
  * This is critically important if you are using the Responsive JavaScript
  * feature as this relies on being able to set a pseudo font family on the HTML
@@ -324,7 +310,7 @@ var {
 /* =============================================================================
  *   Wrappers
  * ========================================================================== */
-/*
+/**
  * Page wrapper, includes the .container class which sets the overall page or section width
  * Main wrapper in page.tpl.php, the .container class sets the width of the page, do not add width to it!
  */
@@ -332,7 +318,7 @@ var {
   margin-top: -92px;
 }
 
-/*
+/**
  * Wraps all header elements - branding and .region-header
  */
 #header {
@@ -365,85 +351,71 @@ var {
   border-bottom: 1px solid #1e658f;
 }
 
-/*
+/**
  * Wraps the sidebars the content column
  */
-.page-user-login #columns {
-  margin-top: 50px;
+#columns {
+  margin-right: 10px;
+  margin-left: 10px;
 }
 
-/*
- * Main content column wrapper
- */
-/*
- * Wraps the main-content-header, the content region and feed-icons. Use this wrapper to style the entire main content column
- */
-/*
+/**
  * Footer wrapper
  */
-/*
- * Panels may need additional margin wrangling when in the $content region
- */
-/*
- * Full Width Wrappers
- * These are used in the optional page--full-width-wrappers.tpl.php template.
- * All have internal .container classes. In the full width wrapper template the
- * .container classes set the width or max-width of the contained element - you
- * can style this but never add any width/margin/padding/borders etc to .container
- */
-/*
- * Wraps #page
- */
-/*
- * Wraps the leaderboard
- */
-/*
- * Wraps the header
- */
-#header-wrapper {
-  /* Debug styles, is this working */
-  background: rgba(255, 192, 203, 0.5);
+#footer {
+  border-top: 1px solid #cccccc;
+  -webkit-box-shadow: inset 0 1px 0 white;
+  -moz-box-shadow: inset 0 1px 0 white;
+  box-shadow: inset 0 1px 0 white;
+  margin: 0 10px;
 }
 
-/*
- * Wraps the nav elements
- */
-/*
- * Wraps breadcrumb
- */
-/*
- * Wraps messages and help
- */
-/*
- * Wraps the secondary content/preface region
- */
-/*
- * Wraps the main content column
- */
-/*
- * Wraps the tertiary content/postfix region
+/**
+ * Default credit block
  */
-/*
- * Footer wrapper
+#block-block-1 .block-title,
+#block-block-1 .block-content {
+  color: #858585;
+}
+#block-block-1 .block-title {
+  margin: 10px 0 5px;
+}
+#block-block-1 .block-content {
+  font-size: .88em;
+}
+#footer #block-block-1 {
+  margin-bottom: 0;
+}
+
+/**
+ * Generic pod wrappers
  */
-#footer-wrapper {
-  /* Debug styles, is this working? */
-  background: rgba(255, 192, 203, 0.5);
+.commons-pod {
+  /* Prevent pod nesting. */
+}
+.commons-pod .commons-pod {
+  margin: 0;
+  padding: 0;
+  background: transparent;
+  -webkit-box-shadow: none;
+  -moz-box-shadow: none;
+  box-shadow: none;
 }
 
 /* =============================================================================
  *   Branding
  * ========================================================================== */
-/*
+/**
  * Wraps all the branding elements, logo, name and slogan
  */
 #branding {
   float: left;
+  margin-left: 10px;
   vertical-align: top;
   text-align: left;
 }
 
-/*
+/**
  * Logo
  */
 #logo {
@@ -454,7 +426,7 @@ var {
   vertical-align: bottom;
 }
 
-/*
+/**
  * Wrapper for the site name and slogan (hgroup)
  */
 #name-and-slogan {
@@ -469,7 +441,7 @@ var {
   margin-top: 6px;
 }
 
-/*
+/**
  * Site name (h1)
  */
 #site-name {
@@ -484,7 +456,7 @@ var {
   text-decoration: none;
 }
 
-/*
+/**
  * Site slogan (h2)
  */
 #site-slogan {
@@ -494,14 +466,11 @@ var {
 /* =============================================================================
  *   Page content header
  * ========================================================================== */
-/*
- * Main content header wraps the page title, tabs and actions links
- */
-/*
+/**
  * The main page title (h1)
  */
 #page-title {
-  margin: 0 0 10px 6px;
+  margin: 0 0 10px;
   font-weight: 300;
 }
 .page-node #page-title {
@@ -515,24 +484,32 @@ var {
 /* =============================================================================
  *   Misc Global Styles
  * ========================================================================== */
-/*
+/**
  * Generic styles for nodes.
  */
 .node {
   position: relative;
 }
-.node.node-answer, .node.node-event, .node.node-poll, .node.node-post, .node.node-question, .node.node-wiki.node-teaser {
+.node.user-picture-available {
   padding-left: 68px;
 }
-.node.node-answer .user-picture, .node.node-event .user-picture, .node.node-poll .user-picture, .node.node-post .user-picture, .node.node-question .user-picture, .node.node-wiki.node-teaser .user-picture {
+.node.user-picture-available .user-picture {
   position: absolute;
   float: left;
   margin-left: -68px;
   top: 0;
 }
-.node.node-answer .user-picture img, .node.node-event .user-picture img, .node.node-poll .user-picture img, .node.node-post .user-picture img, .node.node-question .user-picture img, .node.node-wiki.node-teaser .user-picture img {
+.node.user-picture-available .user-picture img {
   width: 50px;
 }
+@media only screen and (max-width: 480px) {
+  .node.user-picture-available {
+    padding-left: 0;
+  }
+  .node.user-picture-available .user-picture {
+    display: none;
+  }
+}
 .node .field-name-body {
   margin-bottom: 20px;
 }
@@ -546,8 +523,27 @@ var {
   top: 1px;
 }
 
+.node-actions {
+  float: right;
+  width: 90px;
+  list-style: none;
+  margin: .5em -90px 0 0;
+  text-align: right;
+}
+.node-actions, .block-content .node-actions {
+  padding: 0;
+}
+@media only screen and (max-width: 768px) {
+  .node-actions {
+    float: none;
+    width: auto;
+    margin: 1.7em 0;
+    text-align: left;
+  }
+}
+
 .node-teaser {
-  border-bottom: 1px solid #cccccc;
+  border-bottom: 1px solid #ccc;
   padding-bottom: 20px;
   margin-bottom: 10px;
 }
@@ -555,7 +551,7 @@ var {
   margin-bottom: 0;
 }
 .node-teaser.node-promoted {
-  background-image: url('../images/node-promoted-star.png?1361802894');
+  background-image: url('../images/node-promoted-star.png?1363371593');
   background-position: top right;
   background-repeat: no-repeat;
   background-color: #f7f7f7;
@@ -568,18 +564,26 @@ var {
   -o-border-radius: 3px;
   border-radius: 3px;
 }
-.node-teaser.node-promoted.node-answer, .node-teaser.node-promoted.node-event, .node-teaser.node-promoted.node-poll, .node-teaser.node-promoted.node-post, .node-teaser.node-promoted.node-question, .node-teaser.node-promoted.node-wiki.node-teaser {
+.node-teaser.node-promoted.user-picture-available {
   padding-left: 78px;
 }
-.node-teaser.node-promoted.node-answer .user-picture, .node-teaser.node-promoted.node-event .user-picture, .node-teaser.node-promoted.node-poll .user-picture, .node-teaser.node-promoted.node-post .user-picture, .node-teaser.node-promoted.node-question .user-picture, .node-teaser.node-promoted.node-wiki.node-teaser .user-picture {
+.node-teaser.node-promoted.user-picture-available .user-picture {
   position: absolute;
   float: left;
   margin-left: -68px;
   top: 10px;
 }
-.node-teaser.node-promoted.node-answer .user-picture img, .node-teaser.node-promoted.node-event .user-picture img, .node-teaser.node-promoted.node-poll .user-picture img, .node-teaser.node-promoted.node-post .user-picture img, .node-teaser.node-promoted.node-question .user-picture img, .node-teaser.node-promoted.node-wiki.node-teaser .user-picture img {
+.node-teaser.node-promoted.user-picture-available .user-picture img {
   width: 50px;
 }
+@media only screen and (max-width: 480px) {
+  .node-teaser.node-promoted.user-picture-available {
+    padding-left: 10px;
+  }
+  .node-teaser.node-promoted.user-picture-available .user-picture {
+    display: none;
+  }
+}
 
 .user-picture,
 .views-field-picture {
@@ -605,7 +609,7 @@ var {
   position: absolute;
   right: -5px;
   top: 10px;
-  background: url('../images/user_img_arrow.png?1361802894');
+  background: url('../images/user_img_arrow.png?1363371593');
 }
 .node .user-picture img, .comment .user-picture img, .node
 .views-field-picture img, .comment
@@ -613,10 +617,80 @@ var {
   width: 50px;
 }
 
-/*
- * Feed icons
+/**
+ * Filter drawer accessories
  */
-/*
+.filter-trigger {
+  display: none;
+  background: white;
+  -webkit-box-sizing: border-box;
+  -moz-box-sizing: border-box;
+  box-sizing: border-box;
+  padding: 5px;
+  position: absolute;
+  top: 0;
+  left: -40px;
+  width: 40px;
+  height: 40px;
+  border-right: none;
+  -webkit-border-radius: 3px 0 0 3px;
+  -moz-border-radius: 3px 0 0 3px;
+  -ms-border-radius: 3px 0 0 3px;
+  -o-border-radius: 3px 0 0 3px;
+  border-radius: 3px 0 0 3px;
+  text-align: center;
+  font: 0/0 a;
+  line-height: 0;
+  color: transparent;
+  -webkit-box-shadow: #858585 1px 1px 4px;
+  -moz-box-shadow: #858585 1px 1px 4px;
+  box-shadow: #858585 1px 1px 4px;
+  cursor: pointer;
+  z-index: -1;
+}
+.filter-trigger:after {
+  content: "\2026";
+  display: block;
+  width: 30px;
+  height: 30px;
+  font-size: 20px;
+  font-weight: bold;
+  text-shadow: 2px 2px 0.2 rgba(0, 0, 0, 0.5);
+  line-height: 20px;
+  background: #666666;
+  background: -webkit-gradient(linear, 50% 0%, 50% 100%, color-stop(0%, #858585), color-stop(100%, #666666));
+  background: -webkit-linear-gradient(#858585, #666666);
+  background: -moz-linear-gradient(#858585, #666666);
+  background: -o-linear-gradient(#858585, #666666);
+  background: linear-gradient(#858585, #666666);
+  color: white;
+  -webkit-border-radius: 3px;
+  -moz-border-radius: 3px;
+  -ms-border-radius: 3px;
+  -o-border-radius: 3px;
+  border-radius: 3px;
+  -webkit-box-shadow: inset 0 0 0.4em rgba(0, 0, 0, 0.2), #858585 1px 1px 4px;
+  -moz-box-shadow: inset 0 0 0.4em rgba(0, 0, 0, 0.2), #858585 1px 1px 4px;
+  box-shadow: inset 0 0 0.4em rgba(0, 0, 0, 0.2), #858585 1px 1px 4px;
+}
+.filter-trigger.following {
+  position: fixed;
+  right: 0;
+  left: auto;
+}
+
+.filter-overlay {
+  position: fixed;
+  top: 0;
+  left: 0;
+  display: none;
+  width: 100%;
+  height: 100%;
+  overflow: hidden;
+  background: rgba(255, 255, 255, 0.8);
+}
+
+/**
  * Aggregator feed source
  */
 #aggregator .feed-source .feed-icon {
@@ -631,24 +705,24 @@ var {
   margin: 0;
 }
 
-/*
+/**
  * Generic styles for the more link
  */
 .more-link {
-  background-image: url('../images/icons/icon-more.png?1361802894');
+  background-image: url('../images/icons/icon-more.png?1363371593');
   background-repeat: no-repeat;
-  height: 14px;
-  padding: 0 0 0 17px;
+  min-height: 14px;
+  padding: 0 0 0 1.7em;
   float: right;
   font-size: 0.85em;
   line-height: 14px;
-  margin: 10px;
+  margin-top: 10px;
 }
 .more-link a {
   color: #858585;
 }
 
-/*
+/**
  * Generic styles for links. See the ul.links declaration in node and comment stylesheets
  */
 ul.links {
@@ -664,38 +738,76 @@ ul.links li {
   padding: 0 10px 0 0;
 }
 
+.quicktabs-style-commons-pills ul.quicktabs-tabs,
 ul.primary.tabs {
   border-bottom: none;
   padding: 0;
 }
+.quicktabs-style-commons-pills ul.quicktabs-tabs li,
 ul.primary.tabs li {
   margin-bottom: 5px;
   margin-top: 5px;
 }
+.quicktabs-style-commons-pills ul.quicktabs-tabs li a,
 ul.primary.tabs li a {
-  background-color: #d7d7d7;
+  background-color: rgba(153, 153, 153, 0.3);
   -webkit-border-radius: 3px;
   -moz-border-radius: 3px;
   -ms-border-radius: 3px;
   -o-border-radius: 3px;
   border-radius: 3px;
-  padding: 3px 10px;
-  display: block;
-  color: #a5a3a3;
+  padding: .3em .8em;
+  display: inline-block;
   border: none;
 }
+.quicktabs-style-commons-pills ul.quicktabs-tabs li a,
+.quicktabs-style-commons-pills ul.quicktabs-tabs li a span,
+ul.primary.tabs li a,
+ul.primary.tabs li a span {
+  color: #2783b9;
+}
+.quicktabs-style-commons-pills ul.quicktabs-tabs li a:hover,
 ul.primary.tabs li a:hover {
   text-decoration: none;
-  background-color: #d7d7d7;
-  color: #a5a3a3;
+  background-color: rgba(153, 153, 153, 0.3);
+  color: #336699;
 }
+.quicktabs-style-commons-pills ul.quicktabs-tabs li.active a,
 ul.primary.tabs li.active a {
-  background-color: #336699;
+  position: relative;
+  background-color: #999999;
   border: none;
-  color: white;
 }
+.quicktabs-style-commons-pills ul.quicktabs-tabs li.active a, .quicktabs-style-commons-pills ul.quicktabs-tabs li.active a:hover,
+ul.primary.tabs li.active a,
 ul.primary.tabs li.active a:hover {
-  background-color: #336699;
+  background-color: #999999;
+}
+.quicktabs-style-commons-pills ul.quicktabs-tabs li.active a,
+.quicktabs-style-commons-pills ul.quicktabs-tabs li.active a span,
+ul.primary.tabs li.active a,
+ul.primary.tabs li.active a span {
+  color: #333333;
+}
+.quicktabs-style-commons-pills ul.quicktabs-tabs li.active a:after,
+ul.primary.tabs li.active a:after {
+  position: absolute;
+  bottom: -.7em;
+  left: 50%;
+  display: block;
+  width: 0;
+  height: 0;
+  overflow: hidden;
+  margin-left: -.6em;
+  content: "";
+  border-width: .4em .6em;
+  border-style: solid;
+  border-color: #999999 transparent transparent;
+}
+
+.quicktabs-style-commons-pills ul.quicktabs-tabs li {
+  text-transform: uppercase;
+  font-size: .8em;
 }
 
 li.sharethis {
@@ -714,7 +826,7 @@ ul.inline li.sharethis {
   display: inline-block;
 }
 li.sharethis:before {
-  content: '';
+  content: "";
   background: url('../images/icons-se7682cf316.png') 0 -683px no-repeat;
   width: 12px;
   height: 12px;
@@ -743,7 +855,7 @@ li.sharethis .sharethis-wrapper {
   position: relative;
 }
 li.sharethis .sharethis-wrapper:before, li.sharethis .sharethis-wrapper:after {
-  content: '';
+  content: "";
   width: 0;
   height: 0;
   border-style: solid;
@@ -761,14 +873,7 @@ li.sharethis .sharethis-wrapper:after {
   left: 11px;
 }
 
-/*
- * Search results are an ordered list so reset the margin
- */
-.search-results {
-  margin: 0;
-}
-
-/*
+/**
  * H1 Node title
  */
 h1.node-title {
@@ -783,40 +888,127 @@ h1.node-title a:hover {
   text-decoration: underline;
 }
 
-/*
- * User picture wrapping and shadow
+/**
+ * Main wrapper for most blocks, block_system_main does not have it
  */
-.view-commons-homepage-content .content, .view-commons-homepage-content .views-field-timestamp, .view-commons-activity-streams-activity .content, .view-commons-activity-streams-activity .views-field-timestamp, .view-activity-group .content, .view-activity-group .views-field-timestamp, .view-commons-activity-streams-user-activity .content, .view-commons-activity-streams-user-activity .views-field-timestamp {
-  padding-left: 58px;
+.block {
+  margin-bottom: 20px;
 }
-.view-commons-homepage-content .content .user-picture, .view-commons-homepage-content .views-field-timestamp .user-picture, .view-commons-activity-streams-activity .content .user-picture, .view-commons-activity-streams-activity .views-field-timestamp .user-picture, .view-activity-group .content .user-picture, .view-activity-group .views-field-timestamp .user-picture, .view-commons-activity-streams-user-activity .content .user-picture, .view-commons-activity-streams-user-activity .views-field-timestamp .user-picture {
-  position: absolute;
-  float: left;
-  margin-left: -58px;
-  top: 0;
+
+/**
+ * Block title
+ */
+.block-title {
+  margin: 0;
 }
-.view-commons-homepage-content .content .user-picture img, .view-commons-homepage-content .views-field-timestamp .user-picture img, .view-commons-activity-streams-activity .content .user-picture img, .view-commons-activity-streams-activity .views-field-timestamp .user-picture img, .view-activity-group .content .user-picture img, .view-activity-group .views-field-timestamp .user-picture img, .view-commons-activity-streams-user-activity .content .user-picture img, .view-commons-activity-streams-user-activity .views-field-timestamp .user-picture img {
-  width: 40px;
+
+/**
+ * Match item list and block menu margin and padding
+ */
+.block-content ul,
+.block-content ol {
+  padding: 0 0 0 15px;
+}
+.block-content li {
+  margin: 0;
+  padding: 0;
 }
 
-.view-activity-group .views-row, .view-commons-activity-streams-activity .views-row, .view-commons-activity-streams-user-activity .views-row {
-  border-bottom: 1px solid #eeeeee;
-  padding-bottom: 5px;
-  margin-bottom: 5px;
+/**
+ * User picture wrapping and shadow
+ */
+.views-row {
+  border-bottom: 1px solid #eee;
+  padding-bottom: 10px;
+  margin-bottom: 10px;
   position: relative;
 }
-.view-activity-group .views-row.views-row-last, .view-commons-activity-streams-activity .views-row.views-row-last, .view-commons-activity-streams-user-activity .views-row.views-row-last {
+.views-row.views-row-last {
+  border-bottom: none;
+  padding-bottom: 0;
+  margin-bottom: 0;
+}
+.view-plain .views-row {
   border-bottom: none;
   padding-bottom: 0;
+  margin: .3em 0;
+}
+.view-plain .views-row:first-child {
+  margin-top: 0;
+}
+.view-plain .views-row:last-child {
   margin-bottom: 0;
 }
-.view-activity-group .views-row h2, .view-commons-activity-streams-activity .views-row h2, .view-commons-activity-streams-user-activity .views-row h2 {
+
+.view-commons-homepage-content .content,
+.view-commons-homepage-content .views-field-timestamp,
+.view-commons-activity-streams-activity .content,
+.view-commons-activity-streams-activity .views-field-timestamp,
+.view-activity-group .content,
+.view-activity-group .views-field-timestamp,
+.view-commons-activity-streams-user-activity .content,
+.view-commons-activity-streams-user-activity .views-field-timestamp {
+  padding-left: 58px;
+}
+.view-commons-homepage-content .content .user-picture,
+.view-commons-homepage-content .views-field-timestamp .user-picture,
+.view-commons-activity-streams-activity .content .user-picture,
+.view-commons-activity-streams-activity .views-field-timestamp .user-picture,
+.view-activity-group .content .user-picture,
+.view-activity-group .views-field-timestamp .user-picture,
+.view-commons-activity-streams-user-activity .content .user-picture,
+.view-commons-activity-streams-user-activity .views-field-timestamp .user-picture {
+  position: absolute;
+  float: left;
+  margin-left: -58px;
+  top: 0;
+}
+.view-commons-homepage-content .content .user-picture img,
+.view-commons-homepage-content .views-field-timestamp .user-picture img,
+.view-commons-activity-streams-activity .content .user-picture img,
+.view-commons-activity-streams-activity .views-field-timestamp .user-picture img,
+.view-activity-group .content .user-picture img,
+.view-activity-group .views-field-timestamp .user-picture img,
+.view-commons-activity-streams-user-activity .content .user-picture img,
+.view-commons-activity-streams-user-activity .views-field-timestamp .user-picture img {
+  width: 40px;
+}
+@media only screen and (max-width: 480px) {
+  .view-commons-homepage-content .content,
+  .view-commons-homepage-content .views-field-timestamp,
+  .view-commons-activity-streams-activity .content,
+  .view-commons-activity-streams-activity .views-field-timestamp,
+  .view-activity-group .content,
+  .view-activity-group .views-field-timestamp,
+  .view-commons-activity-streams-user-activity .content,
+  .view-commons-activity-streams-user-activity .views-field-timestamp {
+    padding-left: 0;
+  }
+  .view-commons-homepage-content .content .user-picture,
+  .view-commons-homepage-content .views-field-timestamp .user-picture,
+  .view-commons-activity-streams-activity .content .user-picture,
+  .view-commons-activity-streams-activity .views-field-timestamp .user-picture,
+  .view-activity-group .content .user-picture,
+  .view-activity-group .views-field-timestamp .user-picture,
+  .view-commons-activity-streams-user-activity .content .user-picture,
+  .view-commons-activity-streams-user-activity .views-field-timestamp .user-picture {
+    display: none;
+  }
+}
+
+.view-activity-group .views-row h2,
+.view-commons-activity-streams-activity .views-row h2,
+.view-commons-activity-streams-user-activity .views-row h2 {
   display: none;
 }
-.view-activity-group .views-row .user-picture, .view-commons-activity-streams-activity .views-row .user-picture, .view-commons-activity-streams-user-activity .views-row .user-picture {
+.view-activity-group .views-row .user-picture,
+.view-commons-activity-streams-activity .views-row .user-picture,
+.view-commons-activity-streams-user-activity .views-row .user-picture {
   top: 5px;
 }
-.view-activity-group .views-row .user-picture img, .view-commons-activity-streams-activity .views-row .user-picture img, .view-commons-activity-streams-user-activity .views-row .user-picture img {
+.view-activity-group .views-row .user-picture img,
+.view-commons-activity-streams-activity .views-row .user-picture img,
+.view-commons-activity-streams-user-activity .views-row .user-picture img {
   width: 40px;
 }
 
@@ -826,21 +1018,25 @@ h1.node-title a:hover {
   line-height: 26px;
   color: #333333;
 }
-.page-node .field-name-field-topics, .page-node .field-name-og-group-ref {
+.page-node .field-name-field-topics.view-mode-full,
+.page-node .field-name-og-group-ref.view-mode-full {
   float: left;
   width: 50%;
+  margin-bottom: 1.7em;
 }
-.page-node .field-name-field-topics ul, .page-node .field-name-og-group-ref ul {
+.page-node .field-name-field-topics.view-mode-full ul,
+.page-node .field-name-og-group-ref.view-mode-full ul {
   margin: 0;
   list-style: none;
   padding: 0;
 }
-.page-node .field-name-field-topics ul li, .page-node .field-name-og-group-ref ul li {
+.page-node .field-name-field-topics.view-mode-full ul li,
+.page-node .field-name-og-group-ref.view-mode-full ul li {
   float: left;
   margin-right: 10px;
 }
 .page-node .field-name-field-topics .field-item:before {
-  content: '';
+  content: "";
   background: url('../images/icons-se7682cf316.png') 0 -1155px no-repeat;
   width: 8px;
   height: 8px;
@@ -851,7 +1047,7 @@ h1.node-title a:hover {
   top: -1px;
 }
 .page-node .field-name-og-group-ref .field-item:before {
-  content: '';
+  content: "";
   background: url('../images/icons-se7682cf316.png') 0 -1001px no-repeat;
   width: 8px;
   height: 8px;
@@ -872,12 +1068,6 @@ h1.node-title a:hover {
 .page-node .node nav li {
   float: left;
 }
-.page-node .node nav li.flag-inappropriate_node {
-  float: none;
-  position: absolute;
-  bottom: 5px;
-  right: 5px;
-}
 
 #comments {
   margin: 0;
@@ -890,7 +1080,7 @@ h1.node-title a:hover {
   font-size: 2.2em;
 }
 #comments h2.comment-title:before {
-  content: '';
+  content: "";
   background: url('../images/icons-se7682cf316.png') 0 -30px no-repeat;
   width: 31px;
   height: 24px;
@@ -929,6 +1119,14 @@ h1.node-title a:hover {
 .comment .user-picture img {
   width: 50px;
 }
+@media only screen and (max-width: 480px) {
+  .comment {
+    padding-left: 0;
+  }
+  .comment .user-picture {
+    display: none;
+  }
+}
 .comment .author-datetime {
   margin-bottom: 1.4em;
 }
@@ -946,7 +1144,7 @@ h1.node-title a:hover {
   float: right;
 }
 .comment-reply:before {
-  content: '';
+  content: "";
   background: url('../images/icons-se7682cf316.png') 0 -1061px no-repeat;
   width: 13px;
   height: 12px;
@@ -962,88 +1160,119 @@ h1.node-title a:hover {
   margin-bottom: 0;
 }
 
-.page-node-add .node-form {
-  position: relative;
-}
-.page-node-add fieldset {
-  border: none;
-}
-.page-node-add fieldset#edit-og-group-ref-und {
-  padding: 0;
+.primary-fields,
+.supplementary-fields {
+  display: -moz-inline-stack;
+  display: inline-block;
+  vertical-align: middle;
+  *vertical-align: auto;
+  zoom: 1;
+  *display: inline;
+  -webkit-box-sizing: border-box;
+  -moz-box-sizing: border-box;
+  box-sizing: border-box;
+  float: left;
 }
-.page-node-add #edit-body .ckeditor_links {
-  background-color: white;
-  padding: 5px 15px 0 15px;
+.view-commons-question-answers .primary-fields, .view-commons-question-answers
+.supplementary-fields {
   display: block;
-}
-.page-node-add #edit-body fieldset {
-  background-color: white;
-  -webkit-border-radius: 0 0 6px 6px;
-  -moz-border-radius: 0 0 6px 6px;
-  -ms-border-radius: 0 0 6px 6px;
-  -o-border-radius: 0 0 6px 6px;
-  border-radius: 0 0 6px 6px;
-}
-.page-node-add #edit-body, .page-node-add .form-item-title, .page-node-add .field-name-og-group-ref, .page-node-add #poll-choice-wrapper, .page-node-add .field-name-field-address-form {
-  width: 66%;
   float: none;
+  width: auto;
+  padding: 0;
 }
-.page-node-add #edit-body input[type="text"], .page-node-add .form-item-title input[type="text"], .page-node-add .field-name-og-group-ref input[type="text"], .page-node-add #poll-choice-wrapper input[type="text"], .page-node-add .field-name-field-address-form input[type="text"] {
-  width: 100%;
-}
-.lt480 .page-node-add #edit-body, .lt480 .page-node-add .form-item-title, .lt480 .page-node-add .field-name-og-group-ref, .lt480 .page-node-add #poll-choice-wrapper, .lt480 .page-node-add .field-name-field-address-form {
-  width: 100%;
+
+.primary-fields {
+  padding-right: 10px;
+  width: 66.666%;
 }
-.page-node-add .field-type-taxonomy-term-reference-form {
-  position: absolute;
-  right: 0;
-  top: 0;
-  width: 33%;
-  margin-right: 0;
-  margin-left: 0;
-  padding: 0;
+
+.supplementary-fields {
+  padding-left: 10px;
+  width: 33.333%;
 }
-.page-node-add .field-type-taxonomy-term-reference-form > div {
-  padding: 5px 10px 10px 10px;
-  margin: 0;
+
+.form-actions {
+  clear: both;
 }
-.page-node-add .field-type-taxonomy-term-reference-form input[type="text"] {
-  width: 100%;
+
+/* Format the date range form items. */
+.start-date-wrapper,
+.end-date-wrapper {
+  clear: none;
+  width: auto;
+  max-width: 49%;
+}
+.start-date-wrapper,
+.start-date-wrapper input,
+.start-date-wrapper .form-item .form-type-textfield,
+.start-date-wrapper .date-padding,
+.start-date-wrapper .form-type-textfield,
+.end-date-wrapper,
+.end-date-wrapper input,
+.end-date-wrapper .form-item .form-type-textfield,
+.end-date-wrapper .date-padding,
+.end-date-wrapper .form-type-textfield {
+  float: none;
+  display: inline-block;
+  min-width: inherit;
 }
-.page-node-add #edit-additional-settings {
-  position: absolute;
-  right: 0;
-  top: 80px;
-  width: 33%;
-  margin-right: 0;
-  margin-left: 0;
-  padding: 0;
+.start-date-wrapper .form-item input,
+.end-date-wrapper .form-item input {
+  margin-right: auto;
 }
-.page-node-add #edit-additional-settings > div fieldset {
-  border-bottom: 1px solid #cccccc;
-  padding-left: 0;
-  padding-right: 0;
+.start-date-wrapper .form-type-textfield,
+.end-date-wrapper .form-type-textfield {
+  max-width: 60%;
 }
-.page-node-add #edit-additional-settings > div fieldset.collapsed {
-  border-bottom: none;
+.start-date-wrapper .form-type-textfield:last-child,
+.end-date-wrapper .form-type-textfield:last-child {
+  max-width: 30%;
 }
-.page-node-add #edit-additional-settings > div fieldset fieldset {
-  border-bottom: none;
+.start-date-wrapper .form-type-date-popup,
+.end-date-wrapper .form-type-date-popup {
+  margin: 0;
 }
-.page-node-add #edit-additional-settings input[type="text"] {
-  width: 100%;
+@media only screen and (max-width: 768px) {
+  .start-date-wrapper,
+  .end-date-wrapper {
+    display: block;
+    max-width: inherit;
+    margin: 10px auto;
+  }
 }
-.page-node-add #edit-actions {
-  clear: both;
+
+.node-type-event .addressfield-container-inline:after {
+  content: "";
+  clear: none;
+  display: none;
 }
 
-.node-type-event .node-content {
-  margin-left: 0;
+.logo-available .field-name-field-date,
+.logo-available .field-name-field-address,
+.logo-available .field-name-field-offsite-url {
+  margin-left: 65px;
+}
+@media only screen and (max-width: 480px) {
+  .logo-available .field-name-field-date,
+  .logo-available .field-name-field-address,
+  .logo-available .field-name-field-offsite-url {
+    margin-left: 0;
+  }
 }
-.node-type-event .node-content .field-name-field-logo {
+
+.field-name-field-logo {
   float: left;
-  margin: 3px 15px 15px 0;
-  background: white;
+  width: 70px;
+  margin: .5em 0 0 -70px;
+  position: relative;
+  left: 70px;
+}
+.field-name-field-logo img {
+  display: block;
+  -webkit-box-sizing: border-box;
+  -moz-box-sizing: border-box;
+  box-sizing: border-box;
+  margin-bottom: 1.7em;
   padding: 4px;
   -webkit-border-radius: 3px;
   -moz-border-radius: 3px;
@@ -1053,15 +1282,26 @@ h1.node-title a:hover {
   -webkit-box-shadow: #858585 1px 1px 4px;
   -moz-box-shadow: #858585 1px 1px 4px;
   box-shadow: #858585 1px 1px 4px;
-  position: relative;
-  display: block;
-  line-height: 0;
+  background: white;
 }
-.node-type-event .node-content .field-name-field-logo img {
-  width: 72px;
+@media only screen and (max-width: 480px) {
+  .field-name-field-logo {
+    display: none;
+  }
 }
-.node-type-event .node-content .field-name-body {
-  clear: left;
+
+.field-name-body {
+  clear: both;
+  margin-top: 1.7em;
+}
+
+.field-name-field-date {
+  font-weight: bold;
+}
+
+.adr .region, .node-type-event .adr .region, .panel-display .region .adr .region {
+  float: none;
+  padding: 0;
 }
 
 .node .flag-commons-follow-node,
@@ -1092,7 +1332,7 @@ h1.node-title a:hover {
 .view-commons-follow-node .flag-commons-follow-node a.flag-action:before,
 .view-commons-follow-user .flag-commons-follow-user a.flag-action:before,
 .view-commons-follow-taxonomy-term .flag-commons-follow-term a.flag-action:before {
-  content: '';
+  content: "";
   background: url('../images/icons-se7682cf316.png') 0 -939px no-repeat;
   width: 13px;
   height: 11px;
@@ -1154,15 +1394,11 @@ h1.node-title a:hover {
 }
 
 .flag-inappropriate-node {
-  filter: progid:DXImageTransform.Microsoft.Alpha(Opacity=0);
-  opacity: 0;
-  -webkit-transition: opacity 0.5s;
-  -moz-transition: opacity 0.5s;
-  -o-transition: opacity 0.5s;
-  transition: opacity 0.5s;
+  display: block;
+  margin: 10px 0;
 }
 .flag-inappropriate-node:before {
-  content: '';
+  content: "";
   top: 0;
   background: url('../images/icons-se7682cf316.png') 0 0 no-repeat;
   width: 12px;
@@ -1172,10 +1408,6 @@ h1.node-title a:hover {
   position: relative;
   top: 1px;
 }
-.page-node .node:hover .flag-inappropriate-node, .pane-node-links:hover .flag-inappropriate-node {
-  filter: progid:DXImageTransform.Microsoft.Alpha(Opacity=100);
-  opacity: 1;
-}
 
 .view-commons-contributors-group .views-field-picture {
   margin: 0 0 10px;
@@ -1192,7 +1424,7 @@ h1.node-title a:hover {
   background-color: transparent;
 }
 
-/*
+/**
  * Author/Submit line
  */
 .author-datetime {
@@ -1204,14 +1436,14 @@ h1.node-title a:hover {
   color: #333333;
 }
 
-/*
+/**
  * Featured/New Tags
  */
 .tag.featured {
   width: 58px;
   height: 22px;
   display: inline-block;
-  background-image: url('../images/tag-featured.png?1361802894');
+  background-image: url('../images/tag-featured.png?1363371593');
   background-repeat: no-repeat;
   margin: 6px 0 0 5px;
 }
@@ -1220,7 +1452,7 @@ h1.node-title a:hover {
   width: 27px;
   height: 22px;
   display: inline-block;
-  background-image: url('../images/tag-new.png?1361802894');
+  background-image: url('../images/tag-new.png?1363371593');
   background-repeat: no-repeat;
   margin: 4px 0 0 5px;
 }
@@ -1259,7 +1491,7 @@ h1.node-title a:hover {
   display: inline-block;
 }
 .page-user .pane-user-field-facebook-url a:before {
-  content: '';
+  content: "";
   background: url('../images/icons-se7682cf316.png') 0 -166px no-repeat;
   width: 26px;
   height: 26px;
@@ -1278,7 +1510,7 @@ h1.node-title a:hover {
   display: inline-block;
 }
 .page-user .pane-user-field-linkedin-url a:before {
-  content: '';
+  content: "";
   background: url('../images/icons-se7682cf316.png') 0 -74px no-repeat;
   width: 26px;
   height: 26px;
@@ -1297,7 +1529,7 @@ h1.node-title a:hover {
   display: inline-block;
 }
 .page-user .pane-user-field-twitter-url a:before {
-  content: '';
+  content: "";
   background: url('../images/icons-se7682cf316.png') 0 -120px no-repeat;
   width: 26px;
   height: 26px;
@@ -1312,19 +1544,17 @@ h1.node-title a:hover {
   clear: both;
 }
 
+/**
+ * Group nodes
+ */
+.node-group .field-name-body {
+  clear: none;
+}
+
 /* =============================================================================
  *   Regions
  * ========================================================================== */
-/*
- * Standard region wrapper, don't add width to any regions, you will bork the layout - no margin, padding or borders etc
- */
-/*
- * Regions have an inner div - perfect for adding margin, padding or borders
- */
-/*
- * Regions can be nested, such as when using Panels
- */
-/*
+/**
  * Header region, embedded in the #header
  */
 .region-header {
@@ -1334,33 +1564,6 @@ h1.node-title a:hover {
   text-align: left;
 }
 
-/*
- * Generally used to output Drupals help block, if the help module is enabled
- */
-/*
- * Secondary content
- */
-/*
- * Sits above the main content header, like a content-top region
- */
-/*
- * Sits below the main content, like a content-bottom region
- */
-/*
- * Sidebars - targets both
- */
-/*
- * First sidebar
- */
-/*
- * Second sidebar
- */
-/*
- * Tertiary content
- */
-/*
- * Footer region
- */
 /* =============================================================================
  *   Links
  * ========================================================================== */
@@ -1379,7 +1582,7 @@ a:hover, a:focus {
   display: inline-block;
 }
 
-/*
+/**
  * Use one of the following id's for granular control:
  *  - #menu-bar (menu bar region)
  *  - #primary-menu (main menu)
@@ -1406,10 +1609,10 @@ a:hover, a:focus {
   padding: 0;
 }
 #menu-bar.nav ul.menu li:hover, #menu-bar.nav ul.menu li.active-trail {
-  background: url('../images/main-nav-hover.png?1361802894') repeat-x left top;
+  background: url('../images/main-nav-hover.png?1363371593') repeat-x left top;
 }
 #menu-bar.nav ul.menu li:hover .arrow:before, #menu-bar.nav ul.menu li.active-trail .arrow:before {
-  content: '';
+  content: "";
   display: block;
   position: absolute;
   bottom: 0px;
@@ -1421,7 +1624,7 @@ a:hover, a:focus {
   border-color: transparent transparent #3d9dd6 transparent;
 }
 #menu-bar.nav ul.menu li:hover .arrow:after, #menu-bar.nav ul.menu li.active-trail .arrow:after {
-  content: '';
+  content: "";
   display: block;
   position: absolute;
   bottom: 0px;
@@ -1459,22 +1662,22 @@ a:hover, a:focus {
 }
 
 .main-menu-home a {
-  background: url('../images/icons/icon-home.png?1361802894') no-repeat center 10px;
+  background: url('../images/icons/icon-home.png?1363371593') no-repeat center 10px;
 }
 
 .main-menu-groups a {
-  background: url('../images/icons/icon-groups.png?1361802894') no-repeat center 10px;
+  background: url('../images/icons/icon-groups.png?1363371593') no-repeat center 10px;
 }
 
 .main-menu-events a {
-  background: url('../images/icons/icon-events.png?1361802894') no-repeat center 10px;
+  background: url('../images/icons/icon-events.png?1363371593') no-repeat center 10px;
 }
 
 #menu-bar.nav ul.menu li.main-menu-search {
   display: none;
 }
 #menu-bar.nav ul.menu li.main-menu-search a {
-  background: url('../images/icons/icon-search.png?1361802894') no-repeat center 10px;
+  background: url('../images/icons/icon-search.png?1363371593') no-repeat center 10px;
 }
 
 #block-commons-utility-links-utility-links {
@@ -1498,7 +1701,7 @@ ul.commons-utility-links {
 ul.commons-utility-links li {
   display: inline-block;
 }
-ul.commons-utility-links li.first {
+.logged-in ul.commons-utility-links li.first {
   margin-right: 17px;
   font-weight: bold;
 }
@@ -1531,7 +1734,7 @@ ul.sf-menu a:focus, ul.sf-menu a:hover, ul.sf-menu a:active {
   outline: 0;
 }
 
-/*
+/**
  * Superfish blocks
  */
 .block-superfish ul {
@@ -1543,7 +1746,7 @@ ul.sf-menu a:focus, ul.sf-menu a:hover, ul.sf-menu a:active {
   padding: 0 !important;
 }
 
-/*
+/**
  * Vertical style
  */
 .sf-vertical {
@@ -1562,14 +1765,14 @@ ul.sf-menu a:focus, ul.sf-menu a:hover, ul.sf-menu a:active {
   padding: 0 10px;
 }
 
-/*
+/**
  * Navbar style
  */
 .sf-navbar {
   padding-bottom: 0 !important;
 }
 
-/*
+/**
  * Sensible padding for the default style
  */
 .sf-menu.sf-style-default a {
@@ -1585,7 +1788,7 @@ ul.menu {
 ul.menu ul {
   padding-left: 15px;
 }
-ul.menu li {
+ul.menu ul li {
   margin: 0;
 }
 
@@ -1660,9 +1863,6 @@ ul.pager li.pager-current {
   margin: 0;
 }
 
-/*
- * Theme the various states of pager links
- */
 /* =============================================================================
  *   Skip Navigation
  * ========================================================================== */
@@ -1740,7 +1940,7 @@ ul.primary li.active a:focus {
 ul.secondary {
   border-bottom: 1px solid #cccccc;
   margin: 1em 0 0;
-  padding: 0 0.3em 1em;
+  padding: 0 .3em 1em;
 }
 ul.secondary li {
   border-right: 0;
@@ -1763,16 +1963,7 @@ ul.action-links {
 /* =============================================================================
  *  Field Styling
  * ========================================================================== */
-/*
- * Wrapper for any field
- */
-/*
- * Above and inline classes are on the field wrapper
- */
-/*
- * When labels are set to inline in field display settings the clearfix class is automatically added
- */
-/*
+/**
  * Labels are h2 in Adaptivetheme. Use a strong selector to mitigate unwanted ineritance issues
  */
 .field-label {
@@ -1783,13 +1974,7 @@ ul.action-links {
   margin-bottom: 0;
 }
 
-/*
- * Field types (Core)
- */
-/*
- * Image fields use the <figure> and <figcaption> elements from HTML5
- */
-/*
+/**
  * Taxonomy
  */
 .field-type-taxonomy-term-reference {
@@ -1806,55 +1991,7 @@ ul.action-links {
   padding: 0 10px 0 0;
 }
 
-/*
- * Text
- */
-/*
- * Long text
- */
-/*
- * Text with summary
- */
-/*
- * File
- */
-/*
- * Number/Integer
- */
-/*
- * Decimal
- */
-/*
- * Number float
- */
-/*
- * List
- */
-/*
- * List boolean
- */
-/*
- * List integer
- */
-/*
- * List float
- */
-/*
- * Field types (Contrib)
- */
-/*
- * Named fields
- */
-/*
- * Underscores in field name are replaced with dashes
- */
-/*
- * Image Alignment Theme Settings - included here so you can easily override
- */
-/*
- * Float none setting
- */
-/*
+/**
  * Float left setting
  */
 .ia-l .field-type-image figure,
@@ -1862,7 +1999,7 @@ ul.action-links {
   margin: 5px 20px 15px 0;
 }
 
-/*
+/**
  * Centered setting
  */
 .ia-c .field-type-image figure,
@@ -1870,7 +2007,7 @@ ul.action-links {
   margin: 5px auto 15px;
 }
 
-/*
+/**
  * Float right setting
  */
 .ia-r .field-type-image figure,
@@ -1881,19 +2018,23 @@ ul.action-links {
 /* =============================================================================
  *   Panels Styling
  * ========================================================================== */
-.node-type-group.page-node .commons-pod {
-  padding: 0;
-  background-color: transparent;
-  -webkit-border-radius: 0;
-  -moz-border-radius: 0;
-  -ms-border-radius: 0;
-  -o-border-radius: 0;
-  border-radius: 0;
-  -webkit-box-shadow: none;
-  -moz-box-shadow: none;
-  box-shadow: none;
-  margin-right: 0;
-  margin-bottom: 0;
+.node-title,
+.pane-title {
+  font-weight: normal;
+  font-size: 1.6em;
+}
+
+.panel-display {
+  min-width: 100%;
+  margin-right: -10px;
+  margin-left: -10px;
+}
+.panel-display .region {
+  -webkit-box-sizing: border-box;
+  -moz-box-sizing: border-box;
+  box-sizing: border-box;
+  padding-right: 10px;
+  padding-left: 10px;
 }
 
 .commons-pod-comments {
@@ -1926,7 +2067,7 @@ ul.action-links {
   background-image: -moz-linear-gradient(top, #919591 0%, #90948f 12%, #757a74 33%, #737772 100%);
   background-image: -o-linear-gradient(top, #919591 0%, #90948f 12%, #757a74 33%, #737772 100%);
   background-image: linear-gradient(top, #919591 0%, #90948f 12%, #757a74 33%, #737772 100%);
-  border: 1px solid #585c58;
+  border: 1px solid #585C58;
   -webkit-border-radius: 3px;
   -moz-border-radius: 3px;
   -ms-border-radius: 3px;
@@ -1961,16 +2102,6 @@ body.page-node .pane-views-panes h2 {
 .pane-commons-events-upcoming .block-inner {
   margin: 0;
 }
-.pane-commons-featured-panel-pane-1 .block-inner .pane-title,
-.pane-commons-events-upcoming .block-inner .pane-title {
-  padding: 20px 20px 0 20px;
-  line-height: 20px;
-}
-.pane-commons-featured-panel-pane-1 .block-inner .views-row,
-.pane-commons-events-upcoming .block-inner .views-row {
-  padding: 10px 20px 10px 20px;
-  border-bottom: 1px solid #eeeeee;
-}
 .pane-commons-featured-panel-pane-1 .block-inner .views-row-last,
 .pane-commons-events-upcoming .block-inner .views-row-last {
   border-bottom: none;
@@ -2018,11 +2149,15 @@ body.page-node .pane-views-panes h2 {
   margin-left: 0;
 }
 
-.view-commons-radioactivity-groups-most-active .type-Wiki, .view-commons-groups-recent-content .type-Wiki, .view-commons-radioactivity-groups-active-in-group .type-Wiki {
+.view-commons-radioactivity-groups-most-active .type-Wiki,
+.view-commons-groups-recent-content .type-Wiki,
+.view-commons-radioactivity-groups-active-in-group .type-Wiki {
   font-size: 12px;
 }
-.view-commons-radioactivity-groups-most-active .type-Wiki:before, .view-commons-groups-recent-content .type-Wiki:before, .view-commons-radioactivity-groups-active-in-group .type-Wiki:before {
-  content: '';
+.view-commons-radioactivity-groups-most-active .type-Wiki:before,
+.view-commons-groups-recent-content .type-Wiki:before,
+.view-commons-radioactivity-groups-active-in-group .type-Wiki:before {
+  content: "";
   background: url('../images/icons-se7682cf316.png') 0 -491px no-repeat;
   width: 13px;
   height: 13px;
@@ -2032,11 +2167,15 @@ body.page-node .pane-views-panes h2 {
   top: 1px;
   margin-right: 6px;
 }
-.view-commons-radioactivity-groups-most-active .type-Event, .view-commons-groups-recent-content .type-Event, .view-commons-radioactivity-groups-active-in-group .type-Event {
+.view-commons-radioactivity-groups-most-active .type-Event,
+.view-commons-groups-recent-content .type-Event,
+.view-commons-radioactivity-groups-active-in-group .type-Event {
   font-size: 12px;
 }
-.view-commons-radioactivity-groups-most-active .type-Event:before, .view-commons-groups-recent-content .type-Event:before, .view-commons-radioactivity-groups-active-in-group .type-Event:before {
-  content: '';
+.view-commons-radioactivity-groups-most-active .type-Event:before,
+.view-commons-groups-recent-content .type-Event:before,
+.view-commons-radioactivity-groups-active-in-group .type-Event:before {
+  content: "";
   background: url('../images/icons-se7682cf316.png') 0 -715px no-repeat;
   width: 12px;
   height: 12px;
@@ -2046,11 +2185,15 @@ body.page-node .pane-views-panes h2 {
   top: 1px;
   margin-right: 6px;
 }
-.view-commons-radioactivity-groups-most-active .type-Poll, .view-commons-groups-recent-content .type-Poll, .view-commons-radioactivity-groups-active-in-group .type-Poll {
+.view-commons-radioactivity-groups-most-active .type-Poll,
+.view-commons-groups-recent-content .type-Poll,
+.view-commons-radioactivity-groups-active-in-group .type-Poll {
   font-size: 12px;
 }
-.view-commons-radioactivity-groups-most-active .type-Poll:before, .view-commons-groups-recent-content .type-Poll:before, .view-commons-radioactivity-groups-active-in-group .type-Poll:before {
-  content: '';
+.view-commons-radioactivity-groups-most-active .type-Poll:before,
+.view-commons-groups-recent-content .type-Poll:before,
+.view-commons-radioactivity-groups-active-in-group .type-Poll:before {
+  content: "";
   background: url('../images/icons-se7682cf316.png') 0 -811px no-repeat;
   width: 11px;
   height: 11px;
@@ -2060,11 +2203,15 @@ body.page-node .pane-views-panes h2 {
   top: 1px;
   margin-right: 6px;
 }
-.view-commons-radioactivity-groups-most-active .type-Post, .view-commons-groups-recent-content .type-Post, .view-commons-radioactivity-groups-active-in-group .type-Post {
+.view-commons-radioactivity-groups-most-active .type-Post,
+.view-commons-groups-recent-content .type-Post,
+.view-commons-radioactivity-groups-active-in-group .type-Post {
   font-size: 12px;
 }
-.view-commons-radioactivity-groups-most-active .type-Post:before, .view-commons-groups-recent-content .type-Post:before, .view-commons-radioactivity-groups-active-in-group .type-Post:before {
-  content: '';
+.view-commons-radioactivity-groups-most-active .type-Post:before,
+.view-commons-groups-recent-content .type-Post:before,
+.view-commons-radioactivity-groups-active-in-group .type-Post:before {
+  content: "";
   background: url('../images/icons-se7682cf316.png') 0 -970px no-repeat;
   width: 11px;
   height: 11px;
@@ -2074,11 +2221,21 @@ body.page-node .pane-views-panes h2 {
   top: 1px;
   margin-right: 6px;
 }
-.view-commons-radioactivity-groups-most-active .type-Question, .view-commons-radioactivity-groups-most-active .type-Answer, .view-commons-groups-recent-content .type-Question, .view-commons-groups-recent-content .type-Answer, .view-commons-radioactivity-groups-active-in-group .type-Question, .view-commons-radioactivity-groups-active-in-group .type-Answer {
+.view-commons-radioactivity-groups-most-active .type-Question,
+.view-commons-radioactivity-groups-most-active .type-Answer,
+.view-commons-groups-recent-content .type-Question,
+.view-commons-groups-recent-content .type-Answer,
+.view-commons-radioactivity-groups-active-in-group .type-Question,
+.view-commons-radioactivity-groups-active-in-group .type-Answer {
   font-size: 12px;
 }
-.view-commons-radioactivity-groups-most-active .type-Question:before, .view-commons-radioactivity-groups-most-active .type-Answer:before, .view-commons-groups-recent-content .type-Question:before, .view-commons-groups-recent-content .type-Answer:before, .view-commons-radioactivity-groups-active-in-group .type-Question:before, .view-commons-radioactivity-groups-active-in-group .type-Answer:before {
-  content: '';
+.view-commons-radioactivity-groups-most-active .type-Question:before,
+.view-commons-radioactivity-groups-most-active .type-Answer:before,
+.view-commons-groups-recent-content .type-Question:before,
+.view-commons-groups-recent-content .type-Answer:before,
+.view-commons-radioactivity-groups-active-in-group .type-Question:before,
+.view-commons-radioactivity-groups-active-in-group .type-Answer:before {
+  content: "";
   background: url('../images/icons-se7682cf316.png') 0 -619px no-repeat;
   width: 13px;
   height: 13px;
@@ -2131,7 +2288,7 @@ body.page-node .pane-views-panes h2 {
   margin-right: 3px;
   position: relative;
   top: 1px;
-  content: '';
+  content: "";
   top: 3px;
 }
 
@@ -2142,7 +2299,7 @@ body.page-node .pane-views-panes h2 {
   margin: 0 0 0 18px;
 }
 .view-id-commons_events_upcoming .views-field-title {
-  background-image: url('../images/icons/icon-gray-event.png?1361802894');
+  background-image: url('../images/icons/icon-gray-event.png?1363371593');
   background-repeat: no-repeat;
   background-position: left 4px;
   margin: 0;
@@ -2159,77 +2316,97 @@ body.page-node .pane-views-panes h2 {
   font-size: 0.85em;
 }
 
-.view-id-commons_groups_contributors table {
+.views-view-grid {
   border: none;
+  margin: 0;
 }
-.view-id-commons_groups_contributors tbody tr {
+.views-view-grid tbody tr {
   border-top: none;
-}
-.view-id-commons_groups_contributors .user-picture:after {
   background: none;
 }
+.views-view-grid td {
+  padding: 5px;
+}
+
+.grid-grouping-title {
+  font-size: 1em;
+  color: #858585;
+  margin-bottom: 10px;
+}
 
 .pager a {
   padding: 5px 20px;
 }
 
-.view-commons-groups-directory h2, .view-commons-homepage-content .node-teaser.node-group h2 {
+.view-commons-groups-directory h2,
+.view-commons-homepage-content .node-teaser.node-group h2 {
   font-size: 26px;
   line-height: 1em;
   margin: 10px 0 5px 0;
 }
-.view-commons-groups-directory .block-inner .pane-title, .view-commons-homepage-content .node-teaser.node-group .block-inner .pane-title {
+.view-commons-groups-directory .block-inner .pane-title,
+.view-commons-homepage-content .node-teaser.node-group .block-inner .pane-title {
   display: none;
 }
-.view-commons-groups-directory .pane-node-field-group-logo, .view-commons-homepage-content .node-teaser.node-group .pane-node-field-group-logo {
-  float: left;
-  margin-bottom: 3px;
-  margin-top: 3px;
-}
-.view-commons-groups-directory .pane-node-field-group-logo .field-name-field-group-logo a, .view-commons-homepage-content .node-teaser.node-group .pane-node-field-group-logo .field-name-field-group-logo a {
-  display: block;
-  border: 3px solid white;
-  -webkit-border-radius: 2px;
-  -moz-border-radius: 2px;
-  -ms-border-radius: 2px;
-  -o-border-radius: 2px;
-  border-radius: 2px;
-  box-shadow: 1px 1px 3px #666666;
-}
-.view-commons-groups-directory .pane-node-field-group-logo .field-name-field-group-logo a img, .view-commons-homepage-content .node-teaser.node-group .pane-node-field-group-logo .field-name-field-group-logo a img {
-  display: block;
-}
-.view-commons-groups-directory > .view-content > .views-row, .view-commons-groups-directory > .view-filters, .view-commons-homepage-content .node-teaser.node-group > .view-content > .views-row, .view-commons-homepage-content .node-teaser.node-group > .view-filters {
+.view-commons-groups-directory > .view-content > .views-row,
+.view-commons-groups-directory > .view-filters,
+.view-commons-homepage-content .node-teaser.node-group > .view-content > .views-row,
+.view-commons-homepage-content .node-teaser.node-group > .view-filters {
   position: relative;
 }
-.view-commons-groups-directory .view-filters .views-exposed-widgets, .view-commons-homepage-content .node-teaser.node-group .view-filters .views-exposed-widgets {
+.view-commons-groups-directory .view-filters .views-exposed-widgets,
+.view-commons-homepage-content .node-teaser.node-group .view-filters .views-exposed-widgets {
   margin-bottom: 0;
 }
 .view-commons-groups-directory .view-filters .views-widget,
-.view-commons-groups-directory .view-filters label, .view-commons-homepage-content .node-teaser.node-group .view-filters .views-widget,
+.view-commons-groups-directory .view-filters label,
+.view-commons-homepage-content .node-teaser.node-group .view-filters .views-widget,
 .view-commons-homepage-content .node-teaser.node-group .view-filters label {
   display: inline-block;
 }
-.view-commons-groups-directory .view-filters label, .view-commons-homepage-content .node-teaser.node-group .view-filters label {
+.view-commons-groups-directory .view-filters label,
+.view-commons-homepage-content .node-teaser.node-group .view-filters label {
   color: #333333;
   font-size: 0.85em;
   font-weight: normal;
   margin: 0 15px 0 0;
+  line-height: 2em;
 }
-.view-commons-groups-directory .view-filters .form-text, .view-commons-homepage-content .node-teaser.node-group .view-filters .form-text {
+.view-commons-groups-directory .view-filters .form-text,
+.view-commons-homepage-content .node-teaser.node-group .view-filters .form-text {
   width: 400px;
   -webkit-box-shadow: #858585 1px 1px 2px inset;
   -moz-box-shadow: #858585 1px 1px 2px inset;
   box-shadow: #858585 1px 1px 2px inset;
   border-color: #c2c2c2;
 }
-.view-commons-groups-directory .view-filters .form-submit, .view-commons-homepage-content .node-teaser.node-group .view-filters .form-submit {
+.view-commons-groups-directory .view-filters .form-submit,
+.view-commons-homepage-content .node-teaser.node-group .view-filters .form-submit {
   margin-top: 1px;
 }
-.view-commons-groups-directory .pane-node-body, .view-commons-homepage-content .node-teaser.node-group .pane-node-body {
+.view-commons-groups-directory .pane-node-body,
+.view-commons-homepage-content .node-teaser.node-group .pane-node-body {
   margin-bottom: 0;
 }
 
+.pane-node-field-group-logo {
+  float: left;
+  margin: 0 10px 10px 0;
+}
+.pane-node-field-group-logo .field-name-field-group-logo a {
+  display: block;
+  border: 3px solid white;
+  -webkit-border-radius: 2px;
+  -moz-border-radius: 2px;
+  -ms-border-radius: 2px;
+  -o-border-radius: 2px;
+  border-radius: 2px;
+  box-shadow: 1px 1px 3px #666666;
+}
+.pane-node-field-group-logo .field-name-field-group-logo a img {
+  display: block;
+}
+
 .pane-commons-groups-recent-content {
   width: 50%;
   float: left;
@@ -2292,7 +2469,7 @@ body.page-node .pane-views-panes h2 {
   z-index: 15;
 }
 .pane-commons-contributors-group-panel-pane-1 td a span:after {
-  content: '';
+  content: "";
   display: block;
   width: 0px;
   height: 0px;
@@ -2311,7 +2488,8 @@ body.page-node .pane-views-panes h2 {
   display: block;
 }
 
-.region-two-66-33-second .view-commons-contributors-group table, .region-two-66-33-second .view-commons-contributors-group tbody {
+.region-two-66-33-second .view-commons-contributors-group table,
+.region-two-66-33-second .view-commons-contributors-group tbody {
   margin: 0;
   border: none;
 }
@@ -2333,13 +2511,16 @@ body.page-node .pane-views-panes h2 {
   width: 40px;
 }
 
-#views-exposed-form-commons-homepage-content-panel-pane-1 .views-submit-button, #views-exposed-form-commons-bw-all-page-1 .views-submit-button {
+#views-exposed-form-commons-homepage-content-panel-pane-1 .views-submit-button,
+#views-exposed-form-commons-bw-all-page-1 .views-submit-button {
   margin-left: 20px;
 }
-#views-exposed-form-commons-homepage-content-panel-pane-1 .views-exposed-widget, #views-exposed-form-commons-bw-all-page-1 .views-exposed-widget {
+#views-exposed-form-commons-homepage-content-panel-pane-1 .views-exposed-widget,
+#views-exposed-form-commons-bw-all-page-1 .views-exposed-widget {
   padding: 0;
 }
-#views-exposed-form-commons-homepage-content-panel-pane-1 .views-exposed-widget .form-submit, #views-exposed-form-commons-bw-all-page-1 .views-exposed-widget .form-submit {
+#views-exposed-form-commons-homepage-content-panel-pane-1 .views-exposed-widget .form-submit,
+#views-exposed-form-commons-bw-all-page-1 .views-exposed-widget .form-submit {
   margin-top: 0;
 }
 
@@ -2349,11 +2530,11 @@ body.page-node .pane-views-panes h2 {
 
 .pane-node-flag-commons-follow-group-link {
   position: absolute;
-  right: 5px;
+  right: 10px;
   top: 22px;
 }
 .pane-node-flag-commons-follow-group-link .flag-action:before {
-  content: '';
+  content: "";
   background: url('../images/icons-se7682cf316.png') 0 -590px no-repeat;
   width: 11px;
   height: 9px;
@@ -2368,16 +2549,17 @@ body.page-node .pane-views-panes h2 {
 .view-id-commons_featured .views-field-title .field-content {
   background-repeat: no-repeat;
 }
-.view-id-commons_featured .views-field-field-date, .view-id-commons_featured .views-field-field-address {
+.view-id-commons_featured .views-field-field-date,
+.view-id-commons_featured .views-field-field-address {
   margin: 0 0 0 18px;
 }
 .view-id-commons_featured .type-Event {
-  background-image: url('../images/icons/icon-gray-event.png?1361802894');
+  background-image: url('../images/icons/icon-gray-event.png?1363371593');
   background-position: left 1px;
   padding: 0 0 0 18px;
 }
 .view-id-commons_featured .type-Post {
-  background-image: url('../images/icons/icon-gray-post.png?1361802894');
+  background-image: url('../images/icons/icon-gray-post.png?1363371593');
   background-position: left 1px;
   padding: 0 0 0 18px;
 }
@@ -2405,7 +2587,8 @@ body.page-node .pane-views-panes h2 {
   margin-top: 0;
 }
 
-.views-widget-sort-by .form-select-wrapper, .form-item-sort-order .form-select-wrapper {
+.views-widget-sort-by .form-select-wrapper,
+.form-item-sort-order .form-select-wrapper {
   float: left;
 }
 
@@ -2482,7 +2665,7 @@ body.page-node .pane-views-panes h2 {
   margin-right: 3px;
   position: relative;
   top: 1px;
-  content: '';
+  content: "";
   position: absolute;
   left: 10px;
   top: 13px;
@@ -2495,7 +2678,7 @@ body.page-node .pane-views-panes h2 {
   margin-right: 3px;
   position: relative;
   top: 1px;
-  content: '';
+  content: "";
   position: absolute;
   left: 10px;
   top: 13px;
@@ -2508,7 +2691,7 @@ body.page-node .pane-views-panes h2 {
   margin-right: 3px;
   position: relative;
   top: 1px;
-  content: '';
+  content: "";
   position: absolute;
   left: 10px;
   top: 13px;
@@ -2521,7 +2704,7 @@ body.page-node .pane-views-panes h2 {
   margin-right: 3px;
   position: relative;
   top: 1px;
-  content: '';
+  content: "";
   position: absolute;
   left: 10px;
   top: 13px;
@@ -2534,7 +2717,7 @@ body.page-node .pane-views-panes h2 {
   margin-right: 3px;
   position: relative;
   top: 1px;
-  content: '';
+  content: "";
   position: absolute;
   left: 10px;
   top: 13px;
@@ -2596,93 +2779,7 @@ body.page-node .pane-views-panes h2 {
 /* =============================================================================
  *   Block Styling
  * ========================================================================== */
-/*
- * Main wrapper for most blocks, block_system_main does not have it
- */
-.block {
-  margin-bottom: 20px;
-}
-
-/*
- * Inner wrapper for most blocks, good for margin, padding and borders, block_system_main does not have it
- */
-/*
- * The first block in the region
- */
-/*
- * The last block in the region
- */
-/*
- * Zebra striping for each block in the region
- */
-/*
- * Zebra striping for each block in the region
- */
-/*
- * Block title
- */
-.block-title {
-  margin: 0;
-}
-
-/*
- * Block content wrapper
- */
-/*
- * Match item list and block menu margin and padding
- */
-.block-content ul,
-.block-content ol {
-  padding: 0 0 0 15px;
-}
-.block-content li {
-  margin: 0;
-  padding: 0;
-}
-
-/*
- * Block for the latest news items in the first category
- */
-/*
- * Block for the latest news items in the first feed
- */
-/*
- * First block created with "Add block" link
- */
-/*
- * "Recent blog posts" block
- */
-/*
- * "Book navigation" block for the current book's table of contents
- */
-/*
- * "Recent comments" block
- */
-/*
- * "Active forum topics" block
- */
-/*
- * "New forum topics" block
- */
-/*
- * Language switcher block
- */
-/*
- * Custom menu block
- */
-/*
- * "Recent content" block
- */
-/*
- * "Syndicate" block for primary RSS feed; see also page.css's .feed-icon
- */
-/*
- * "Most recent poll" block
- */
-/*
- * "Author information" block for the profile of the page's author
- */
-/*
+/**
  * "Search form" block
  */
 .block-search {
@@ -2705,9 +2802,6 @@ body.page-node .pane-views-panes h2 {
   margin: 0 0 0 10px;
   position: relative;
 }
-.not-logged-in .block-search {
-  margin-top: 15px;
-}
 .block-search .block-inner {
   margin-left: 0;
   margin-right: 0;
@@ -2727,7 +2821,7 @@ body.page-node .pane-views-panes h2 {
   border: none !important;
   width: 12px !important;
   height: 12px !important;
-  background-image: url('../images/icons/ico_search_wht.png?1361802894') !important;
+  background-image: url('../images/icons/ico_search_wht.png?1363371593') !important;
   text-indent: -9999px !important;
   padding: 0 !important;
   margin: 10px 2px !important;
@@ -2743,42 +2837,6 @@ body.page-node .pane-views-panes h2 {
   display: block;
 }
 
-/*
- * "Shortcuts" block
- */
-/*
- * "Popular content" block
- */
-/*
- * "Main menu" block
- */
-/*
- * "Management" block for Drupal management menu
- */
-/*
- * "Navigation" block for Drupal navigation menu
- */
-/*
- * "User menu" block for Drupal user menu
- */
-/*
- * "System help" block
- */
-/*
- * "Main page content" block
- */
-/*
- * "Powered by Drupal" block
- */
-/*
- * "User login form" block
- */
-/*
- * "Who's new" block for a list of the newest users
- */
-/*
- * "Who's online" block for a list of the online users
- */
 /* =============================================================================
  *   Node Styling
  * ========================================================================== */
@@ -2800,7 +2858,7 @@ body.page-node .pane-views-panes h2 {
   z-index: 1;
 }
 .featured-node-tooltip:before {
-  content: '';
+  content: "";
   display: block;
   width: 0px;
   height: 0px;
@@ -2829,23 +2887,25 @@ body.page-node .pane-views-panes h2 {
 body.page-node.node-type-group h2#page-title {
   font-size: 54px;
   line-height: 54px;
-  font-weight: normal;
 }
 
-/*
- * All nodes are given a node-FOO class that describes the type of content that
- * it is. If you create a new content type called "my-custom-type", it will
- * receive a "node-my-custom-type" class.
+/**
+ * Node forms
  */
+.node-form {
+  /* Polls have some bad, over specific, styles so this is what needs to be
+     done. */
+}
+.node-form #poll-choice-table .form-text {
+  width: 100%;
+}
+
 /* =============================================================================
  *   Comment Styling - Comments, comment wrapper, comment form
  * ========================================================================== */
-/*
+/**
  * Wrapper for the list of comments and its titles
  */
-#comments {
-  margin: 1.5em 0;
-}
 #comments h2.comment-title {
   margin: 0;
 }
@@ -2853,38 +2913,58 @@ body.page-node.node-type-group h2#page-title {
   margin: 0;
 }
 
-/*
+/**
  * Wrapper for a single comment
  */
 .comment {
   margin-bottom: 20px;
 }
 
-/*
- * Comment states
- */
-/*
- * Preview of the comment before submitting new or updated comment
- */
-/*
+/**
  * "New" marker for comments that are new for the current user
  */
 .new {
   color: #cc0000;
 }
 
-/*
+/**
  * Nested comments are indented
  */
 .indented {
   margin-left: 40px;
 }
 
+.has-rate-widget {
+  margin-right: 6em;
+  position: relative;
+}
+@media only screen and (max-width: 768px) {
+  .has-rate-widget {
+    margin-right: 0;
+  }
+}
+
 .rate-widget-commons_thumbs_up_down {
   float: right;
+  position: absolute;
+  top: 0;
+  right: -6em;
+  margin-top: 0;
 }
-.rate-widget-commons_thumbs_up_down ul {
-  padding: 0;
+@media only screen and (max-width: 768px) {
+  .rate-widget-commons_thumbs_up_down {
+    position: static;
+    float: left;
+    margin: 20px auto;
+  }
+}
+
+.related-information {
+  clear: both;
+  margin: 20px 0;
+}
+.related-information .field {
+  float: left;
 }
 
 /* =============================================================================
@@ -2906,7 +2986,7 @@ tr.odd .form-item, tr.even .form-item {
   white-space: normal;
 }
 
-/*
+/**
  * Wrapper for a form element (or group of form elements) and its label
  */
 .form-item input.error,
@@ -2921,7 +3001,7 @@ tr.odd .form-item, tr.even .form-item {
   font-size: 0.85em;
 }
 
-/*
+/**
  * Highlight marks and form required mark
  */
 .marker,
@@ -2929,7 +3009,7 @@ tr.odd .form-item, tr.even .form-item {
   color: #cc0000;
 }
 
-/*
+/**
  * The submit button
  */
 .container-inline div,
@@ -2937,17 +3017,14 @@ tr.odd .form-item, tr.even .form-item {
   display: inline;
 }
 
-/*
+/**
  * Define consistent borders
  */
 fieldset {
   border: 1px solid #cccccc;
 }
 
-/*
- * Tips for Drupal's input formats
- */
-/*
+/**
  * Buttons used by contrib modules like Media
  */
 a.button {
@@ -2956,7 +3033,7 @@ a.button {
   appearance: button;
 }
 
-/*
+/**
  * Password confirmation
  */
 .password-parent,
@@ -2964,13 +3041,19 @@ a.button {
   margin: 0;
 }
 
-input[type="text"] {
+input[type="text"],
+textarea {
+  -webkit-box-sizing: border-box;
+  -moz-box-sizing: border-box;
+  box-sizing: border-box;
   -webkit-border-radius: 3px;
   -moz-border-radius: 3px;
   -ms-border-radius: 3px;
   -o-border-radius: 3px;
   border-radius: 3px;
-  border: 1px solid #b2b2b2;
+  border: 1px solid #B2B2B2;
+  width: 100%;
+  max-width: 100%;
 }
 
 button,
@@ -2988,7 +3071,7 @@ input[type="submit"] {
   background-image: -moz-linear-gradient(top, #ececec 0%, #e6e6e6 22%, #e6e6e6 100%);
   background-image: -o-linear-gradient(top, #ececec 0%, #e6e6e6 22%, #e6e6e6 100%);
   background-image: linear-gradient(top, #ececec 0%, #e6e6e6 22%, #e6e6e6 100%);
-  border: 1px solid #bbbbbb;
+  border: 1px solid #BBBBBB;
   font-weight: normal;
   margin: 0 10px 0 0;
 }
@@ -3017,8 +3100,8 @@ form.commons-events-form-float input {
 }
 
 #edit-field-topics-und {
-  border-top: 2px groove #8a8a8a;
-  border-left: 2px groove #8a8a8a;
+  border-top: 2px groove #8A8A8A;
+  border-left: 2px groove #8A8A8A;
 }
 
 form.commons-events-form-float {
@@ -3026,6 +3109,10 @@ form.commons-events-form-float {
   font-size: .85em;
   padding: 0;
   border: none;
+  -webkit-border-radius: 0;
+  -moz-border-radius: 0;
+  -ms-border-radius: 0;
+  -o-border-radius: 0;
   border-radius: 0;
   max-width: 80px;
   margin-right: -90px;
@@ -3034,6 +3121,18 @@ form.commons-events-form-float {
 form.commons-events-form-float input, form.commons-events-form-float input:hover {
   padding: 3px 10px;
 }
+@media only screen and (max-width: 768px) {
+  form.commons-events-form-float {
+    float: none;
+    margin: 1em 0;
+    max-width: inherit;
+    text-align: left;
+  }
+  form.commons-events-form-float .commons-event-status {
+    display: inline-block;
+    margin-left: 1em;
+  }
+}
 
 /* =============================================================================
  *   Tables
@@ -3101,7 +3200,7 @@ tr.even td.active {
   background-color: #ebebeb;
 }
 
-/*
+/**
  * Forum tables
  * Core sets white-space to nowrap, which makes no sense
  */
@@ -3126,7 +3225,7 @@ div.messages ul {
   margin-bottom: 0;
 }
 
-/*
+/**
  * Unpublished nodes
  */
 .node-unpublished p.unpublished,
@@ -3145,10 +3244,6 @@ div.messages ul {
   text-transform: uppercase;
   word-wrap: break-word;
 }
-.ie6-7 .node-unpublished p.unpublished > *, .ie6-7
-.comment-unpublished p.unpublished > * {
-  position: relative;
-}
 
 /* =============================================================================
  *    Maintenance pages
@@ -3177,7 +3272,7 @@ div.messages ul {
 /* =============================================================================
  *   Misc overrides for contrib modules
  * ========================================================================== */
-/*
+/**
  * Admin menu overrides
  */
 #admin-menu {
@@ -3185,7 +3280,7 @@ div.messages ul {
   padding: 0;
 }
 
-/*
+/**
  * Devel Module
  */
 .dev-query {
@@ -3193,7 +3288,7 @@ div.messages ul {
   padding: 30px;
 }
 
-/*
+/**
  * Styleguide module tweaks
  */
 #styleguide-header {
@@ -3222,7 +3317,6 @@ body.front .region-three-33-top h1 {
 body.front .region-three-33-top .commons_home-welcome-image {
   float: right;
 }
-
 body.front.not-logged-in #block-system-main .pane-1 .pane-title {
   font-weight: 700;
   font-size: 38px;
@@ -3262,17 +3356,20 @@ body.front.logged-in .view-commons-homepage-content .item-list {
   padding: 10px 0 0 0;
 }
 body.front.logged-in #views-exposed-form-commons-homepage-content-panel-pane-1 .views-exposed-widgets {
-  padding: 10px 10px 10px 10px;
+  padding: 10px 0;
   margin-bottom: 0;
 }
-body.front.logged-in #views-exposed-form-commons-homepage-content-panel-pane-1 .views-exposed-widgets.widgets-active {
-  padding-bottom: 10px;
-}
 body.front.logged-in #views-exposed-form-commons-homepage-content-panel-pane-1 .views-exposed-widgets.widgets-active .selectBox-dropdown {
   background-color: white;
 }
 
-body.front.logged-in .view-commons-homepage-content .article.node.no-user-picture .node-header, body.front.logged-in .view-commons-homepage-content .article.node.no-user-picture .node-content, body.front.logged-in .view-commons-homepage-content .article.node.no-user-picture .author-datetime, body.front.logged-in .view-commons-homepage-content .article.node.no-user-picture .links, body.front.logged-in .view-commons-homepage-content .article.node.node-page .node-header, body.front.logged-in .view-commons-homepage-content .article.node.node-page .node-content, body.front.logged-in .view-commons-homepage-content .article.node.node-page .author-datetime, body.front.logged-in .view-commons-homepage-content .article.node.node-page .links {
+body.front.logged-in .view-commons-homepage-content .article.node.no-user-picture .node-header,
+body.front.logged-in .view-commons-homepage-content .article.node.no-user-picture .node-content,
+body.front.logged-in .view-commons-homepage-content .article.node.no-user-picture .author-datetime,
+body.front.logged-in .view-commons-homepage-content .article.node.no-user-picture .links, body.front.logged-in .view-commons-homepage-content .article.node.node-page .node-header,
+body.front.logged-in .view-commons-homepage-content .article.node.node-page .node-content,
+body.front.logged-in .view-commons-homepage-content .article.node.node-page .author-datetime,
+body.front.logged-in .view-commons-homepage-content .article.node.node-page .links {
   margin-left: 0;
 }
 
@@ -3295,28 +3392,28 @@ body.front.logged-in .view-commons-homepage-content .article.node.no-user-pictur
   display: none;
 }
 
-/*
+/**
  *  Placeholder styles
  */
 #menu-bar.nav .menu-item-193 a {
-  background-image: url('../images/icons/icon-home.png?1361802894');
+  background-image: url('../images/icons/icon-home.png?1363371593');
 }
 #menu-bar.nav .menu-item-194 a {
-  background-image: url('../images/icons/icon-groups.png?1361802894');
+  background-image: url('../images/icons/icon-groups.png?1363371593');
 }
 #menu-bar.nav .menu-item-195 a {
-  background-image: url('../images/icons/icon-events.png?1361802894');
+  background-image: url('../images/icons/icon-events.png?1363371593');
 }
 
-.page-events .region-three-25-50-25-first {
-  margin-right: 0;
-}
+/**
+ * Events Page
+ */
 .page-events .region-three-25-50-25-first h3 {
   color: #666666;
   font-size: 18px;
 }
 .page-events .region-three-25-50-25-first .panel-pane {
-  border-bottom: 1px solid #eeeeee;
+  border-bottom: 1px solid #eee;
   padding-bottom: 5px;
   margin-bottom: 14px;
 }
@@ -3329,6 +3426,54 @@ body.front.logged-in .view-commons-homepage-content .article.node.no-user-pictur
 .page-events div.search-result-wrapper h3.title a {
   color: #2783b9;
 }
+@media only screen and (max-width: 768px) {
+  .page-events .three-25-50-25 > .filters-processed {
+    clear: none;
+    position: absolute;
+    right: 0;
+    float: right;
+    width: 0;
+    height: 0;
+    margin: 0;
+    padding: 0;
+    font-size: .88em;
+    background: white;
+    border: 1px solid #eeeeee;
+    z-index: 1;
+  }
+  .page-events .three-25-50-25 > .filters-processed .commons-pod {
+    margin: 0;
+    padding: 10px 0;
+    -webkit-border-radius: 0 0 0 3px;
+    -moz-border-radius: 0 0 0 3px;
+    -ms-border-radius: 0 0 0 3px;
+    -o-border-radius: 0 0 0 3px;
+    border-radius: 0 0 0 3px;
+  }
+  .page-events .three-25-50-25 > .filters-processed .panel-pane {
+    display: none;
+  }
+  .page-events .three-25-50-25 > .filters-processed .filter-trigger {
+    display: block;
+  }
+  .page-events .three-25-50-25 > .expanded {
+    margin-right: 0;
+    width: 75%;
+    height: auto;
+    opacity: 1;
+  }
+  .page-events .three-25-50-25 > .expanded .commons-pod {
+    padding: 10px;
+  }
+  .page-events .three-25-50-25 > .expanded .panel-pane {
+    display: block;
+  }
+}
+@media only screen and (max-width: 768px) {
+  .page-events .filter-overlay.expanded {
+    display: block;
+  }
+}
 
 .pane-commons-events-commons-events-create-event-link {
   text-align: right;
@@ -3347,29 +3492,89 @@ body.front.logged-in .view-commons-homepage-content .article.node.no-user-pictur
   margin-right: 3px;
   position: relative;
   top: 1px;
-  content: '';
+  content: "";
   top: 2px;
   margin-right: 6px;
 }
 
-.page-search .region-two-33-66-first {
-  margin-right: 0;
-}
-.page-search .region-two-33-66-first h3 {
+/**
+ * Search
+ */
+.page-search .two-33-66 > .region-two-33-66-first h3 {
+  margin-bottom: 10px;
   color: #666666;
-  font-size: 18px;
+  font-size: 1.2em;
 }
-.page-search .region-two-33-66-first .panel-pane {
-  border-bottom: 1px solid #eeeeee;
+.page-search .two-33-66 > .region-two-33-66-first .panel-pane {
+  border-bottom: 1px solid #eee;
   padding-bottom: 5px;
-  margin-bottom: 14px;
+  margin-bottom: 15px;
 }
-.page-search .region-two-33-66-second > div {
-  padding-left: 15px;
+@media only screen and (max-width: 480px) {
+  .page-search .two-33-66 > .filters-processed {
+    clear: none;
+    position: absolute;
+    right: 0;
+    float: right;
+    width: 0;
+    height: 0;
+    margin: 0;
+    padding: 0;
+    font-size: .88em;
+    background: white;
+    border: 1px solid #eeeeee;
+    z-index: 1;
+  }
+  .page-search .two-33-66 > .filters-processed .commons-pod {
+    margin: 0;
+    padding: 10px 0;
+    -webkit-border-radius: 0 0 0 3px;
+    -moz-border-radius: 0 0 0 3px;
+    -ms-border-radius: 0 0 0 3px;
+    -o-border-radius: 0 0 0 3px;
+    border-radius: 0 0 0 3px;
+  }
+  .page-search .two-33-66 > .filters-processed .panel-pane {
+    display: none;
+  }
+  .page-search .two-33-66 > .filters-processed .filter-trigger {
+    display: block;
+  }
+  .page-search .two-33-66 > .expanded {
+    margin-right: 0;
+    width: 75%;
+    height: auto;
+    opacity: 1;
+  }
+  .page-search .two-33-66 > .expanded .commons-pod {
+    padding: 10px;
+  }
+  .page-search .two-33-66 > .expanded .panel-pane {
+    display: block;
+  }
+}
+@media only screen and (max-width: 480px) {
+  .page-search .filter-overlay.expanded {
+    display: block;
+  }
+}
+
+.facetapi-processed, .block-content .facetapi-processed {
+  margin-bottom: 0;
+  padding-left: 0;
+}
+.facetapi-processed li.last, .block-content .facetapi-processed li.last {
+  margin-bottom: 0;
 }
 
+.search-results-title,
 .search-results-wrapper > h2 {
-  margin: 0 0 10px;
+  font-weight: 300;
+  margin: 20px 0;
+}
+
+.search-results, .block-content .search-results {
+  padding: 0;
 }
 
 .search-result {
@@ -3387,9 +3592,10 @@ body.front.logged-in .view-commons-homepage-content .article.node.no-user-pictur
 .search-result h2 {
   font-size: 1.429em;
   line-height: 1.2em;
-  margin: 0.5em 0 0;
+  margin: .5em 0 0;
 }
 .search-result .title {
+  margin-top: 0;
   margin-bottom: .2em;
 }
 .search-result .search-result-url {
@@ -3415,6 +3621,9 @@ body.front.logged-in .view-commons-homepage-content .article.node.no-user-pictur
   float: right;
 }
 
+/**
+ * Notification settings
+ */
 .view-commons-follow-node .views-field-ops,
 .view-commons-follow-node .views-field-ops-1,
 .view-commons-follow-user .views-field-ops,
@@ -3434,6 +3643,9 @@ body.front.logged-in .view-commons-homepage-content .article.node.no-user-pictur
   text-align: center;
 }
 
+/**
+ * Commons Origins Pallete Choices
+ */
 #edit-commons-origins-palette .form-item-commons-origins-palette {
   clear: both;
   margin-bottom: 10px;
@@ -3445,11 +3657,17 @@ body.front.logged-in .view-commons-homepage-content .article.node.no-user-pictur
   margin-left: 20px;
 }
 
+/**
+ * Login and signup form
+ */
 #user-login input[type="text"], #user-login input[type="password"], #user-register-form input[type="text"], #user-register-form input[type="password"] {
   width: 20em;
   max-width: 100%;
 }
 
+/**
+ * Add the color palettes
+ */
 .palette-orange-red h2 {
   color: #830c00;
 }
@@ -3488,11 +3706,21 @@ body.front.logged-in .view-commons-homepage-content .article.node.no-user-pictur
 .palette-orange-red ul.commons-utility-links li.last {
   border-left-color: #d54f1a;
 }
-.palette-orange-red .quicktabs-style-commons-pills ul.quicktabs-tabs li.active a, .palette-orange-red ul.primary.tabs li.active a {
-  background-color: #830c00;
+.palette-orange-red .quicktabs-style-commons-pills ul.quicktabs-tabs li a,
+.palette-orange-red .quicktabs-style-commons-pills ul.quicktabs-tabs li a span,
+.palette-orange-red ul.primary.tabs li a,
+.palette-orange-red ul.primary.tabs li a span {
+  color: #d54f1a;
 }
-.palette-orange-red .quicktabs-style-commons-pills ul.quicktabs-tabs li.active a:after {
-  border-color: #830c00 transparent transparent transparent;
+.palette-orange-red .quicktabs-style-commons-pills ul.quicktabs-tabs li a:hover,
+.palette-orange-red ul.primary.tabs li a:hover {
+  color: #a83e14;
+}
+.palette-orange-red .quicktabs-style-commons-pills ul.quicktabs-tabs li.active a,
+.palette-orange-red .quicktabs-style-commons-pills ul.quicktabs-tabs li.active a span,
+.palette-orange-red ul.primary.tabs li.active a,
+.palette-orange-red ul.primary.tabs li.active a span {
+  color: #333333;
 }
 .palette-orange-red .block-search {
   background-color: #9e3b13;
@@ -3522,7 +3750,7 @@ body.front.logged-in .view-commons-homepage-content .article.node.no-user-pictur
   -moz-box-shadow: #a20f00 1px 0px 0px;
   box-shadow: #a20f00 1px 0px 0px;
 }
-.palette-orange-red .commons-sign-up, .palette-orange-red .pane-commons-groups-commons-groups-create-group a, .pane-commons-groups-commons-groups-create-group .palette-orange-red a, .palette-orange-red #quicktabs-container-commons_bw .quicktabs-tabpage .attachment-before > a, #quicktabs-container-commons_bw .quicktabs-tabpage .palette-orange-red .attachment-before > a, .palette-orange-red #quicktabs-container-commons_bw .quicktabs-tabpage .comment-add a, #quicktabs-container-commons_bw .quicktabs-tabpage .comment-add .palette-orange-red a, .palette-orange-red #content-column .view-content input[type="submit"], #content-column .view-content .palette-orange-red input[type="submit"], .palette-orange-red form.commons-events-form-float input, form.commons-events-form-float .palette-orange-red input, .palette-orange-red form.commons-events-form-float input:hover, form.commons-events-form-float .palette-orange-red input:hover, .palette-orange-red .pane-commons-events-commons-events-create-event-link a, .pane-commons-events-commons-events-create-event-link .palette-orange-red a {
+.palette-orange-red .button-alert, .palette-orange-red .commons-sign-up, .palette-orange-red .pane-commons-groups-commons-groups-create-group a, .pane-commons-groups-commons-groups-create-group .palette-orange-red a, .palette-orange-red #quicktabs-container-commons_bw .quicktabs-tabpage .attachment-before > a, #quicktabs-container-commons_bw .quicktabs-tabpage .palette-orange-red .attachment-before > a, .palette-orange-red #quicktabs-container-commons_bw .quicktabs-tabpage .comment-add a, #quicktabs-container-commons_bw .quicktabs-tabpage .comment-add .palette-orange-red a, .palette-orange-red #content-column .view-content input[type="submit"], #content-column .view-content .palette-orange-red input[type="submit"], .palette-orange-red form.commons-events-form-float input, form.commons-events-form-float .palette-orange-red input, .palette-orange-red form.commons-events-form-float input:hover, form.commons-events-form-float .palette-orange-red input:hover, .palette-orange-red .pane-commons-events-commons-events-create-event-link a, .pane-commons-events-commons-events-create-event-link .palette-orange-red a {
   box-shadow: 1px 1px 1px #feb431 inset, 0 3px 3px rgba(0, 0, 0, 0.09);
   background-color: #feb431;
   *zoom: 1;
@@ -3577,11 +3805,21 @@ body.front.logged-in .view-commons-homepage-content .article.node.no-user-pictur
 .palette-magenta-blue ul.commons-utility-links li.last {
   border-left-color: #e60074;
 }
-.palette-magenta-blue .quicktabs-style-commons-pills ul.quicktabs-tabs li.active a, .palette-magenta-blue ul.primary.tabs li.active a {
-  background-color: #891746;
+.palette-magenta-blue .quicktabs-style-commons-pills ul.quicktabs-tabs li a,
+.palette-magenta-blue .quicktabs-style-commons-pills ul.quicktabs-tabs li a span,
+.palette-magenta-blue ul.primary.tabs li a,
+.palette-magenta-blue ul.primary.tabs li a span {
+  color: #e60074;
 }
-.palette-magenta-blue .quicktabs-style-commons-pills ul.quicktabs-tabs li.active a:after {
-  border-color: #891746 transparent transparent transparent;
+.palette-magenta-blue .quicktabs-style-commons-pills ul.quicktabs-tabs li a:hover,
+.palette-magenta-blue ul.primary.tabs li a:hover {
+  color: #b3005a;
+}
+.palette-magenta-blue .quicktabs-style-commons-pills ul.quicktabs-tabs li.active a,
+.palette-magenta-blue .quicktabs-style-commons-pills ul.quicktabs-tabs li.active a span,
+.palette-magenta-blue ul.primary.tabs li.active a,
+.palette-magenta-blue ul.primary.tabs li.active a span {
+  color: #333333;
 }
 .palette-magenta-blue .block-search {
   background-color: #a90055;
@@ -3611,7 +3849,7 @@ body.front.logged-in .view-commons-homepage-content .article.node.no-user-pictur
   -moz-box-shadow: #a31b53 1px 0px 0px;
   box-shadow: #a31b53 1px 0px 0px;
 }
-.palette-magenta-blue .commons-sign-up, .palette-magenta-blue .pane-commons-groups-commons-groups-create-group a, .pane-commons-groups-commons-groups-create-group .palette-magenta-blue a, .palette-magenta-blue #quicktabs-container-commons_bw .quicktabs-tabpage .attachment-before > a, #quicktabs-container-commons_bw .quicktabs-tabpage .palette-magenta-blue .attachment-before > a, .palette-magenta-blue #quicktabs-container-commons_bw .quicktabs-tabpage .comment-add a, #quicktabs-container-commons_bw .quicktabs-tabpage .comment-add .palette-magenta-blue a, .palette-magenta-blue #content-column .view-content input[type="submit"], #content-column .view-content .palette-magenta-blue input[type="submit"], .palette-magenta-blue form.commons-events-form-float input, form.commons-events-form-float .palette-magenta-blue input, .palette-magenta-blue form.commons-events-form-float input:hover, form.commons-events-form-float .palette-magenta-blue input:hover, .palette-magenta-blue .pane-commons-events-commons-events-create-event-link a, .pane-commons-events-commons-events-create-event-link .palette-magenta-blue a {
+.palette-magenta-blue .button-alert, .palette-magenta-blue .commons-sign-up, .palette-magenta-blue .pane-commons-groups-commons-groups-create-group a, .pane-commons-groups-commons-groups-create-group .palette-magenta-blue a, .palette-magenta-blue #quicktabs-container-commons_bw .quicktabs-tabpage .attachment-before > a, #quicktabs-container-commons_bw .quicktabs-tabpage .palette-magenta-blue .attachment-before > a, .palette-magenta-blue #quicktabs-container-commons_bw .quicktabs-tabpage .comment-add a, #quicktabs-container-commons_bw .quicktabs-tabpage .comment-add .palette-magenta-blue a, .palette-magenta-blue #content-column .view-content input[type="submit"], #content-column .view-content .palette-magenta-blue input[type="submit"], .palette-magenta-blue form.commons-events-form-float input, form.commons-events-form-float .palette-magenta-blue input, .palette-magenta-blue form.commons-events-form-float input:hover, form.commons-events-form-float .palette-magenta-blue input:hover, .palette-magenta-blue .pane-commons-events-commons-events-create-event-link a, .pane-commons-events-commons-events-create-event-link .palette-magenta-blue a {
   box-shadow: 1px 1px 1px #69c5ec inset, 0 3px 3px rgba(0, 0, 0, 0.09);
   background-color: #69c5ec;
   *zoom: 1;
@@ -3666,11 +3904,21 @@ body.front.logged-in .view-commons-homepage-content .article.node.no-user-pictur
 .palette-blue-blue ul.commons-utility-links li.last {
   border-left-color: #0d8bb9;
 }
-.palette-blue-blue .quicktabs-style-commons-pills ul.quicktabs-tabs li.active a, .palette-blue-blue ul.primary.tabs li.active a {
-  background-color: #197bb1;
+.palette-blue-blue .quicktabs-style-commons-pills ul.quicktabs-tabs li a,
+.palette-blue-blue .quicktabs-style-commons-pills ul.quicktabs-tabs li a span,
+.palette-blue-blue ul.primary.tabs li a,
+.palette-blue-blue ul.primary.tabs li a span {
+  color: #0d8bb9;
 }
-.palette-blue-blue .quicktabs-style-commons-pills ul.quicktabs-tabs li.active a:after {
-  border-color: #197bb1 transparent transparent transparent;
+.palette-blue-blue .quicktabs-style-commons-pills ul.quicktabs-tabs li a:hover,
+.palette-blue-blue ul.primary.tabs li a:hover {
+  color: #0a6789;
+}
+.palette-blue-blue .quicktabs-style-commons-pills ul.quicktabs-tabs li.active a,
+.palette-blue-blue .quicktabs-style-commons-pills ul.quicktabs-tabs li.active a span,
+.palette-blue-blue ul.primary.tabs li.active a,
+.palette-blue-blue ul.primary.tabs li.active a span {
+  color: #333333;
 }
 .palette-blue-blue .block-search {
   background-color: #096080;
@@ -3700,7 +3948,7 @@ body.front.logged-in .view-commons-homepage-content .article.node.no-user-pictur
   -moz-box-shadow: #1d8ecc 1px 0px 0px;
   box-shadow: #1d8ecc 1px 0px 0px;
 }
-.palette-blue-blue .commons-sign-up, .palette-blue-blue .pane-commons-groups-commons-groups-create-group a, .pane-commons-groups-commons-groups-create-group .palette-blue-blue a, .palette-blue-blue #quicktabs-container-commons_bw .quicktabs-tabpage .attachment-before > a, #quicktabs-container-commons_bw .quicktabs-tabpage .palette-blue-blue .attachment-before > a, .palette-blue-blue #quicktabs-container-commons_bw .quicktabs-tabpage .comment-add a, #quicktabs-container-commons_bw .quicktabs-tabpage .comment-add .palette-blue-blue a, .palette-blue-blue #content-column .view-content input[type="submit"], #content-column .view-content .palette-blue-blue input[type="submit"], .palette-blue-blue form.commons-events-form-float input, form.commons-events-form-float .palette-blue-blue input, .palette-blue-blue form.commons-events-form-float input:hover, form.commons-events-form-float .palette-blue-blue input:hover, .palette-blue-blue .pane-commons-events-commons-events-create-event-link a, .pane-commons-events-commons-events-create-event-link .palette-blue-blue a {
+.palette-blue-blue .button-alert, .palette-blue-blue .commons-sign-up, .palette-blue-blue .pane-commons-groups-commons-groups-create-group a, .pane-commons-groups-commons-groups-create-group .palette-blue-blue a, .palette-blue-blue #quicktabs-container-commons_bw .quicktabs-tabpage .attachment-before > a, #quicktabs-container-commons_bw .quicktabs-tabpage .palette-blue-blue .attachment-before > a, .palette-blue-blue #quicktabs-container-commons_bw .quicktabs-tabpage .comment-add a, #quicktabs-container-commons_bw .quicktabs-tabpage .comment-add .palette-blue-blue a, .palette-blue-blue #content-column .view-content input[type="submit"], #content-column .view-content .palette-blue-blue input[type="submit"], .palette-blue-blue form.commons-events-form-float input, form.commons-events-form-float .palette-blue-blue input, .palette-blue-blue form.commons-events-form-float input:hover, form.commons-events-form-float .palette-blue-blue input:hover, .palette-blue-blue .pane-commons-events-commons-events-create-event-link a, .pane-commons-events-commons-events-create-event-link .palette-blue-blue a {
   box-shadow: 1px 1px 1px #7ebd26 inset, 0 3px 3px rgba(0, 0, 0, 0.09);
   background-color: #7ebd26;
   *zoom: 1;
@@ -3755,11 +4003,21 @@ body.front.logged-in .view-commons-homepage-content .article.node.no-user-pictur
 .palette-black-green ul.commons-utility-links li.last {
   border-left-color: #81b453;
 }
-.palette-black-green .quicktabs-style-commons-pills ul.quicktabs-tabs li.active a, .palette-black-green ul.primary.tabs li.active a {
-  background-color: #2d3538;
+.palette-black-green .quicktabs-style-commons-pills ul.quicktabs-tabs li a,
+.palette-black-green .quicktabs-style-commons-pills ul.quicktabs-tabs li a span,
+.palette-black-green ul.primary.tabs li a,
+.palette-black-green ul.primary.tabs li a span {
+  color: #81b453;
 }
-.palette-black-green .quicktabs-style-commons-pills ul.quicktabs-tabs li.active a:after {
-  border-color: #2d3538 transparent transparent transparent;
+.palette-black-green .quicktabs-style-commons-pills ul.quicktabs-tabs li a:hover,
+.palette-black-green ul.primary.tabs li a:hover {
+  color: #689440;
+}
+.palette-black-green .quicktabs-style-commons-pills ul.quicktabs-tabs li.active a,
+.palette-black-green .quicktabs-style-commons-pills ul.quicktabs-tabs li.active a span,
+.palette-black-green ul.primary.tabs li.active a,
+.palette-black-green ul.primary.tabs li.active a span {
+  color: #333333;
 }
 .palette-black-green .block-search {
   background-color: #638d3d;
@@ -3789,7 +4047,7 @@ body.front.logged-in .view-commons-homepage-content .article.node.no-user-pictur
   -moz-box-shadow: #3b4549 1px 0px 0px;
   box-shadow: #3b4549 1px 0px 0px;
 }
-.palette-black-green .commons-sign-up, .palette-black-green .pane-commons-groups-commons-groups-create-group a, .pane-commons-groups-commons-groups-create-group .palette-black-green a, .palette-black-green #quicktabs-container-commons_bw .quicktabs-tabpage .attachment-before > a, #quicktabs-container-commons_bw .quicktabs-tabpage .palette-black-green .attachment-before > a, .palette-black-green #quicktabs-container-commons_bw .quicktabs-tabpage .comment-add a, #quicktabs-container-commons_bw .quicktabs-tabpage .comment-add .palette-black-green a, .palette-black-green #content-column .view-content input[type="submit"], #content-column .view-content .palette-black-green input[type="submit"], .palette-black-green form.commons-events-form-float input, form.commons-events-form-float .palette-black-green input, .palette-black-green form.commons-events-form-float input:hover, form.commons-events-form-float .palette-black-green input:hover, .palette-black-green .pane-commons-events-commons-events-create-event-link a, .pane-commons-events-commons-events-create-event-link .palette-black-green a {
+.palette-black-green .button-alert, .palette-black-green .commons-sign-up, .palette-black-green .pane-commons-groups-commons-groups-create-group a, .pane-commons-groups-commons-groups-create-group .palette-black-green a, .palette-black-green #quicktabs-container-commons_bw .quicktabs-tabpage .attachment-before > a, #quicktabs-container-commons_bw .quicktabs-tabpage .palette-black-green .attachment-before > a, .palette-black-green #quicktabs-container-commons_bw .quicktabs-tabpage .comment-add a, #quicktabs-container-commons_bw .quicktabs-tabpage .comment-add .palette-black-green a, .palette-black-green #content-column .view-content input[type="submit"], #content-column .view-content .palette-black-green input[type="submit"], .palette-black-green form.commons-events-form-float input, form.commons-events-form-float .palette-black-green input, .palette-black-green form.commons-events-form-float input:hover, form.commons-events-form-float .palette-black-green input:hover, .palette-black-green .pane-commons-events-commons-events-create-event-link a, .pane-commons-events-commons-events-create-event-link .palette-black-green a {
   box-shadow: 1px 1px 1px #4090ba inset, 0 3px 3px rgba(0, 0, 0, 0.09);
   background-color: #4090ba;
   *zoom: 1;
@@ -3844,11 +4102,21 @@ body.front.logged-in .view-commons-homepage-content .article.node.no-user-pictur
 .palette-brown-yellow ul.commons-utility-links li.last {
   border-left-color: #9c773d;
 }
-.palette-brown-yellow .quicktabs-style-commons-pills ul.quicktabs-tabs li.active a, .palette-brown-yellow ul.primary.tabs li.active a {
-  background-color: #6a513b;
+.palette-brown-yellow .quicktabs-style-commons-pills ul.quicktabs-tabs li a,
+.palette-brown-yellow .quicktabs-style-commons-pills ul.quicktabs-tabs li a span,
+.palette-brown-yellow ul.primary.tabs li a,
+.palette-brown-yellow ul.primary.tabs li a span {
+  color: #9c773d;
 }
-.palette-brown-yellow .quicktabs-style-commons-pills ul.quicktabs-tabs li.active a:after {
-  border-color: #6a513b transparent transparent transparent;
+.palette-brown-yellow .quicktabs-style-commons-pills ul.quicktabs-tabs li a:hover,
+.palette-brown-yellow ul.primary.tabs li a:hover {
+  color: #775b2f;
+}
+.palette-brown-yellow .quicktabs-style-commons-pills ul.quicktabs-tabs li.active a,
+.palette-brown-yellow .quicktabs-style-commons-pills ul.quicktabs-tabs li.active a span,
+.palette-brown-yellow ul.primary.tabs li.active a,
+.palette-brown-yellow ul.primary.tabs li.active a span {
+  color: #333333;
 }
 .palette-brown-yellow .block-search {
   background-color: #70552c;
@@ -3878,7 +4146,7 @@ body.front.logged-in .view-commons-homepage-content .article.node.no-user-pictur
   -moz-box-shadow: #7e6046 1px 0px 0px;
   box-shadow: #7e6046 1px 0px 0px;
 }
-.palette-brown-yellow .commons-sign-up, .palette-brown-yellow .pane-commons-groups-commons-groups-create-group a, .pane-commons-groups-commons-groups-create-group .palette-brown-yellow a, .palette-brown-yellow #quicktabs-container-commons_bw .quicktabs-tabpage .attachment-before > a, #quicktabs-container-commons_bw .quicktabs-tabpage .palette-brown-yellow .attachment-before > a, .palette-brown-yellow #quicktabs-container-commons_bw .quicktabs-tabpage .comment-add a, #quicktabs-container-commons_bw .quicktabs-tabpage .comment-add .palette-brown-yellow a, .palette-brown-yellow #content-column .view-content input[type="submit"], #content-column .view-content .palette-brown-yellow input[type="submit"], .palette-brown-yellow form.commons-events-form-float input, form.commons-events-form-float .palette-brown-yellow input, .palette-brown-yellow form.commons-events-form-float input:hover, form.commons-events-form-float .palette-brown-yellow input:hover, .palette-brown-yellow .pane-commons-events-commons-events-create-event-link a, .pane-commons-events-commons-events-create-event-link .palette-brown-yellow a {
+.palette-brown-yellow .button-alert, .palette-brown-yellow .commons-sign-up, .palette-brown-yellow .pane-commons-groups-commons-groups-create-group a, .pane-commons-groups-commons-groups-create-group .palette-brown-yellow a, .palette-brown-yellow #quicktabs-container-commons_bw .quicktabs-tabpage .attachment-before > a, #quicktabs-container-commons_bw .quicktabs-tabpage .palette-brown-yellow .attachment-before > a, .palette-brown-yellow #quicktabs-container-commons_bw .quicktabs-tabpage .comment-add a, #quicktabs-container-commons_bw .quicktabs-tabpage .comment-add .palette-brown-yellow a, .palette-brown-yellow #content-column .view-content input[type="submit"], #content-column .view-content .palette-brown-yellow input[type="submit"], .palette-brown-yellow form.commons-events-form-float input, form.commons-events-form-float .palette-brown-yellow input, .palette-brown-yellow form.commons-events-form-float input:hover, form.commons-events-form-float .palette-brown-yellow input:hover, .palette-brown-yellow .pane-commons-events-commons-events-create-event-link a, .pane-commons-events-commons-events-create-event-link .palette-brown-yellow a {
   box-shadow: 1px 1px 1px #fcd036 inset, 0 3px 3px rgba(0, 0, 0, 0.09);
   background-color: #fcd036;
   *zoom: 1;
@@ -3933,11 +4201,21 @@ body.front.logged-in .view-commons-homepage-content .article.node.no-user-pictur
 .palette-seafoam-orange ul.commons-utility-links li.last {
   border-left-color: #73a5a5;
 }
-.palette-seafoam-orange .quicktabs-style-commons-pills ul.quicktabs-tabs li.active a, .palette-seafoam-orange ul.primary.tabs li.active a {
-  background-color: #668284;
+.palette-seafoam-orange .quicktabs-style-commons-pills ul.quicktabs-tabs li a,
+.palette-seafoam-orange .quicktabs-style-commons-pills ul.quicktabs-tabs li a span,
+.palette-seafoam-orange ul.primary.tabs li a,
+.palette-seafoam-orange ul.primary.tabs li a span {
+  color: #73a5a5;
 }
-.palette-seafoam-orange .quicktabs-style-commons-pills ul.quicktabs-tabs li.active a:after {
-  border-color: #668284 transparent transparent transparent;
+.palette-seafoam-orange .quicktabs-style-commons-pills ul.quicktabs-tabs li a:hover,
+.palette-seafoam-orange ul.primary.tabs li a:hover {
+  color: #5a8b8b;
+}
+.palette-seafoam-orange .quicktabs-style-commons-pills ul.quicktabs-tabs li.active a,
+.palette-seafoam-orange .quicktabs-style-commons-pills ul.quicktabs-tabs li.active a span,
+.palette-seafoam-orange ul.primary.tabs li.active a,
+.palette-seafoam-orange ul.primary.tabs li.active a span {
+  color: #333333;
 }
 .palette-seafoam-orange .block-search {
   background-color: #568585;
@@ -3967,7 +4245,7 @@ body.front.logged-in .view-commons-homepage-content .article.node.no-user-pictur
   -moz-box-shadow: #759294 1px 0px 0px;
   box-shadow: #759294 1px 0px 0px;
 }
-.palette-seafoam-orange .commons-sign-up, .palette-seafoam-orange .pane-commons-groups-commons-groups-create-group a, .pane-commons-groups-commons-groups-create-group .palette-seafoam-orange a, .palette-seafoam-orange #quicktabs-container-commons_bw .quicktabs-tabpage .attachment-before > a, #quicktabs-container-commons_bw .quicktabs-tabpage .palette-seafoam-orange .attachment-before > a, .palette-seafoam-orange #quicktabs-container-commons_bw .quicktabs-tabpage .comment-add a, #quicktabs-container-commons_bw .quicktabs-tabpage .comment-add .palette-seafoam-orange a, .palette-seafoam-orange #content-column .view-content input[type="submit"], #content-column .view-content .palette-seafoam-orange input[type="submit"], .palette-seafoam-orange form.commons-events-form-float input, form.commons-events-form-float .palette-seafoam-orange input, .palette-seafoam-orange form.commons-events-form-float input:hover, form.commons-events-form-float .palette-seafoam-orange input:hover, .palette-seafoam-orange .pane-commons-events-commons-events-create-event-link a, .pane-commons-events-commons-events-create-event-link .palette-seafoam-orange a {
+.palette-seafoam-orange .button-alert, .palette-seafoam-orange .commons-sign-up, .palette-seafoam-orange .pane-commons-groups-commons-groups-create-group a, .pane-commons-groups-commons-groups-create-group .palette-seafoam-orange a, .palette-seafoam-orange #quicktabs-container-commons_bw .quicktabs-tabpage .attachment-before > a, #quicktabs-container-commons_bw .quicktabs-tabpage .palette-seafoam-orange .attachment-before > a, .palette-seafoam-orange #quicktabs-container-commons_bw .quicktabs-tabpage .comment-add a, #quicktabs-container-commons_bw .quicktabs-tabpage .comment-add .palette-seafoam-orange a, .palette-seafoam-orange #content-column .view-content input[type="submit"], #content-column .view-content .palette-seafoam-orange input[type="submit"], .palette-seafoam-orange form.commons-events-form-float input, form.commons-events-form-float .palette-seafoam-orange input, .palette-seafoam-orange form.commons-events-form-float input:hover, form.commons-events-form-float .palette-seafoam-orange input:hover, .palette-seafoam-orange .pane-commons-events-commons-events-create-event-link a, .pane-commons-events-commons-events-create-event-link .palette-seafoam-orange a {
   box-shadow: 1px 1px 1px #d9a300 inset, 0 3px 3px rgba(0, 0, 0, 0.09);
   background-color: #d9a300;
   *zoom: 1;
@@ -4022,11 +4300,21 @@ body.front.logged-in .view-commons-homepage-content .article.node.no-user-pictur
 .palette-black-blue-yellow ul.commons-utility-links li.last {
   border-left-color: #0072ab;
 }
-.palette-black-blue-yellow .quicktabs-style-commons-pills ul.quicktabs-tabs li.active a, .palette-black-blue-yellow ul.primary.tabs li.active a {
-  background-color: #353535;
+.palette-black-blue-yellow .quicktabs-style-commons-pills ul.quicktabs-tabs li a,
+.palette-black-blue-yellow .quicktabs-style-commons-pills ul.quicktabs-tabs li a span,
+.palette-black-blue-yellow ul.primary.tabs li a,
+.palette-black-blue-yellow ul.primary.tabs li a span {
+  color: #0072ab;
 }
-.palette-black-blue-yellow .quicktabs-style-commons-pills ul.quicktabs-tabs li.active a:after {
-  border-color: #353535 transparent transparent transparent;
+.palette-black-blue-yellow .quicktabs-style-commons-pills ul.quicktabs-tabs li a:hover,
+.palette-black-blue-yellow ul.primary.tabs li a:hover {
+  color: #005078;
+}
+.palette-black-blue-yellow .quicktabs-style-commons-pills ul.quicktabs-tabs li.active a,
+.palette-black-blue-yellow .quicktabs-style-commons-pills ul.quicktabs-tabs li.active a span,
+.palette-black-blue-yellow ul.primary.tabs li.active a,
+.palette-black-blue-yellow ul.primary.tabs li.active a span {
+  color: #333333;
 }
 .palette-black-blue-yellow .block-search {
   background-color: #00496e;
@@ -4056,7 +4344,7 @@ body.front.logged-in .view-commons-homepage-content .article.node.no-user-pictur
   -moz-box-shadow: #444444 1px 0px 0px;
   box-shadow: #444444 1px 0px 0px;
 }
-.palette-black-blue-yellow .commons-sign-up, .palette-black-blue-yellow .pane-commons-groups-commons-groups-create-group a, .pane-commons-groups-commons-groups-create-group .palette-black-blue-yellow a, .palette-black-blue-yellow #quicktabs-container-commons_bw .quicktabs-tabpage .attachment-before > a, #quicktabs-container-commons_bw .quicktabs-tabpage .palette-black-blue-yellow .attachment-before > a, .palette-black-blue-yellow #quicktabs-container-commons_bw .quicktabs-tabpage .comment-add a, #quicktabs-container-commons_bw .quicktabs-tabpage .comment-add .palette-black-blue-yellow a, .palette-black-blue-yellow #content-column .view-content input[type="submit"], #content-column .view-content .palette-black-blue-yellow input[type="submit"], .palette-black-blue-yellow form.commons-events-form-float input, form.commons-events-form-float .palette-black-blue-yellow input, .palette-black-blue-yellow form.commons-events-form-float input:hover, form.commons-events-form-float .palette-black-blue-yellow input:hover, .palette-black-blue-yellow .pane-commons-events-commons-events-create-event-link a, .pane-commons-events-commons-events-create-event-link .palette-black-blue-yellow a {
+.palette-black-blue-yellow .button-alert, .palette-black-blue-yellow .commons-sign-up, .palette-black-blue-yellow .pane-commons-groups-commons-groups-create-group a, .pane-commons-groups-commons-groups-create-group .palette-black-blue-yellow a, .palette-black-blue-yellow #quicktabs-container-commons_bw .quicktabs-tabpage .attachment-before > a, #quicktabs-container-commons_bw .quicktabs-tabpage .palette-black-blue-yellow .attachment-before > a, .palette-black-blue-yellow #quicktabs-container-commons_bw .quicktabs-tabpage .comment-add a, #quicktabs-container-commons_bw .quicktabs-tabpage .comment-add .palette-black-blue-yellow a, .palette-black-blue-yellow #content-column .view-content input[type="submit"], #content-column .view-content .palette-black-blue-yellow input[type="submit"], .palette-black-blue-yellow form.commons-events-form-float input, form.commons-events-form-float .palette-black-blue-yellow input, .palette-black-blue-yellow form.commons-events-form-float input:hover, form.commons-events-form-float .palette-black-blue-yellow input:hover, .palette-black-blue-yellow .pane-commons-events-commons-events-create-event-link a, .pane-commons-events-commons-events-create-event-link .palette-black-blue-yellow a {
   box-shadow: 1px 1px 1px #e5b700 inset, 0 3px 3px rgba(0, 0, 0, 0.09);
   background-color: #e5b700;
   *zoom: 1;
@@ -4111,11 +4399,21 @@ body.front.logged-in .view-commons-homepage-content .article.node.no-user-pictur
 .palette-brick-brick ul.commons-utility-links li.last {
   border-left-color: #723729;
 }
-.palette-brick-brick .quicktabs-style-commons-pills ul.quicktabs-tabs li.active a, .palette-brick-brick ul.primary.tabs li.active a {
-  background-color: #432a26;
+.palette-brick-brick .quicktabs-style-commons-pills ul.quicktabs-tabs li a,
+.palette-brick-brick .quicktabs-style-commons-pills ul.quicktabs-tabs li a span,
+.palette-brick-brick ul.primary.tabs li a,
+.palette-brick-brick ul.primary.tabs li a span {
+  color: #723729;
 }
-.palette-brick-brick .quicktabs-style-commons-pills ul.quicktabs-tabs li.active a:after {
-  border-color: #432a26 transparent transparent transparent;
+.palette-brick-brick .quicktabs-style-commons-pills ul.quicktabs-tabs li a:hover,
+.palette-brick-brick ul.primary.tabs li a:hover {
+  color: #4c251c;
+}
+.palette-brick-brick .quicktabs-style-commons-pills ul.quicktabs-tabs li.active a,
+.palette-brick-brick .quicktabs-style-commons-pills ul.quicktabs-tabs li.active a span,
+.palette-brick-brick ul.primary.tabs li.active a,
+.palette-brick-brick ul.primary.tabs li.active a span {
+  color: #333333;
 }
 .palette-brick-brick .block-search {
   background-color: #452119;
@@ -4145,7 +4443,7 @@ body.front.logged-in .view-commons-homepage-content .article.node.no-user-pictur
   -moz-box-shadow: #573631 1px 0px 0px;
   box-shadow: #573631 1px 0px 0px;
 }
-.palette-brick-brick .commons-sign-up, .palette-brick-brick .pane-commons-groups-commons-groups-create-group a, .pane-commons-groups-commons-groups-create-group .palette-brick-brick a, .palette-brick-brick #quicktabs-container-commons_bw .quicktabs-tabpage .attachment-before > a, #quicktabs-container-commons_bw .quicktabs-tabpage .palette-brick-brick .attachment-before > a, .palette-brick-brick #quicktabs-container-commons_bw .quicktabs-tabpage .comment-add a, #quicktabs-container-commons_bw .quicktabs-tabpage .comment-add .palette-brick-brick a, .palette-brick-brick #content-column .view-content input[type="submit"], #content-column .view-content .palette-brick-brick input[type="submit"], .palette-brick-brick form.commons-events-form-float input, form.commons-events-form-float .palette-brick-brick input, .palette-brick-brick form.commons-events-form-float input:hover, form.commons-events-form-float .palette-brick-brick input:hover, .palette-brick-brick .pane-commons-events-commons-events-create-event-link a, .pane-commons-events-commons-events-create-event-link .palette-brick-brick a {
+.palette-brick-brick .button-alert, .palette-brick-brick .commons-sign-up, .palette-brick-brick .pane-commons-groups-commons-groups-create-group a, .pane-commons-groups-commons-groups-create-group .palette-brick-brick a, .palette-brick-brick #quicktabs-container-commons_bw .quicktabs-tabpage .attachment-before > a, #quicktabs-container-commons_bw .quicktabs-tabpage .palette-brick-brick .attachment-before > a, .palette-brick-brick #quicktabs-container-commons_bw .quicktabs-tabpage .comment-add a, #quicktabs-container-commons_bw .quicktabs-tabpage .comment-add .palette-brick-brick a, .palette-brick-brick #content-column .view-content input[type="submit"], #content-column .view-content .palette-brick-brick input[type="submit"], .palette-brick-brick form.commons-events-form-float input, form.commons-events-form-float .palette-brick-brick input, .palette-brick-brick form.commons-events-form-float input:hover, form.commons-events-form-float .palette-brick-brick input:hover, .palette-brick-brick .pane-commons-events-commons-events-create-event-link a, .pane-commons-events-commons-events-create-event-link .palette-brick-brick a {
   box-shadow: 1px 1px 1px #c2594c inset, 0 3px 3px rgba(0, 0, 0, 0.09);
   background-color: #c2594c;
   *zoom: 1;
@@ -4200,11 +4498,21 @@ body.front.logged-in .view-commons-homepage-content .article.node.no-user-pictur
 .palette-gray-lightgray-blue ul.commons-utility-links li.last {
   border-left-color: #dbdbdb;
 }
-.palette-gray-lightgray-blue .quicktabs-style-commons-pills ul.quicktabs-tabs li.active a, .palette-gray-lightgray-blue ul.primary.tabs li.active a {
-  background-color: #868686;
+.palette-gray-lightgray-blue .quicktabs-style-commons-pills ul.quicktabs-tabs li a,
+.palette-gray-lightgray-blue .quicktabs-style-commons-pills ul.quicktabs-tabs li a span,
+.palette-gray-lightgray-blue ul.primary.tabs li a,
+.palette-gray-lightgray-blue ul.primary.tabs li a span {
+  color: #dbdbdb;
 }
-.palette-gray-lightgray-blue .quicktabs-style-commons-pills ul.quicktabs-tabs li.active a:after {
-  border-color: #868686 transparent transparent transparent;
+.palette-gray-lightgray-blue .quicktabs-style-commons-pills ul.quicktabs-tabs li a:hover,
+.palette-gray-lightgray-blue ul.primary.tabs li a:hover {
+  color: #c2c2c2;
+}
+.palette-gray-lightgray-blue .quicktabs-style-commons-pills ul.quicktabs-tabs li.active a,
+.palette-gray-lightgray-blue .quicktabs-style-commons-pills ul.quicktabs-tabs li.active a span,
+.palette-gray-lightgray-blue ul.primary.tabs li.active a,
+.palette-gray-lightgray-blue ul.primary.tabs li.active a span {
+  color: #333333;
 }
 .palette-gray-lightgray-blue .block-search {
   background-color: #bcbcbc;
@@ -4234,7 +4542,7 @@ body.front.logged-in .view-commons-homepage-content .article.node.no-user-pictur
   -moz-box-shadow: #959595 1px 0px 0px;
   box-shadow: #959595 1px 0px 0px;
 }
-.palette-gray-lightgray-blue .commons-sign-up, .palette-gray-lightgray-blue .pane-commons-groups-commons-groups-create-group a, .pane-commons-groups-commons-groups-create-group .palette-gray-lightgray-blue a, .palette-gray-lightgray-blue #quicktabs-container-commons_bw .quicktabs-tabpage .attachment-before > a, #quicktabs-container-commons_bw .quicktabs-tabpage .palette-gray-lightgray-blue .attachment-before > a, .palette-gray-lightgray-blue #quicktabs-container-commons_bw .quicktabs-tabpage .comment-add a, #quicktabs-container-commons_bw .quicktabs-tabpage .comment-add .palette-gray-lightgray-blue a, .palette-gray-lightgray-blue #content-column .view-content input[type="submit"], #content-column .view-content .palette-gray-lightgray-blue input[type="submit"], .palette-gray-lightgray-blue form.commons-events-form-float input, form.commons-events-form-float .palette-gray-lightgray-blue input, .palette-gray-lightgray-blue form.commons-events-form-float input:hover, form.commons-events-form-float .palette-gray-lightgray-blue input:hover, .palette-gray-lightgray-blue .pane-commons-events-commons-events-create-event-link a, .pane-commons-events-commons-events-create-event-link .palette-gray-lightgray-blue a {
+.palette-gray-lightgray-blue .button-alert, .palette-gray-lightgray-blue .commons-sign-up, .palette-gray-lightgray-blue .pane-commons-groups-commons-groups-create-group a, .pane-commons-groups-commons-groups-create-group .palette-gray-lightgray-blue a, .palette-gray-lightgray-blue #quicktabs-container-commons_bw .quicktabs-tabpage .attachment-before > a, #quicktabs-container-commons_bw .quicktabs-tabpage .palette-gray-lightgray-blue .attachment-before > a, .palette-gray-lightgray-blue #quicktabs-container-commons_bw .quicktabs-tabpage .comment-add a, #quicktabs-container-commons_bw .quicktabs-tabpage .comment-add .palette-gray-lightgray-blue a, .palette-gray-lightgray-blue #content-column .view-content input[type="submit"], #content-column .view-content .palette-gray-lightgray-blue input[type="submit"], .palette-gray-lightgray-blue form.commons-events-form-float input, form.commons-events-form-float .palette-gray-lightgray-blue input, .palette-gray-lightgray-blue form.commons-events-form-float input:hover, form.commons-events-form-float .palette-gray-lightgray-blue input:hover, .palette-gray-lightgray-blue .pane-commons-events-commons-events-create-event-link a, .pane-commons-events-commons-events-create-event-link .palette-gray-lightgray-blue a {
   box-shadow: 1px 1px 1px #00ccff inset, 0 3px 3px rgba(0, 0, 0, 0.09);
   background-color: #00ccff;
   *zoom: 1;
@@ -4289,11 +4597,21 @@ body.front.logged-in .view-commons-homepage-content .article.node.no-user-pictur
 .palette-black-white-red ul.commons-utility-links li.last {
   border-left-color: #383838;
 }
-.palette-black-white-red .quicktabs-style-commons-pills ul.quicktabs-tabs li.active a, .palette-black-white-red ul.primary.tabs li.active a {
-  background-color: #262626;
+.palette-black-white-red .quicktabs-style-commons-pills ul.quicktabs-tabs li a,
+.palette-black-white-red .quicktabs-style-commons-pills ul.quicktabs-tabs li a span,
+.palette-black-white-red ul.primary.tabs li a,
+.palette-black-white-red ul.primary.tabs li a span {
+  color: #383838;
 }
-.palette-black-white-red .quicktabs-style-commons-pills ul.quicktabs-tabs li.active a:after {
-  border-color: #262626 transparent transparent transparent;
+.palette-black-white-red .quicktabs-style-commons-pills ul.quicktabs-tabs li a:hover,
+.palette-black-white-red ul.primary.tabs li a:hover {
+  color: #1f1f1f;
+}
+.palette-black-white-red .quicktabs-style-commons-pills ul.quicktabs-tabs li.active a,
+.palette-black-white-red .quicktabs-style-commons-pills ul.quicktabs-tabs li.active a span,
+.palette-black-white-red ul.primary.tabs li.active a,
+.palette-black-white-red ul.primary.tabs li.active a span {
+  color: #333333;
 }
 .palette-black-white-red .block-search {
   background-color: #191919;
@@ -4323,7 +4641,7 @@ body.front.logged-in .view-commons-homepage-content .article.node.no-user-pictur
   -moz-box-shadow: #353535 1px 0px 0px;
   box-shadow: #353535 1px 0px 0px;
 }
-.palette-black-white-red .commons-sign-up, .palette-black-white-red .pane-commons-groups-commons-groups-create-group a, .pane-commons-groups-commons-groups-create-group .palette-black-white-red a, .palette-black-white-red #quicktabs-container-commons_bw .quicktabs-tabpage .attachment-before > a, #quicktabs-container-commons_bw .quicktabs-tabpage .palette-black-white-red .attachment-before > a, .palette-black-white-red #quicktabs-container-commons_bw .quicktabs-tabpage .comment-add a, #quicktabs-container-commons_bw .quicktabs-tabpage .comment-add .palette-black-white-red a, .palette-black-white-red #content-column .view-content input[type="submit"], #content-column .view-content .palette-black-white-red input[type="submit"], .palette-black-white-red form.commons-events-form-float input, form.commons-events-form-float .palette-black-white-red input, .palette-black-white-red form.commons-events-form-float input:hover, form.commons-events-form-float .palette-black-white-red input:hover, .palette-black-white-red .pane-commons-events-commons-events-create-event-link a, .pane-commons-events-commons-events-create-event-link .palette-black-white-red a {
+.palette-black-white-red .button-alert, .palette-black-white-red .commons-sign-up, .palette-black-white-red .pane-commons-groups-commons-groups-create-group a, .pane-commons-groups-commons-groups-create-group .palette-black-white-red a, .palette-black-white-red #quicktabs-container-commons_bw .quicktabs-tabpage .attachment-before > a, #quicktabs-container-commons_bw .quicktabs-tabpage .palette-black-white-red .attachment-before > a, .palette-black-white-red #quicktabs-container-commons_bw .quicktabs-tabpage .comment-add a, #quicktabs-container-commons_bw .quicktabs-tabpage .comment-add .palette-black-white-red a, .palette-black-white-red #content-column .view-content input[type="submit"], #content-column .view-content .palette-black-white-red input[type="submit"], .palette-black-white-red form.commons-events-form-float input, form.commons-events-form-float .palette-black-white-red input, .palette-black-white-red form.commons-events-form-float input:hover, form.commons-events-form-float .palette-black-white-red input:hover, .palette-black-white-red .pane-commons-events-commons-events-create-event-link a, .pane-commons-events-commons-events-create-event-link .palette-black-white-red a {
   box-shadow: 1px 1px 1px #e45553 inset, 0 3px 3px rgba(0, 0, 0, 0.09);
   background-color: #e45553;
   *zoom: 1;
@@ -4378,11 +4696,21 @@ body.front.logged-in .view-commons-homepage-content .article.node.no-user-pictur
 .palette-brown-burnt-orange ul.commons-utility-links li.last {
   border-left-color: #7c4811;
 }
-.palette-brown-burnt-orange .quicktabs-style-commons-pills ul.quicktabs-tabs li.active a, .palette-brown-burnt-orange ul.primary.tabs li.active a {
-  background-color: #62390e;
+.palette-brown-burnt-orange .quicktabs-style-commons-pills ul.quicktabs-tabs li a,
+.palette-brown-burnt-orange .quicktabs-style-commons-pills ul.quicktabs-tabs li a span,
+.palette-brown-burnt-orange ul.primary.tabs li a,
+.palette-brown-burnt-orange ul.primary.tabs li a span {
+  color: #7c4811;
 }
-.palette-brown-burnt-orange .quicktabs-style-commons-pills ul.quicktabs-tabs li.active a:after {
-  border-color: #62390e transparent transparent transparent;
+.palette-brown-burnt-orange .quicktabs-style-commons-pills ul.quicktabs-tabs li a:hover,
+.palette-brown-burnt-orange ul.primary.tabs li a:hover {
+  color: #4f2e0b;
+}
+.palette-brown-burnt-orange .quicktabs-style-commons-pills ul.quicktabs-tabs li.active a,
+.palette-brown-burnt-orange .quicktabs-style-commons-pills ul.quicktabs-tabs li.active a span,
+.palette-brown-burnt-orange ul.primary.tabs li.active a,
+.palette-brown-burnt-orange ul.primary.tabs li.active a span {
+  color: #333333;
 }
 .palette-brown-burnt-orange .block-search {
   background-color: #46290a;
@@ -4412,7 +4740,7 @@ body.front.logged-in .view-commons-homepage-content .article.node.no-user-pictur
   -moz-box-shadow: #7d4912 1px 0px 0px;
   box-shadow: #7d4912 1px 0px 0px;
 }
-.palette-brown-burnt-orange .commons-sign-up, .palette-brown-burnt-orange .pane-commons-groups-commons-groups-create-group a, .pane-commons-groups-commons-groups-create-group .palette-brown-burnt-orange a, .palette-brown-burnt-orange #quicktabs-container-commons_bw .quicktabs-tabpage .attachment-before > a, #quicktabs-container-commons_bw .quicktabs-tabpage .palette-brown-burnt-orange .attachment-before > a, .palette-brown-burnt-orange #quicktabs-container-commons_bw .quicktabs-tabpage .comment-add a, #quicktabs-container-commons_bw .quicktabs-tabpage .comment-add .palette-brown-burnt-orange a, .palette-brown-burnt-orange #content-column .view-content input[type="submit"], #content-column .view-content .palette-brown-burnt-orange input[type="submit"], .palette-brown-burnt-orange form.commons-events-form-float input, form.commons-events-form-float .palette-brown-burnt-orange input, .palette-brown-burnt-orange form.commons-events-form-float input:hover, form.commons-events-form-float .palette-brown-burnt-orange input:hover, .palette-brown-burnt-orange .pane-commons-events-commons-events-create-event-link a, .pane-commons-events-commons-events-create-event-link .palette-brown-burnt-orange a {
+.palette-brown-burnt-orange .button-alert, .palette-brown-burnt-orange .commons-sign-up, .palette-brown-burnt-orange .pane-commons-groups-commons-groups-create-group a, .pane-commons-groups-commons-groups-create-group .palette-brown-burnt-orange a, .palette-brown-burnt-orange #quicktabs-container-commons_bw .quicktabs-tabpage .attachment-before > a, #quicktabs-container-commons_bw .quicktabs-tabpage .palette-brown-burnt-orange .attachment-before > a, .palette-brown-burnt-orange #quicktabs-container-commons_bw .quicktabs-tabpage .comment-add a, #quicktabs-container-commons_bw .quicktabs-tabpage .comment-add .palette-brown-burnt-orange a, .palette-brown-burnt-orange #content-column .view-content input[type="submit"], #content-column .view-content .palette-brown-burnt-orange input[type="submit"], .palette-brown-burnt-orange form.commons-events-form-float input, form.commons-events-form-float .palette-brown-burnt-orange input, .palette-brown-burnt-orange form.commons-events-form-float input:hover, form.commons-events-form-float .palette-brown-burnt-orange input:hover, .palette-brown-burnt-orange .pane-commons-events-commons-events-create-event-link a, .pane-commons-events-commons-events-create-event-link .palette-brown-burnt-orange a {
   box-shadow: 1px 1px 1px #eb9039 inset, 0 3px 3px rgba(0, 0, 0, 0.09);
   background-color: #eb9039;
   *zoom: 1;
diff --git a/profiles/commons/themes/contrib/commons_origins/css/lt-ie9.css b/profiles/commons/themes/contrib/commons_origins/css/lt-ie9.css
index 0bf70f8..6980f4d 100644
--- a/profiles/commons/themes/contrib/commons_origins/css/lt-ie9.css
+++ b/profiles/commons/themes/contrib/commons_origins/css/lt-ie9.css
@@ -10,7 +10,7 @@ html {
 }
 
 body.front.not-logged-in #content {
-  background: url('../images/commons-drop.png?1361802894') right top no-repeat;
+  background: url('../images/commons-drop.png?1363371593') right top no-repeat;
 }
 body.front.not-logged-in .region-three-33-top {
   margin-bottom: 24px;
diff --git a/profiles/commons/themes/contrib/commons_origins/css/responsive.custom.css b/profiles/commons/themes/contrib/commons_origins/css/responsive.custom.css
index c0092fd..0bc1b35 100644
--- a/profiles/commons/themes/contrib/commons_origins/css/responsive.custom.css
+++ b/profiles/commons/themes/contrib/commons_origins/css/responsive.custom.css
@@ -28,14 +28,14 @@
     padding-top: 0 !important;
   }
 
-  /* 
+  /*
    * Float Region blocks example:
    * In smaller screen sizes we can remove the float and widths so all blocks
    * stack instead of displaying horizonally. The selector used here is an
    * "attribute selector" which will match on any float block class. Use your
    * inspector or Firebug to get the classes from the page output if you need
    * more granular control over block alignment and stacking.
-   * 
+   *
    * "Float Region blocks" is an extension for floating blocks in regions, see
    * your themes appearance settings, under the Extensions tab.
    */
@@ -53,9 +53,7 @@
   }
 
   .commons-bw-create-all-widget-types {
-    left: -100px;
-    top: auto;
-    bottom: 0;
+    left: auto;
   }
 
   .page-node-add #edit-additional-settings {
@@ -105,6 +103,14 @@
   .view-commons-follow-taxonomy-term .views-field-ops-1 {
     width: 33.333%;
   }
+
+  .primary-fields,
+  .supplementary-fields {
+    display: block;
+    float: none;
+    width: auto;
+    padding: 0;
+  }
 }
 /*
  * Tablet sizes and down
@@ -131,7 +137,7 @@
  */
 @media only screen and (min-width: 768px) {
   body.front.not-logged-in #content {
-    background: url('../images/commons-drop.png?1361802894') right top no-repeat;
+    background: url('../images/commons-drop.png?1363371593') right top no-repeat;
   }
   body.front.not-logged-in .region-three-33-top {
     margin-bottom: 24px;
diff --git a/profiles/commons/themes/contrib/commons_origins/css/responsive.desktop.css b/profiles/commons/themes/contrib/commons_origins/css/responsive.desktop.css
index 3c4eb6a..e5bdd2e 100644
--- a/profiles/commons/themes/contrib/commons_origins/css/responsive.desktop.css
+++ b/profiles/commons/themes/contrib/commons_origins/css/responsive.desktop.css
@@ -7,3 +7,20 @@
  *
  * - Read the _README file in this directory, it contains useful help and other information.
  */
+.flag-inappropriate-node {
+  float: none;
+  position: absolute;
+  margin: 0;
+  bottom: 5px;
+  right: 5px;
+  filter: progid:DXImageTransform.Microsoft.Alpha(Opacity=0);
+  opacity: 0;
+  -webkit-transition: opacity 0.5s;
+  -moz-transition: opacity 0.5s;
+  -o-transition: opacity 0.5s;
+  transition: opacity 0.5s;
+}
+.node:hover .flag-inappropriate-node {
+  filter: progid:DXImageTransform.Microsoft.Alpha(Opacity=100);
+  opacity: 1;
+}
diff --git a/profiles/commons/themes/contrib/commons_origins/images/commons-logo.png b/profiles/commons/themes/contrib/commons_origins/images/commons-logo.png
new file mode 100644
index 0000000..b512b11
Binary files /dev/null and b/profiles/commons/themes/contrib/commons_origins/images/commons-logo.png differ
diff --git a/profiles/commons/themes/contrib/commons_origins/sass/_base.scss b/profiles/commons/themes/contrib/commons_origins/sass/_base.scss
index 9329211..48f8461 100755
--- a/profiles/commons/themes/contrib/commons_origins/sass/_base.scss
+++ b/profiles/commons/themes/contrib/commons_origins/sass/_base.scss
@@ -1,34 +1,20 @@
 //
-// Legacy IE support
-//
-// These variables are used by many mixins to add additional CSS to support
-// specific versions of IE or specific vendor prefixes.
-//
-// To turn off support for IE6 or IE7, set those variables to false.
-//
 // AdaptiveTheme does not require special handling for IE8 or later. But Compass
 // defines more Legacy IE variables that you might find useful for your theme.
 // See the documentation at http://compass-style.org/reference/compass/support/
 //
 
-$legacy-support-for-ie6: true;
-$legacy-support-for-ie7: true;
-
-
 //
 // Partials to be shared with all .scss files.
 //
 
-@import 'compass/support';                     // Add Compass' IE and vendor prefix support variables.
-@import 'compass/utilities/general/clearfix';  // Better than Drupal's clearfix.
-@import 'compass/utilities/sprites';           // See http://compass-style.org/help/tutorials/spriting/
-@import 'compass/css3';                        // Use one CSS3 mixin instead of multiple vendor prefixes.
-
+@import 'compass';
 
 //
 // Import custom partial - mixins and variables defined for your theme
 //
 @import 'custom';
+@import 'mixins/respond';
 @import 'mixins/icons';
 @import 'extend-styles';
 @import 'mixins/mixins';
diff --git a/profiles/commons/themes/contrib/commons_origins/sass/_custom.scss b/profiles/commons/themes/contrib/commons_origins/sass/_custom.scss
index 9d4d6a8..21d4924 100755
--- a/profiles/commons/themes/contrib/commons_origins/sass/_custom.scss
+++ b/profiles/commons/themes/contrib/commons_origins/sass/_custom.scss
@@ -51,6 +51,12 @@ $light_blue: rgb(39,131,185);
 $orange: rgb(255,153,0);
 $lighter_gray: #eee;
 
+$tab_background: rgba(153, 153, 153, .3);
+$tab_text: $light_blue;
+$tab_text_hover: $dark_blue;
+$tab_active_background: rgb(153, 153, 153);
+$tab_active_text: $dark_gray;
+
 // Colors for other palettes
 
 // Orange and Red
@@ -166,6 +172,6 @@ $alt-font: Helvetica, 'Helvetica Neue', Arial, sans-serif;
 //
 $gutter-width: 10px;
 
-// global chunck of code for importing
+// global chunk of code for importing
 
 $icons: sprite-map('icons/*.png', $spacing: 20px);
diff --git a/profiles/commons/themes/contrib/commons_origins/sass/_extend-styles.scss b/profiles/commons/themes/contrib/commons_origins/sass/_extend-styles.scss
index 5b69dc1..da0a738 100644
--- a/profiles/commons/themes/contrib/commons_origins/sass/_extend-styles.scss
+++ b/profiles/commons/themes/contrib/commons_origins/sass/_extend-styles.scss
@@ -12,21 +12,20 @@
   background-color: $white;
   @include border-radius(3px);
   @include box-shadow($light_gray 1px 1px 4px);
-  margin-right: 20px;
-  margin-bottom: 20px;
-
-  .lt480 & {
-    margin-right: 0;
-  }
+  margin: $gutter-width 0;
 }
 
 %pod-content {
-  padding: 10px 10px 20px 10px;
+  padding: $gutter-width;
 }
 
 %node-space-right {
   > .node-content {
     margin-right: 90px;
+
+    @include respond(small-medium) {
+      margin-right: 0;
+    }
   }
 }
 
@@ -39,11 +38,18 @@
   @include background-image(linear-gradient(top,  #6eca5d 0%,#6cc95b 12%,#47bc33 33%,#45bb2f 100%));
   border: 1px solid #249125;
   @include border-radius(3px);
-  color: $white;
   text-align: center;
   display: inline-block;
   text-shadow: 1px 1px rgba(#000, 0.49);
 
+  &,
+  &:link,
+  &:visited,
+  &:active,
+  &:hover {
+    color: $white;
+  }
+
   &:hover {
     text-decoration: none;
   }
@@ -83,72 +89,6 @@
   }
 }
 
-%like-btn {
-  position: relative;
-  @extend %btn-gray;
-  width: 62px;
-  height: 20px;
-  padding: 0;
-
-  .rate-commons-like-btn {
-    display: block;
-    font-size: 0;
-    width: 62px;
-    height: 20px;
-    position: absolute;
-    left: 0;
-    top: 0;
-    z-index: 2;
-
-    &:before {
-      content: '';
-      @include sprite_url_height_width($icons, like);
-      position: absolute;
-      left: 17px;
-      top: 3px;
-    }
-  }
-
-  .rate-commons-like-count {
-    position: absolute;
-    top: -1px;
-    right: -1px;
-    z-index: 1;
-    background: #D9D9D9;
-    border: 1px solid #B5B5B5;
-    height: 20px;
-    line-height: 20px;
-    padding: 0 5px;
-    @include border-radius(0 3px 3px 0px);
-
-    &:after, &:before {
-      right: 100%;
-      border: solid transparent;
-      content: " ";
-      height: 0;
-      width: 0;
-      position: absolute;
-      pointer-events: none;
-    }
-
-    &:after {
-      border-color: rgba(217, 217, 217, 0);
-      border-right-color: #D9D9D9;
-      border-width: 4px;
-      top: 50%;
-      margin-top: -4px;
-    }
-
-    &:before {
-      border-color: rgba(181, 181, 181, 0);
-      border-right-color: #B5B5B5;
-      border-width: 5px;
-      top: 50%;
-      margin-top: -5px;
-    }
-  }
-}
-
 %btn-with-attach {
   position: relative;
   font-size: 0;
@@ -181,7 +121,8 @@
   vertical-align: top;
   @include border-radius(0 3px 3px 0px);
 
-  &:after, &:before {
+  &:after,
+  &:before {
     right: 100%;
     border: solid transparent;
     content: " ";
diff --git a/profiles/commons/themes/contrib/commons_origins/sass/_palettes.scss b/profiles/commons/themes/contrib/commons_origins/sass/_palettes.scss
index 0178393..1056002 100644
--- a/profiles/commons/themes/contrib/commons_origins/sass/_palettes.scss
+++ b/profiles/commons/themes/contrib/commons_origins/sass/_palettes.scss
@@ -55,12 +55,30 @@
     }
 
     // Quicktabs buttons styles
-    .quicktabs-style-commons-pills ul.quicktabs-tabs li.active a, ul.primary.tabs li.active a {
-      background-color: $palette_color_dark;
-    }
 
-    .quicktabs-style-commons-pills ul.quicktabs-tabs li.active a:after {
-      border-color: $palette_color_dark transparent transparent transparent;
+    .quicktabs-style-commons-pills ul.quicktabs-tabs,
+    ul.primary.tabs {
+      li {
+        a {
+          &,
+          span {
+            color: $palette_color_light;
+          }
+
+          &:hover {
+            color: darken($palette_color_light, 10%)
+          }
+        }
+
+        &.active {
+          a {
+            &,
+            span {
+              color: $dark_gray;
+            }
+          }
+        }
+      }
     }
 
     .block-search {
diff --git a/profiles/commons/themes/contrib/commons_origins/sass/_selectBox.scss b/profiles/commons/themes/contrib/commons_origins/sass/_selectBox.scss
index d5cd308..11cd679 100644
--- a/profiles/commons/themes/contrib/commons_origins/sass/_selectBox.scss
+++ b/profiles/commons/themes/contrib/commons_origins/sass/_selectBox.scss
@@ -26,15 +26,16 @@
     background: transparent;
     border: none;
     box-shadow: none;
-    min-width: auto;
-    // width: auto !important;
+    min-width: inherit;
     color: $white;
     line-height: 1;
     margin-top: 5px;
     margin-left: 9px;
   }
 
-  #views-exposed-form-commons-homepage-content-panel-pane-1 &, #quicktabs-commons_bw & {
+  #views-exposed-form-commons-homepage-content-panel-pane-1 &,
+  #quicktabs-commons_bw &,
+  .views-exposed-widgets & {
     background: $page;
     border: none;
     box-shadow: none;
@@ -81,7 +82,9 @@
     }
   }
 
-  #views-exposed-form-commons-homepage-content-panel-pane-1 &, #quicktabs-commons_bw & {
+  #views-exposed-form-commons-homepage-content-panel-pane-1 &,
+  #quicktabs-commons_bw &,
+  .views-exposed-widgets & {
     width: auto !important;
     padding: 2px 4px;
   }
@@ -100,7 +103,9 @@
     display: none;
   }
 
-  #views-exposed-form-commons-homepage-content-panel-pane-1 &, #quicktabs-commons_bw & {
+  #views-exposed-form-commons-homepage-content-panel-pane-1 &,
+  #quicktabs-commons_bw &,
+  .views-exposed-widgets & {
     display: none;
   }
 }
@@ -145,8 +150,8 @@
 
 /* Options */
 .selectBox-options,
-.selectBox-options LI,
-.selectBox-options LI A {
+.selectBox-options li,
+.selectBox-options li a {
   list-style: none;
   display: block;
   cursor: default;
@@ -154,7 +159,7 @@
   margin: 0;
 }
 
-.selectBox-options LI A {
+.selectBox-options li a {
   line-height: 1.5;
   padding: 0 .5em;
   white-space: nowrap;
@@ -162,16 +167,16 @@
   background: 6px center no-repeat;
 }
 
-.selectBox-options LI.selectBox-hover A {
+.selectBox-options li.selectBox-hover a {
   background-color: #EEE;
 }
 
-.selectBox-options LI.selectBox-disabled A {
+.selectBox-options li.selectBox-disabled a {
   color: #888;
   background-color: transparent;
 }
 
-.selectBox-options LI.selectBox-selected A {
+.selectBox-options li.selectBox-selected a {
   background-color: #C8DEF4;
 }
 
@@ -200,6 +205,6 @@
   color: #888 !important;
 }
 
-.selectBox-inline.selectBox-disabled .selectBox-options A {
+.selectBox-inline.selectBox-disabled .selectBox-options a {
   background-color: transparent !important;
-}
\ No newline at end of file
+}
diff --git a/profiles/commons/themes/contrib/commons_origins/sass/global.base.scss b/profiles/commons/themes/contrib/commons_origins/sass/global.base.scss
index 3fd77bd..0c5c79f 100755
--- a/profiles/commons/themes/contrib/commons_origins/sass/global.base.scss
+++ b/profiles/commons/themes/contrib/commons_origins/sass/global.base.scss
@@ -85,8 +85,7 @@ audio:not([controls]) {
 html {
   font-size: 100%;
   -webkit-text-size-adjust: 100%;
-  line-height: 1.5;
-  height: 100%;
+  line-height: 1.7;
   overflow-y: scroll;
 }
 
@@ -534,39 +533,6 @@ table {
 
 
 /* =============================================================================
-    Gutters
-   ========================================================================== */
-
-/*
- * If gutters are set in theme settings they will override these values,
- * see Extensions > Modify Output > Design
- * $gutter-width is set in _base.scss
- */
-#main-content,
-.block-inner,
-.pane-inner,
-.menu-wrapper,
-.branding-elements,
-.breadcrumb-wrapper,
-.attribution,
-.at-panel .rounded-corner,
-div.messages {
-  margin-left: $gutter-width;
-  margin-right: $gutter-width;
-}
-
-/*
- * Panel pages need negative margin equal to the gutter width applied to #content,
- * this is taken care of in theme settings as per above for normal gutters
- */
-#content .panel-display,
-#content .panel-flexible {
-  margin-left: -$gutter-width;
-  margin-right: -$gutter-width;
-}
-
-
-/* =============================================================================
     Flexible Media and Cross browser improvements
    ========================================================================== */
 
diff --git a/profiles/commons/themes/contrib/commons_origins/sass/global.styles.scss b/profiles/commons/themes/contrib/commons_origins/sass/global.styles.scss
index e718952..da44378 100755
--- a/profiles/commons/themes/contrib/commons_origins/sass/global.styles.scss
+++ b/profiles/commons/themes/contrib/commons_origins/sass/global.styles.scss
@@ -2,7 +2,7 @@
 // _base.scss imports _custom.scss (variables and mixins) and other partials.
 @import "base";
 
-/*
+/**
  * @file
  * global.styles
  *
@@ -30,7 +30,7 @@
  *   Base
  * ========================================================================== */
 
-/*
+/**
  * To preserve theme settings never apply font properties to the HTML element.
  * This is critically important if you are using the Responsive JavaScript
  * feature as this relies on being able to set a pseudo font family on the HTML
@@ -39,7 +39,7 @@
  */
 
 html {
-  background:$page;
+  background: $page;
 }
 
 body {
@@ -48,7 +48,6 @@ body {
   color: $dark_gray;
 }
 
-
 /* =============================================================================
  *   HTML Elements
  * ========================================================================== */
@@ -58,7 +57,6 @@ h1 {
   line-height: 30px;
   font-weight: normal;
   color: $white;
-//  @include text-shadow(#000 1px 1px 4px);
 
   a {
     color: $white;
@@ -79,7 +77,6 @@ h1 {
   }
 }
 
-
 h2 {
   color: $dark_blue;
   font-weight: lighter;
@@ -88,7 +85,6 @@ h2 {
   font-family: $alt-font;
 }
 
-
 h3 {
   color: $light_blue;
   font-weight: normal;
@@ -100,78 +96,6 @@ h3 {
   }
 }
 
-
-h4 {}
-
-
-h5 {}
-
-
-h6 {}
-
-
-p {}
-
-
-b,
-strong {}
-
-
-i,
-em {}
-
-
-dfn {}
-
-
-sup {}
-
-
-sub {}
-
-
-del {}
-
-
-ins {}
-
-
-blockquote {}
-
-
-cite {}
-
-
-q {}
-
-
-address {}
-
-
-ul {}
-
-
-ol {}
-
-
-li {}
-
-
-dl {}
-
-
-dd {}
-
-
-dt {}
-
-
-abbr {}
-
-
-acronym {}
-
-
 pre,
 code,
 tt,
@@ -181,24 +105,23 @@ var {
   font-family: $mono;
 }
 
-
 /* =============================================================================
  *   Wrappers
  * ========================================================================== */
 
-/*
+/**
  * Page wrapper, includes the .container class which sets the overall page or section width
  * Main wrapper in page.tpl.php, the .container class sets the width of the page, do not add width to it!
  */
+
 #page  {
   margin-top: -92px;
-  .container {}
 }
 
-
-/*
+/**
  * Wraps all header elements - branding and .region-header
  */
+
 #header {
   height: 95px;
   color: $white;
@@ -229,155 +152,84 @@ var {
   border-bottom: 1px solid darken($light_blue, 10%);
 }
 
-
-/*
+/**
  * Wraps the sidebars the content column
  */
+
 #columns {
-  .page-user-login & {
-    @extend %pod;
-    @extend %pod-content;
-    margin-top: 50px;
-  }
+  margin-right: $gutter-width;
+  margin-left: $gutter-width;
 }
 
-
-/*
- * Main content column wrapper
- */
-#content-column {}
-
-
-/*
- * Wraps the main-content-header, the content region and feed-icons. Use this wrapper to style the entire main content column
- */
-#main-content {}
-
-
-/*
+/**
  * Footer wrapper
  */
-#footer {}
-
-
-/*
- * Panels may need additional margin wrangling when in the $content region
- */
-#content .panel-display {}
-
-
-/*
- * Full Width Wrappers
- * These are used in the optional page--full-width-wrappers.tpl.php template.
- * All have internal .container classes. In the full width wrapper template the
- * .container classes set the width or max-width of the contained element - you
- * can style this but never add any width/margin/padding/borders etc to .container
- */
-
-/*
- * Wraps #page
- */
-#page-wrapper {
-  .container {}
-}
-
-
-/*
- * Wraps the leaderboard
- */
-#leaderboard-wrapper {
-  .container {}
-}
-
-
-/*
- * Wraps the header
- */
-#header-wrapper {
-  /* Debug styles, is this working */
-  background: $debug;
-  .container {}
-}
-
-
-/*
- * Wraps the nav elements
- */
-#nav-wrapper {
-  .container {}
-}
-
 
-/*
- * Wraps breadcrumb
- */
-#breadcrumb-wrapper {
-  .container {}
+#footer {
+  border-top: 1px solid $border;
+  @include box-shadow(inset 0 1px 0 $white);
+  margin: 0 $gutter-width;
 }
 
-
-/*
- * Wraps messages and help
+/**
+ * Default credit block
  */
-#messages-help-wrapper {
-  .container {}
-}
 
+#block-block-1 {
+  .block-title,
+  .block-content {
+    color: $light_gray;
+  }
 
-/*
- * Wraps the secondary content/preface region
- */
-#secondary-content-wrapper {
-  .container {}
-}
+  .block-title {
+    margin: $gutter-width 0 $gutter-width / 2;
+  }
 
+  .block-content {
+    font-size: .88em;
+  }
 
-/*
- * Wraps the main content column
- */
-#content-wrapper {
-  .container {}
+  #footer & {
+    margin-bottom: 0;
+  }
 }
 
-
-/*
- * Wraps the tertiary content/postfix region
+/**
+ * Generic pod wrappers
  */
-#tertiary-content-wrapper {
-  .container {}
-}
-
 
-/*
- * Footer wrapper
- */
-#footer-wrapper {
-  /* Debug styles, is this working? */
-  background: $debug;
+ .commons-pod {
+  @extend %pod;
+  @extend %pod-content;
 
-  .container {}
+  /* Prevent pod nesting. */
+  .commons-pod {
+    margin: 0;
+    padding: 0;
+    background: transparent;
+    @include box-shadow(none);
+  }
 }
 
-
 /* =============================================================================
  *   Branding
  * ========================================================================== */
 
-/*
+/**
  * Wraps all the branding elements, logo, name and slogan
  */
+
 #branding {
-  // display: inline-block;
   float: left;
+  margin-left: 10px;
   vertical-align: top;
-  // width: 395px;
   text-align: left;
 }
 
-
-/*
+/**
  * Logo
  */
+
 #logo {
   display: inline-block;
   padding: 0 10px 0 0;
@@ -385,25 +237,12 @@ var {
   img {
     vertical-align: bottom;
   }
-
-  // .palette-active & {
-  //   a {
-  //     display: block;
-  //     width: 48px;
-  //     height: 80px;
-  //     background: image-url('logo-general.png') left top no-repeat;
-  //   }
-
-  //   img {
-  //     display: none;
-  //   }
-  // }
 }
 
-
-/*
+/**
  * Wrapper for the site name and slogan (hgroup)
  */
+
 #name-and-slogan {
   display: inline-block;
   vertical-align: top;
@@ -418,17 +257,16 @@ var {
   }
 }
 
-
-/*
+/**
  * Site name (h1)
  */
+
 #site-name {
   margin: 0;
   font-family:'Trebuchet MS';
   font-weight:700;
 
   a {
-
     &:link,
     &:visited {
       text-decoration: none;
@@ -441,30 +279,24 @@ var {
   }
 }
 
-
-/*
+/**
  * Site slogan (h2)
  */
+
 #site-slogan {
   margin: 0;
 }
 
-
 /* =============================================================================
  *   Page content header
  * ========================================================================== */
 
-/*
- * Main content header wraps the page title, tabs and actions links
- */
-#main-content-header {}
-
-
-/*
+/**
  * The main page title (h1)
  */
+
 #page-title {
-  margin: 0 0 10px 6px;
+  margin: 0 0 10px;
   font-weight:300;
 
   .page-node & {
@@ -480,18 +312,14 @@ var {
  *   Misc Global Styles
  * ========================================================================== */
 
-/*
+/**
  * Generic styles for nodes.
  */
+
 .node {
   position: relative;
 
-  &.node-answer,
-  &.node-event,
-  &.node-poll,
-  &.node-post,
-  &.node-question,
-  &.node-wiki.node-teaser {
+  &.user-picture-available {
     @include place-picture;
   }
 
@@ -507,11 +335,35 @@ var {
 
   .comment-comments {
     a {
-      @include count-btn('comments-dark'); 
+      @include count-btn('comments-dark');
     }
   }
 }
 
+.node-actions {
+  float: right;
+  width: 90px;
+  list-style: none;
+  margin: .5em -90px 0 0;
+  text-align: right;
+
+  &,
+  .block-content & {
+    padding: 0;
+  }
+
+  @include respond(small-medium) {
+    float: none;
+    width: auto;
+    margin: 1.7em 0;
+    text-align: left;
+  }
+}
+
+.button-alert {
+  @extend %btn-green;
+}
+
 .node-teaser {
   border-bottom: 1px solid #ccc;
   padding-bottom: 20px;
@@ -531,12 +383,7 @@ var {
     position: relative;
     @include border-radius(3px);
 
-    &.node-answer,
-    &.node-event,
-    &.node-poll,
-    &.node-post,
-    &.node-question,
-    &.node-wiki.node-teaser {
+    &.user-picture-available {
       @include place-picture(50px, 10px);
     }
 
@@ -555,18 +402,18 @@ var {
   padding:4px;
   @include border-radius(3px);
   @include box-shadow($light_gray 1px 1px 4px);
-  line-height:0;
+  line-height: 0;
 
   .node &,
   .comment & {
     &:after {
-      content:"";
-      width:5px;
-      height:8px;
-      position:absolute;
-      right:-5px;
-      top:10px;
-      background:image-url('user_img_arrow.png');
+      content: "";
+      width: 5px;
+      height: 8px;
+      position: absolute;
+      right: -5px;
+      top: 10px;
+      background: image-url('user_img_arrow.png');
     }
 
     img {
@@ -575,50 +422,103 @@ var {
   }
 }
 
-/*
- * Feed icons
+/**
+ * Filter drawer accessories
  */
-.feed-icon {}
 
+.filter-trigger {
+  display: none;
+  background: white;
+  @include box-sizing(border-box);
+  padding: 5px;
+  position: absolute;
+  top: 0;
+  left: -40px;
+  width: 40px;
+  height: 40px;
+  border-right: none;
+  @include border-radius(3px 0 0 3px);
+  text-align: center;
+  font: 0/0 a;
+  line-height: 0;
+  color: transparent;
+  @include box-shadow($light_gray 1px 1px 4px);
+  cursor: pointer;
+  z-index: -1;
+
+  &:after {
+    content: "\2026";
+    display: block;
+    width: 30px;
+    height: 30px;
+    font-size: 20px;
+    font-weight: bold;
+    @include text-shadow(2px 2px .2 rgba(0, 0, 0, .5));
+    line-height: 20px;
+    background: $gray;
+    @include background(linear-gradient($light_gray, $gray));
+    color: white;
+    @include border-radius(3px);
+    @include box-shadow(inset 0 0 .4em rgba(0, 0, 0, .2), $light_gray 1px 1px 4px);
+  }
+
+  &.following {
+    position: fixed;
+    right: 0;
+    left: auto;
+  }
+}
+
+.filter-overlay {
+  position: fixed;
+  top: 0;
+  left: 0;
+  display: none;
+  width: 100%;
+  height: 100%;
+  overflow: hidden;
+  background: rgba(255, 255, 255, .8);
+}
 
-/*
+/**
  * Aggregator feed source
  */
+
 #aggregator .feed-source .feed-icon {
   display: inline;
   float: none;
   margin-right: 10px;
 }
 
-
 .feed-details dt,
 .feed-details dd {
   display: inline;
   margin: 0;
 }
 
-
-/*
+/**
  * Generic styles for the more link
  */
+
 .more-link {
-  background-image:image-url('icons/icon-more.png');
-  background-repeat:no-repeat;
-  height:14px;
-  padding:0 0 0 17px;
-  float:right;
-  font-size:0.85em;
-  line-height:14px;
-  margin:10px;
+  background-image: image-url('icons/icon-more.png');
+  background-repeat: no-repeat;
+  min-height: 14px;
+  padding: 0 0 0 1.7em;
+  float: right;
+  font-size: 0.85em;
+  line-height: 14px;
+  margin-top: 10px;
+
   a {
     color:$light_gray;
   }
 }
 
-
-/*
+/**
  * Generic styles for links. See the ul.links declaration in node and comment stylesheets
  */
+
 ul.links {
   margin: 0;
   padding: 0;
@@ -634,6 +534,7 @@ ul.links {
   }
 }
 
+.quicktabs-style-commons-pills ul.quicktabs-tabs,
 ul.primary.tabs {
   border-bottom: none;
   padding: 0;
@@ -643,39 +544,61 @@ ul.primary.tabs {
     margin-top: 5px;
 
     a {
-      background-color: #d7d7d7;
+      background-color: $tab_background;
       @include border-radius(3px);
-      padding: 3px 10px;
-      display: block;
-      color: #a5a3a3;
+      padding: .3em .8em;
+      display: inline-block;
       border: none;
 
+      &,
+      span {
+        color: $tab_text;
+      }
+
       &:hover {
         text-decoration: none;
-        background-color: #d7d7d7;
-        color: #a5a3a3;
+        background-color: $tab_background;
+        color: $tab_text_hover;
       }
     }
 
     &.active a {
-      background-color: $dark_blue;
+      position: relative;
+      background-color: $tab_active_background;
       border: none;
-      color: $white;
 
+      &,
       &:hover {
-        background-color: $dark_blue;
+        background-color: $tab_active_background;
+      }
+
+      &,
+      span {
+        color: $tab_active_text;
+      }
+
+      &:after {
+        position: absolute;
+        bottom: -.7em;
+        left: 50%;
+        display: block;
+        width: 0;
+        height: 0;
+        overflow: hidden;
+        margin-left: -.6em;
+        content: "";
+        border-width: .4em .6em;
+        border-style: solid;
+        border-color: $tab_active_background transparent transparent;
       }
     }
   }
 }
 
-// li.flag-commons_follow_group {
-//   @extend %btn-gray;
-//   a {
-//     background:transparent !important;
-//     padding:3px 17px !important;
-//   }
-// }
+.quicktabs-style-commons-pills ul.quicktabs-tabs li {
+  text-transform: uppercase;
+  font-size: .8em;
+}
 
 li.sharethis {
   @extend %btn-gray;
@@ -696,7 +619,7 @@ li.sharethis {
   }
 
   &:before {
-    content: '';
+    content: "";
     @include sprite_url_height_width($icons, share);
   }
 
@@ -717,7 +640,7 @@ li.sharethis {
     position: relative;
 
     &:before, &:after {
-      content: '';
+      content: "";
       width: 0;
       height: 0;
       border-style: solid;
@@ -739,52 +662,101 @@ li.sharethis {
   }
 }
 
-/*
- * Search results are an ordered list so reset the margin
- */
-.search-results {
-  margin: 0;
-}
-
-/*
+/**
  * H1 Node title
  */
 
 h1.node-title {
-  color:$dark_blue;
-  font-size:20px;
+  color: $dark_blue;
+  font-size: 20px;
+
   a {
-    text-decoration:none;
-    color:$dark_blue;
+    text-decoration: none;
+    color: $dark_blue;
+
     &:hover {
-      text-decoration:underline;
+      text-decoration: underline;
     }
   }
 }
 
-/*
- * User picture wrapping and shadow
+/**
+ * Main wrapper for most blocks, block_system_main does not have it
  */
 
-.view-commons-homepage-content, .view-commons-activity-streams-activity, .view-activity-group, .view-commons-activity-streams-user-activity {
-  .content, .views-field-timestamp {
-    @include place-picture(40px);
+.block {
+  margin-bottom: 20px;
+}
+
+/**
+ * Block title
+ */
+
+.block-title {
+  margin: 0;
+}
+
+/**
+ * Match item list and block menu margin and padding
+ */
+
+.block-content {
+  ul,
+  ol {
+    padding: 0 0 0 15px;
+  }
+
+  li {
+    margin: 0;
+    padding: 0;
   }
 }
 
-.view-activity-group, .view-commons-activity-streams-activity, .view-commons-activity-streams-user-activity {
-  .views-row {
-    border-bottom: 1px solid #eee;
-    padding-bottom: 5px;
-    margin-bottom: 5px;
-    position: relative;
+/**
+ * User picture wrapping and shadow
+ */
 
-    &.views-row-last {
-      border-bottom: none;
-      padding-bottom: 0;
+.views-row {
+  border-bottom: 1px solid #eee;
+  padding-bottom: $gutter-width;
+  margin-bottom: $gutter-width;
+  position: relative;
+
+  &.views-row-last {
+    border-bottom: none;
+    padding-bottom: 0;
+    margin-bottom: 0;
+  }
+
+  .view-plain & {
+    border-bottom: none;
+    padding-bottom: 0;
+    margin: .3em 0;
+
+    &:first-child {
+      margin-top: 0;
+    }
+
+    &:last-child {
       margin-bottom: 0;
     }
+  }
+}
 
+.view-commons-homepage-content,
+.view-commons-activity-streams-activity,
+.view-activity-group,
+.view-commons-activity-streams-user-activity {
+  .content,
+  .views-field-timestamp {
+    @include place-picture(40px);
+  }
+}
+
+.view-activity-group,
+.view-commons-activity-streams-activity,
+.view-commons-activity-streams-user-activity {
+  .views-row {
     h2 {
       display: none;
     }
@@ -807,25 +779,29 @@ h1.node-title {
     color: $dark_gray;
   }
 
-  .field-name-field-topics, .field-name-og-group-ref {
-    float: left;
-    width: 50%;
+  .field-name-field-topics,
+  .field-name-og-group-ref {
+    &.view-mode-full {
+      float: left;
+      width: 50%;
+      margin-bottom: 1.7em;
 
-    ul {
-      margin: 0;
-      list-style: none;
-      padding: 0;
+      ul {
+        margin: 0;
+        list-style: none;
+        padding: 0;
 
-      li {
-        float: left;
-        margin-right: 10px;
+        li {
+          float: left;
+          margin-right: 10px;
+        }
       }
     }
   }
 
   .field-name-field-topics {
     .field-item:before {
-      content: '';
+      content: "";
       @include sprite_url_height_width($icons, tags);
       top: -1px;
     }
@@ -833,15 +809,13 @@ h1.node-title {
 
   .field-name-og-group-ref {
     .field-item:before {
-      content: '';
+      content: "";
       @include sprite_url_height_width($icons, groups);
       top: -1px;
     }
   }
 
   .node nav {
-    // float: left;
-    // width: 50%;
     clear: both;
     margin-top: 20px;
     position:relative;
@@ -852,16 +826,8 @@ h1.node-title {
 
     li {
       float: left;
-
-      &.flag-inappropriate_node {
-        float: none;
-        position: absolute;
-        bottom: 5px;
-        right: 5px;
-      }
     }
   }
-
 }
 
 #comments {
@@ -875,7 +841,7 @@ h1.node-title {
       font-size: 2.2em;
 
       &:before {
-        content: '';
+        content: "";
         @include sprite_url_height_width($icons, comments-large);
       }
     }
@@ -923,7 +889,7 @@ h1.node-title {
   float: right;
 
   &:before {
-    content: '';
+    content: "";
     @include sprite_url_height_width($icons, comments);
     margin-right: 8px;
     top: 3px;
@@ -936,132 +902,136 @@ h1.node-title {
   }
 }
 
+.primary-fields,
+.supplementary-fields {
+  @include inline-block;
+  @include box-sizing(border-box);
+  float: left;
 
-.page-node-add {
-  .node-form {
-    position: relative;
+  .view-commons-question-answers & {
+    display: block;
+    float: none;
+    width: auto;
+    padding: 0;
   }
+}
 
-  fieldset {
-    border: none;
+.primary-fields {
+  padding-right: $gutter-width;
+  width: 66.666%;
+}
 
-    &#edit-og-group-ref-und {
-      padding: 0;
-    }
-  }
+.supplementary-fields {
+  padding-left: $gutter-width;
+  width: 33.333%;
+}
 
-  #edit-body {
-    .ckeditor_links {
-      background-color: $white;
-      padding: 5px 15px 0 15px;
-      display: block;
-    }
+.form-actions {
+  clear: both;
+}
 
-    fieldset {
-      background-color: $white;
-      @include border-radius(0 0 6px 6px);
-    }
-  }
+/* Format the date range form items. */
+.start-date-wrapper,
+.end-date-wrapper {
+  clear: none;
+  width: auto;
+  max-width: 49%;
 
-  #edit-body, .form-item-title, .field-name-og-group-ref, #poll-choice-wrapper, .field-name-field-address-form {
-    width: 66%;
+  &,
+  input,
+  .form-item .form-type-textfield,
+  .date-padding,
+  .form-type-textfield {
     float: none;
+    display: inline-block;
+    min-width: inherit;
+  }
 
-    input[type="text"] {
-      width: 100%;
-    }
-
-    .lt480 & {
-      width: 100%;
+  .form-item {
+    input {
+      margin-right: auto;
     }
   }
 
-  .field-type-taxonomy-term-reference-form {
-    position: absolute;
-    right: 0;
-    top: 0;
-    width: 33%;
-    margin-right: 0;
-    margin-left: 0;
-    padding: 0;
-    @extend %pod;
-
-    > div {
-      @extend %pod-content;
-      padding: 5px 10px 10px 10px;
-      margin: 0;
-    }
+  .form-type-textfield {
+    max-width: 60%;
 
-    input[type="text"] {
-      width: 100%;
+    &:last-child {
+      max-width: 30%;
     }
   }
 
-  #edit-additional-settings {
-    // float: right;
-    position: absolute;
-    right: 0;
-    top: 80px;
-    width: 33%;
-    margin-right: 0;
-    margin-left: 0;
-    padding: 0;
-    @extend %pod;
+  .form-type-date-popup {
+    margin: 0;
+  }
 
-    > div {
-      @extend %pod-content;
+  @include respond(small-medium) {
+    display: block;
+    max-width: inherit;
+    margin: $gutter-width auto;
+  }
+}
 
-      fieldset {
-        border-bottom: 1px solid $border;
-        padding-left: 0;
-        padding-right: 0;
+.node-type-event {
+  .addressfield-container-inline {
+    &:after {
+      content: "";
+      clear: none;
+      display: none;
+    }
+  }
+}
 
-        &.collapsed {
-          border-bottom: none;
-        }
+.logo-available {
+  .field-name-field-date,
+  .field-name-field-address,
+  .field-name-field-offsite-url {
+    margin-left: 65px;
 
-        fieldset {
-          border-bottom: none;
-        }
-      }
+    @include respond(only-small) {
+      margin-left: 0;
     }
+  }
+}
 
-    input[type="text"] {
-      width: 100%;
-    }
+.field-name-field-logo {
+  float: left;
+  width: 70px;
+  margin: .5em 0 0 -70px;
+  position: relative;
+  left: 70px;
+
+  img {
+    display: block;
+    @include box-sizing(border-box);
+    margin-bottom: 1.7em;
+    padding: 4px;
+    @include border-radius(3px);
+    @include box-shadow($light_gray 1px 1px 4px);
+    background: $white;
   }
 
-  #edit-actions {
-    clear: both;
+  @include respond(only-small) {
+    display: none;
   }
 }
 
-.node-type-event {
-  .node-content {
-    margin-left: 0;
-
-    .field-name-field-logo {
-      float:left;
-      margin:3px 15px 15px 0;
-      background:$white;
-      padding:4px;
-      @include border-radius(3px);
-      @include box-shadow($light_gray 1px 1px 4px);
-      position:relative;
-      display:block;
-      line-height:0;
-
-      img {
-        width:72px;
-      }
-    }
+.field-name-body {
+  clear: both;
+  margin-top: 1.7em;
+}
 
-    // .field-name-field-offsite-url {
-    //   float: right;
-    // }
+.field-name-field-date {
+  font-weight: bold;
+}
 
-    .field-name-body {
-      clear: left;
+.adr {
+  .region {
+    &,
+    .node-type-event &,
+    .panel-display .region & {
+      float: none;
+      padding: 0;
     }
   }
 }
@@ -1083,7 +1053,7 @@ h1.node-title {
       @extend %btn-gray;
 
       &:before {
-        content: '';
+        content: "";
         @include sprite_url_height_width($icons, follow-large);
       }
     }
@@ -1126,18 +1096,13 @@ h1.node-title {
 }
 
 .flag-inappropriate-node {
-  @include opacity(0);
-  @include transition(opacity 0.5s);
-
+  display: block;
+  margin: $gutter-width 0;
   &:before {
-    content: '';
+    content: "";
     top: 0;
     @include sprite_url_height_width($icons, spam);
   }
-
-  .page-node .node:hover &, .pane-node-links:hover & {
-    @include opacity(1);
-  }
 }
 
 .view-commons-contributors-group {
@@ -1160,9 +1125,10 @@ h1.node-title {
   }
 }
 
-/*
+/**
  * Author/Submit line
  */
+
 .author-datetime {
   color:$light_gray;
   font-size:0.85em;
@@ -1172,30 +1138,30 @@ h1.node-title {
   color: $dark_gray;
 }
 
-/*
+/**
  * Featured/New Tags
  */
 
 .tag.featured {
-  width:58px;
-  height:22px;
-  display:inline-block;
+  width: 58px;
+  height: 22px;
+  display: inline-block;
   background: {
-    image:image-url('tag-featured.png');
-    repeat:no-repeat;
+    image: image-url('tag-featured.png');
+    repeat: no-repeat;
   }
-  margin:6px 0 0 5px;
+  margin: 6px 0 0 5px;
 }
 
 .tag.new {
-  width:27px;
-  height:22px;
-  display:inline-block;
+  width: 27px;
+  height: 22px;
+  display: inline-block;
   background: {
-    image:image-url('tag-new.png');
-    repeat:no-repeat;
+    image: image-url('tag-new.png');
+    repeat: no-repeat;
   }
-  margin:4px 0 0 5px;
+  margin: 4px 0 0 5px;
 }
 
 .page-user {
@@ -1231,7 +1197,7 @@ h1.node-title {
       display: inline-block;
 
       &:before {
-        content: '';
+        content: "";
         @include sprite_url_height_width($icons, facebook);
         margin-right: 7px;
         top: 7px;
@@ -1247,7 +1213,7 @@ h1.node-title {
       display: inline-block;
 
       &:before {
-        content: '';
+        content: "";
         @include sprite_url_height_width($icons, linkedin);
         margin-right: 7px;
         top: 7px;
@@ -1263,7 +1229,7 @@ h1.node-title {
       display: inline-block;
 
       &:before {
-        content: '';
+        content: "";
         @include sprite_url_height_width($icons, twitter);
         margin-right: 7px;
         top: 7px;
@@ -1284,95 +1250,31 @@ h1.node-title {
   }
 }
 
-/* =============================================================================
- *   Regions
- * ========================================================================== */
-
-/*
- * Standard region wrapper, don't add width to any regions, you will bork the layout - no margin, padding or borders etc
- */
-.region {}
-
-
-/*
- * Regions have an inner div - perfect for adding margin, padding or borders
+/**
+ * Group nodes
  */
-.region-inner {}
 
+.node-group {
+  .field-name-body {
+    clear: none;
+  }
+}
 
-/*
- * Regions can be nested, such as when using Panels
- */
-.region-inner .region-inner {}
-//
+/* =============================================================================
+ *   Regions
+ * ========================================================================== */
 
-/*
+/**
  * Header region, embedded in the #header
  */
+
 .region-header {
   display: inline-block;
-  // float: left;
-  // @extend %divider-left;
   height: 64px;
   width: 266px;
   text-align: left;
 }
 
-
-/*
- * Generally used to output Drupals help block, if the help module is enabled
- */
-.region-help {}
-
-
-/*
- * Secondary content
- */
-.region-secondary-content {}
-
-
-/*
- * Sits above the main content header, like a content-top region
- */
-.region-highlighted {}
-
-
-/*
- * Sits below the main content, like a content-bottom region
- */
-.region-content-aside {}
-
-
-/*
- * Sidebars - targets both
- */
-.sidebar {}
-
-
-/*
- * First sidebar
- */
-.region-sidebar-first {}
-.region-two-66-33-first {}
-
-/*
- * Second sidebar
- */
-.region-sidebar-second {}
-.region-two-66-33-second {}
-
-/*
- * Tertiary content
- */
-.region-tertiary-content {}
-
-
-/*
- * Footer region
- */
-.region-footer {}
-
-
 /* =============================================================================
  *   Links
  * ========================================================================== */
@@ -1381,19 +1283,12 @@ a {
   text-decoration: none;
   color: $light_blue;
 
-  &:link,
-  &:visited {}
-
-  &:active,
-  &.active {}
-
   &:hover,
   &:focus {
     text-decoration: underline;
   }
 }
 
-
 /* =============================================================================
  *   Primary, Secondary and Menu Bar region menus
  * ========================================================================== */
@@ -1402,7 +1297,7 @@ a {
   display: inline-block;
 }
 
-/*
+/**
  * Use one of the following id's for granular control:
  *  - #menu-bar (menu bar region)
  *  - #primary-menu (main menu)
@@ -1412,8 +1307,6 @@ a {
 
 #menu-bar.nav {
   display: inline-block;
-  // margin-right: -3px;
-  // float: left;
   vertical-align: top;
   margin:0;
   @extend %divider-right;
@@ -1434,11 +1327,12 @@ a {
     margin: 0;
     padding: 0;
 
-    &:hover, &.active-trail {
+    &:hover,
+    &.active-trail {
       background: image-url('main-nav-hover.png') repeat-x left top;
       .arrow {
         &:before {
-          content: '';
+          content: "";
           display: block;
           position: absolute;
           bottom: 0px;
@@ -1451,7 +1345,7 @@ a {
         }
 
         &:after {
-          content: '';
+          content: "";
           display: block;
           position: absolute;
           bottom: 0px;
@@ -1473,15 +1367,16 @@ a {
     height: 33px;
     text-transform: uppercase;
     @include text-shadow(#000 1px 1px 4px);
-    background-position:center 10px;
-    background-repeat:no-repeat;
-    position:relative;
+    background-position: center 10px;
+    background-repeat: no-repeat;
+    position: relative;
     @extend %divider-left;
-    &:visited {}
+
     &:hover,
     &:focus {
       text-decoration: none;
     }
+
     .arrow {
       width:17px;
       height:9px;
@@ -1541,8 +1436,10 @@ ul.commons-utility-links {
     display: inline-block;
 
     &.first {
-      margin-right: 17px;
-      font-weight: bold;
+      .logged-in & {
+        margin-right: 17px;
+        font-weight: bold;
+      }
     }
 
     &.last {
@@ -1556,7 +1453,6 @@ ul.commons-utility-links {
   }
 }
 
-
 /* =============================================================================
  *   Superfish
  * ========================================================================== */
@@ -1571,9 +1467,6 @@ ul.sf-menu {
     text-decoration: none;
     height: 2.5em;
     line-height: 2.5em;
-
-    &:link,
-    &:visited {}
   }
 
   li {
@@ -1592,23 +1485,14 @@ ul.sf-menu {
   }
 }
 
-
-/*
+/**
  * Superfish blocks
  */
-.block-superfish {
-
-  .block-inner .content {}
 
+.block-superfish {
   ul {
     margin: 0 !important;
     padding: 0 !important;
-
-    ul {
-      ul {
-        ul {}
-      }
-    }
   }
 
   li {
@@ -1617,18 +1501,16 @@ ul.sf-menu {
   }
 }
 
-
-/*
+/**
  * Vertical style
  */
+
 .sf-vertical {
   width: 100%;
 
   li {
     width: 100%;
 
-    &.last {}
-
     &:hover ul,
     &.sfHover ul {
       left: 100%;
@@ -1643,23 +1525,22 @@ ul.sf-menu {
   }
 }
 
-
-/*
+/**
  * Navbar style
  */
+
 .sf-navbar {
   padding-bottom: 0 !important;
 }
 
-
-/*
+/**
  * Sensible padding for the default style
  */
+
 .sf-menu.sf-style-default a {
   padding: 0 10px;
 }
 
-
 /* =============================================================================
  *   Menus, usually blocks
  * ========================================================================== */
@@ -1670,57 +1551,22 @@ ul.menu {
   ul {
     padding-left: 15px;
 
-    ul {
-      ul {}
-    }
-  }
-
-  li {
-    margin: 0;
-
-    &.collapsed,
-    &.expanded,
-    &.leaf {}
-
-    a {
-
-      &:link,
-      &:visited {}
-
-      &:active,
-      &.active {}
-
-      &:hover,
-      &:focus {}
+    li {
+      margin: 0;
     }
-
-    &.active a,
-    &.active-trail a {}
-
-    &.first,
-    &.last {}
   }
 }
 
-
 /* If li.content exists it's a problem, so reset the padding */
 .block .menu li.content {
   padding: 0;
 }
 
-
 /* =============================================================================
  *   Book navigation menu
  * ========================================================================== */
 
 .book-navigation {
-
-  .page-links {}
-
-  .page-previous {}
-
-  .page-next {}
-
   .page-up {
     /* Prevent text wrapping to a new line, assumes English "up" is used (two characters) */
     min-width: 2em;
@@ -1732,7 +1578,6 @@ ul.menu {
   }
 }
 
-
 /* =============================================================================
  *   Breadcrumbs
  * ========================================================================== */
@@ -1764,25 +1609,8 @@ ul.menu {
     list-style: none;
     display: inline;
   }
-
-  li.crumb-first {}
-
-  li.crumb-last {}
-
-  a {
-
-    &:link,
-    &:visited {}
-
-    &:active,
-    &.active {}
-
-    &:hover,
-    &:focus {}
-  }
 }
 
-
 /* =============================================================================
  *   Pagers
  * ========================================================================== */
@@ -1793,12 +1621,10 @@ ul.pager {
   text-align: center;
 }
 
-
 .item-list ul.pager li {
   margin: 0;
 }
 
-
 ul.pager li {
   background-image: none;
   display: inline;
@@ -1810,40 +1636,10 @@ ul.pager li {
   }
 }
 
-
 .block ul.pager li {
   margin: 0;
 }
 
-
-/*
- * Theme the various states of pager links
- */
-ul.pager li {
-
-  a {
-
-    &:link,
-    &:visited {}
-
-    &:active,
-    &.active {}
-
-    &:hover,
-    &:focus {}
-  }
-
-  &.pager-item {}
-  &.first {}
-  &.last {}
-  &.pager-current {}
-  &.pager-first {}
-  &.pager-previous {}
-  &.pager-next {}
-  &.pager-last {}
-}
-
-
 /* =============================================================================
  *   Skip Navigation
  * ========================================================================== */
@@ -1886,7 +1682,6 @@ ul.pager li {
   }
 }
 
-
 /* =============================================================================
  *   Tabs (local tasks)
  * ========================================================================== */
@@ -1895,7 +1690,6 @@ ul.pager li {
   margin-bottom: 15px;
 }
 
-
 ul.primary {
   border-bottom-color: $border;
   margin: 20px 0;
@@ -1934,7 +1728,6 @@ ul.primary {
   }
 }
 
-
 ul.secondary {
   border-bottom: 1px solid $border;
   margin: 1em 0 0;
@@ -1955,7 +1748,6 @@ ul.secondary {
   }
 }
 
-
 /* =============================================================================
  *   Action links
  * ========================================================================== */
@@ -1963,36 +1755,16 @@ ul.secondary {
 ul.action-links {
   margin: 20px 0 0;
   list-style: none;
-
-  li {}
 }
 
-
 /* =============================================================================
  *  Field Styling
  * ========================================================================== */
 
-/*
- * Wrapper for any field
- */
-.field {}
-
-
-/*
- * Above and inline classes are on the field wrapper
- */
-.field-label-above {}
-
-
-/*
- * When labels are set to inline in field display settings the clearfix class is automatically added
- */
-.field-label-inline {}
-
-
-/*
+/**
  * Labels are h2 in Adaptivetheme. Use a strong selector to mitigate unwanted ineritance issues
  */
+
 .field-label {
   font-size: 1em;
   font-weight: 700;
@@ -2001,29 +1773,11 @@ ul.action-links {
   margin-bottom: 0;
 }
 
-
-/*
- * Field types (Core)
- */
-
-/*
- * Image fields use the <figure> and <figcaption> elements from HTML5
- */
-.field-type-image {
-
-  .caption {}
-
-  .full-caption {}
-
-  .teaser-caption {}
-}
-
-
-/*
+/**
  * Taxonomy
  */
-.field-type-taxonomy-term-reference {
 
+.field-type-taxonomy-term-reference {
   /* The same bottom margin as p, blockquote, ul, ol and dl */
   margin-bottom: 1.5em;
 
@@ -2039,131 +1793,28 @@ ul.action-links {
   }
 }
 
-
-/*
- * Text
- */
-.field-type-text {}
-
-
-/*
- * Long text
- */
-.field-type-text-long {}
-
-
-/*
- * Text with summary
- */
-.field-type-text-with-summary {}
-
-
-/*
- * File
- */
-.field-type-file {}
-
-
-/*
- * Number/Integer
- */
-.field-type-number-integer {}
-
-
-/*
- * Decimal
- */
-.field-type-number-decimal {}
-
-
-/*
- * Number float
- */
-.field-type-number-float {}
-
-
-/*
- * List
- */
-.field-type-list-text {}
-
-
-/*
- * List boolean
- */
-.field-type-list-boolean {}
-
-
-/*
- * List integer
- */
-.field-type-list-integer {}
-
-
-/*
- * List float
- */
-.field-type-list-float {}
-
-
-/*
- * Field types (Contrib)
- */
-.field-type-datetime {}
-
-.field-type-node-reference {}
-
-.field-type-user-reference {}
-
-
-/*
- * Named fields
- */
-.field-name-body {}
-
-.field-name-field-image {}
-
-.field-name-field-tags {}
-
-
-/*
- * Underscores in field name are replaced with dashes
- */
-.field-name-field-FIELDNAME {}
-
-
-/*
- * Image Alignment Theme Settings - included here so you can easily override
- */
-
-/*
- * Float none setting
- */
-.ia-n .field-type-image,
-.iat-n .field-type-image {}
-
-
-/*
+/**
  * Float left setting
  */
+
 .ia-l .field-type-image figure,
 .iat-l .field-type-image figure {
   margin: 5px 20px 15px 0;
 }
 
-
-/*
+/**
  * Centered setting
  */
+
 .ia-c .field-type-image figure,
 .iat-c .field-type-image figure {
   margin: 5px auto 15px;
 }
 
-
-/*
+/**
  * Float right setting
  */
+
 .ia-r .field-type-image figure,
 .iat-r .field-type-image figure {
   margin: 5px 0 15px 20px;
@@ -2173,13 +1824,22 @@ ul.action-links {
  *   Panels Styling
  * ========================================================================== */
 
-.node-type-group.page-node .commons-pod {
-  padding: 0;
-  background-color: transparent;
-  @include border-radius(0);
-  @include box-shadow(none);
-  margin-right: 0;
-  margin-bottom: 0;
+.node-title,
+.pane-title {
+  font-weight: normal;
+  font-size: 1.6em;
+}
+
+.panel-display {
+  min-width: 100%;
+  margin-right: -$gutter-width;
+  margin-left: -$gutter-width;
+
+  .region {
+    @include box-sizing(border-box);
+    padding-right: $gutter-width;
+    padding-left: $gutter-width;
+  }
 }
 
 .commons-pod-comments {
@@ -2211,8 +1871,7 @@ ul.action-links {
   min-width: 83px;
   height: 34px;
   padding: 0 10px;
-  // needs latest Compass, add '@import "compass"' to your scss
-  background-color: #919591; // Old browsers
+  background-color: #919591;
   @include filter-gradient(#919591, #737772, vertical); // IE6-9
   @include background-image(linear-gradient(top,  #919591 0%,#90948f 12%,#757a74 33%,#737772 100%));
   border: 1px solid #585C58;
@@ -2233,9 +1892,8 @@ ul.action-links {
 .pane-views-panes,
 .pane-views,
 body.page-node .pane-views-panes {
-
   h2 {
-    font-size:20px;
+    font-size: 20px;
     line-height: 1.2em;
     margin-bottom: .85em;
     color:$gray;
@@ -2250,18 +1908,6 @@ body.page-node .pane-views-panes {
   }
 }
 
-.pane-commons-events-user-upcoming-events-panel-pane-2,
-.pane-commons-events-user-upcoming-events-panel-pane-3,
-.pane-commons-events-upcoming-panel-pane-1,
-.pane-activity-group-panel-pane-1,
-.pane-commons-radioactivity-groups-active-in-group-panel-pane-1,
-.pane-commons-contributors-group-panel-pane-2,
-.pane-commons-wikis-contributor-list-commons-wikis-contributor-pane,
-.nodes {
-  @extend %pod;
-  @extend %pod-content;
-}
-
 .nodes {
   margin-top: 1em;
 }
@@ -2277,40 +1923,26 @@ body.page-node .pane-views-panes {
 
 .pane-commons-featured-panel-pane-1,
 .pane-commons-events-upcoming {
-  .block-inner {
-    // padding:0 0 15px 0;
-    margin:0;
-    .pane-title {
-      padding:20px 20px 0 20px;
-      line-height:20px;
-    }
-    .views-row{
-      padding:10px 20px 10px 20px;
-      border-bottom:1px solid #eee;
-    }
+  .block-inner {
+    margin: 0;
+
     .views-row-last {
-      border-bottom:none;
+      border-bottom: none;
     }
+
     .views-field-field-date,
     .views-field-field-location,
     .views-field-comment-count {
-      font-size:0.85em;
+      font-size: 0.85em;
     }
+
     .views-field-field-location,
     .views-field-comment-count {
-      color:$light_gray;
+      color: $light_gray;
     }
   }
 }
 
-.pane-commons-radioactivity-groups-most-active-panel-pane-1, .pane-commons-activity-streams-activity-panel-pane-1, .pane-commons-featured-panel-pane-1, .pane-commons-groups-contributors-panel-pane-1 {
-  @extend %pod;
-
-  > .block-inner {
-    @extend %pod-content;
-  }
-}
-
 .pane-commons-bw-group {
   @extend %pod;
 
@@ -2332,22 +1964,16 @@ body.page-node .pane-views-panes {
       }
 
       figure {
-        float:left;
-        margin:3px 10px 5px 0;
-        background:$white;
-        padding:4px;
+        float: left;
+        margin: 3px 10px 5px 0;
+        background: $white;
+        padding: 4px;
         @include border-radius(3px);
         @include box-shadow($light_gray 1px 1px 4px);
-        position:relative;
-        display:block;
-        line-height:0;
-      }
-
-      .field-name-field-topics {
-        // float: right;
+        position: relative;
+        display: block;
+        line-height: 0;
       }
-
-
     }
 
     .node-content {
@@ -2356,12 +1982,14 @@ body.page-node .pane-views-panes {
   }
 }
 
-.view-commons-radioactivity-groups-most-active, .view-commons-groups-recent-content, .view-commons-radioactivity-groups-active-in-group {
+.view-commons-radioactivity-groups-most-active,
+.view-commons-groups-recent-content,
+.view-commons-radioactivity-groups-active-in-group {
   .type-Wiki {
     font-size: 12px;
 
     &:before {
-      content: '';
+      content: "";
       @include sprite_url_height_width($icons, wikis);
       margin-right: 6px;
     }
@@ -2371,7 +1999,7 @@ body.page-node .pane-views-panes {
     font-size: 12px;
 
     &:before {
-      content: '';
+      content: "";
       @include sprite_url_height_width($icons, events);
       margin-right: 6px;
     }
@@ -2381,7 +2009,7 @@ body.page-node .pane-views-panes {
     font-size: 12px;
 
     &:before {
-      content: '';
+      content: "";
       @include sprite_url_height_width($icons, polls);
       margin-right: 6px;
     }
@@ -2391,17 +2019,18 @@ body.page-node .pane-views-panes {
     font-size: 12px;
 
     &:before {
-      content: '';
+      content: "";
       @include sprite_url_height_width($icons, posts);
       margin-right: 6px;
     }
   }
 
-  .type-Question, .type-Answer {
+  .type-Question,
+  .type-Answer {
     font-size: 12px;
 
     &:before {
-      content: '';
+      content: "";
       @include sprite_url_height_width($icons, qa);
       margin-right: 6px;
     }
@@ -2421,13 +2050,15 @@ body.page-node .pane-views-panes {
 }
 
 .pane-commons-groups-directory-panel-pane-1 {
-  background-color:transparent;
+  background-color: transparent;
   @include border-radius(0px);
   @include box-shadow(none);
-  margin-right:0;
-  margin-bottom:0;
+  margin-right: 0;
+  margin-bottom: 0;
+
   .block-inner {
-    padding:0;
+    padding: 0;
+
     .pane-title {
       display:none;
     }
@@ -2442,7 +2073,7 @@ body.page-node .pane-views-panes {
 
     &:before {
       @include sprite_url_height_width($icons, icon-groups-small);
-      content: '';
+      content: "";
       top: 3px;
     }
   }
@@ -2454,14 +2085,15 @@ body.page-node .pane-views-panes {
 
 .view-id-commons_events_upcoming {
   .views-field {
-    margin:0 0 0 18px;
+    margin: 0 0 0 18px;
   }
+
   .views-field-title {
-    background-image:image-url('icons/icon-gray-event.png');
-    background-repeat:no-repeat;
-    background-position:left 4px;
-    margin:0;
-    padding:0 0 0 18px;
+    background-image: image-url('icons/icon-gray-event.png');
+    background-repeat: no-repeat;
+    background-position: left 4px;
+    margin: 0;
+    padding: 0 0 0 18px;
   }
 }
 
@@ -2470,14 +2102,14 @@ body.page-node .pane-views-panes {
 
   article {
     @extend %pod-content;
+
     .commons-events-form-float {
-      float:right;
-      margin:-40px 0 0 0;
+      float: right;
+      margin: -40px 0 0 0;
     }
   }
 }
 
-
 .view-id-commons_activity_streams_activity {
   .view-content {
     .views-field-timestamp {
@@ -2487,25 +2119,35 @@ body.page-node .pane-views-panes {
   }
 }
 
-.view-id-commons_groups_contributors {
-  table {
-    border:none;
-  }
-  tbody tr {
-    border-top:none;
+.views-view-grid {
+  border: none;
+  margin: 0;
+
+  tbody {
+    tr {
+      border-top: none;
+      background: none;
+    }
   }
-  .user-picture:after {
-    background:none;
+
+  td {
+    padding: $gutter-width / 2;
   }
 }
 
+.grid-grouping-title {
+  font-size: 1em;
+  color: $light_gray;
+  margin-bottom: $gutter-width;
+}
+
 .pager a {
   @extend %btn-gray;
   padding: 5px 20px;
 }
 
-.view-commons-groups-directory, .view-commons-homepage-content .node-teaser.node-group {
-
+.view-commons-groups-directory,
+.view-commons-homepage-content .node-teaser.node-group {
   h2 {
     font-size: 26px;
     line-height: 1em;
@@ -2516,50 +2158,41 @@ body.page-node .pane-views-panes {
     display: none;
   }
 
-  .pane-node-field-group-logo {
-    float: left;
-    margin-bottom: 3px;
-    margin-top: 3px;
-
-    .field-name-field-group-logo a {
-      display: block;
-      border: 3px solid $white;
-      @include border-radius(2px);
-      box-shadow: 1px 1px 3px $gray;
-
-      img {
-        display: block;
-      }
-    }
-  }
-
-  > .view-content > .views-row, > .view-filters {
+  > .view-content > .views-row,
+  > .view-filters {
     @extend %pod;
     position: relative;
 
-    > .node-teaser, form {
+    > .node-teaser,
+    form {
       @extend %pod-content;
     }
   }
+
   .view-filters {
     .views-exposed-widgets {
       margin-bottom: 0;
     }
+
     .views-widget,
     label {
-      display:inline-block;
+      display: inline-block;
     }
+
     label {
-      color:$dark_gray;
-      font-size:0.85em;
-      font-weight:normal;
-      margin:0 15px 0 0;
+      color: $dark_gray;
+      font-size: 0.85em;
+      font-weight: normal;
+      margin: 0 15px 0 0;
+      line-height: 2em;
     }
+
     .form-text {
       width:400px;
       @include box-shadow($light_gray 1px 1px 2px inset);
       border-color:#c2c2c2;
     }
+
     .form-submit {
       margin-top:1px;
     }
@@ -2570,6 +2203,22 @@ body.page-node .pane-views-panes {
   }
 }
 
+.pane-node-field-group-logo {
+  float: left;
+  margin: 0 $gutter-width $gutter-width 0;
+
+  .field-name-field-group-logo a {
+    display: block;
+    border: 3px solid $white;
+    @include border-radius(2px);
+    box-shadow: 1px 1px 3px $gray;
+
+    img {
+      display: block;
+    }
+  }
+}
+
 .pane-commons-groups-recent-content {
   width: 50%;
   float: left;
@@ -2632,7 +2281,7 @@ body.page-node .pane-views-panes {
         z-index: 15;
 
         &:after {
-          content: '';
+          content: "";
           display: block;
           width: 0px;
           height: 0px;
@@ -2659,7 +2308,8 @@ body.page-node .pane-views-panes {
 }
 
 .region-two-66-33-second .view-commons-contributors-group {
-  table, tbody {
+  table,
+  tbody {
     margin: 0;
     border: none;
   }
@@ -2671,8 +2321,6 @@ body.page-node .pane-views-panes {
 
   td {
     padding: 0;
-    // margin: 0 5px 5px 0;
-    // float: left;
     line-height: 0;
 
     &.col-last a {
@@ -2689,7 +2337,8 @@ body.page-node .pane-views-panes {
   }
 }
 
-#views-exposed-form-commons-homepage-content-panel-pane-1, #views-exposed-form-commons-bw-all-page-1 {
+#views-exposed-form-commons-homepage-content-panel-pane-1,
+#views-exposed-form-commons-bw-all-page-1 {
   .views-submit-button {
     margin-left: 20px;
   }
@@ -2709,14 +2358,14 @@ body.page-node .pane-views-panes {
 
 .pane-node-flag-commons-follow-group-link {
   position: absolute;
-  right: 5px;
+  right: 10px;
   top: 22px;
 
   .flag-action {
     @extend %btn-gray;
 
     &:before {
-      content: '';
+      content: "";
       @include sprite_url_height_width($icons, icon-gray-follow);
       top: 0;
       margin-right: 5px;
@@ -2730,56 +2379,57 @@ body.page-node .pane-views-panes {
 
 .view-id-commons_featured {
   .views-field-title .field-content {
-    background-repeat:no-repeat;
+    background-repeat: no-repeat;
   }
-  .views-field-field-date, .views-field-field-address {
-    margin:0 0 0 18px;
+
+  .views-field-field-date,
+  .views-field-field-address {
+    margin: 0 0 0 18px;
   }
+
   .type-Event {
-    background-image:image-url('icons/icon-gray-event.png');
-    background-position:left 1px;
-    padding:0 0 0 18px;
+    background-image: image-url('icons/icon-gray-event.png');
+    background-position: left 1px;
+    padding: 0 0 0 18px;
   }
+
   .type-Post {
-    background-image:image-url('icons/icon-gray-post.png');
-    background-position:left 1px;
-    padding:0 0 0 18px;
+    background-image: image-url('icons/icon-gray-post.png');
+    background-position: left 1px;
+    padding: 0 0 0 18px;
   }
 }
 
 .views-exposed-widgets {
-  margin-bottom:1.5em;
+  margin-bottom: 1.5em;
+
   .views-exposed-widget {
-    padding:0;
-    .form-select {
-      // border:none !important;
-      // background:transparent !important;
-      // color:$light_blue;
-      // cursor:pointer;
-      // padding-right:0;
-      // padding:0 0.5em;
-      // display:block;
-    }
+    padding: 0;
+
     label {
-      float:left;
-      font-weight:normal;
-      color:$light_gray;
-      padding:1px 0 0 0;
+      float: left;
+      font-weight: normal;
+      color: $light_gray;
+      padding: 1px 0 0 0;
     }
   }
+
   .views-widget {
-    float:left;
+    float: left;
   }
+
   .views-submit-button {
-    padding:0;
-    display:none;
+    padding: 0;
+    display: none;
+
     .form-submit {
-      margin-top:0;
+      margin-top: 0;
     }
   }
 }
 
-.views-widget-sort-by, .form-item-sort-order {
+.views-widget-sort-by,
+.form-item-sort-order {
   .form-select-wrapper {
     float: left;
   }
@@ -2825,7 +2475,8 @@ body.page-node .pane-views-panes {
   @include border-radius(6px);
   list-style: none;
 
-  .block-content &, .item-list & {
+  .block-content &,
+  .item-list & {
     margin: 0;
     padding: 0;
   }
@@ -2847,7 +2498,7 @@ body.page-node .pane-views-panes {
 
     .commons-polls-create:before {
       @include sprite_url_height_width($icons, polls);
-      content: '';
+      content: "";
       position: absolute;
       left: 10px;
       top: 13px;
@@ -2855,7 +2506,7 @@ body.page-node .pane-views-panes {
 
     .commons-posts-create:before {
       @include sprite_url_height_width($icons, posts);
-      content: '';
+      content: "";
       position: absolute;
       left: 10px;
       top: 13px;
@@ -2863,7 +2514,7 @@ body.page-node .pane-views-panes {
 
     .commons-wikis-create:before {
       @include sprite_url_height_width($icons, wikis);
-      content: '';
+      content: "";
       position: absolute;
       left: 10px;
       top: 13px;
@@ -2871,7 +2522,7 @@ body.page-node .pane-views-panes {
 
     .commons-events-create:before {
       @include sprite_url_height_width($icons, events);
-      content: '';
+      content: "";
       position: absolute;
       left: 10px;
       top: 13px;
@@ -2879,7 +2530,7 @@ body.page-node .pane-views-panes {
 
     .commons-q-a-create:before {
       @include sprite_url_height_width($icons, qa);
-      content: '';
+      content: "";
       position: absolute;
       left: 10px;
       top: 13px;
@@ -2953,216 +2604,47 @@ body.page-node .pane-views-panes {
  *   Block Styling
  * ========================================================================== */
 
-/*
- * Main wrapper for most blocks, block_system_main does not have it
- */
-.block {
-  margin-bottom: 20px;
-}
-
-
-/*
- * Inner wrapper for most blocks, good for margin, padding and borders, block_system_main does not have it
- */
-.block-inner {}
-
-
-/*
- * The first block in the region
- */
-.block.first {}
-
-
-/*
- * The last block in the region
- */
-.block.last {}
-
-
-/*
- * Zebra striping for each block in the region
- */
-.block.odd {}
-
-
-/*
- * Zebra striping for each block in the region
- */
-.block.even {}
-
-
-/*
- * Block title
- */
-.block-title {
-  margin: 0;
-}
-
-
-/*
- * Block content wrapper
- */
-.block-content {}
-
-
-/*
- * Match item list and block menu margin and padding
- */
-.block-content {
-
-  ul,
-  ol {
-    padding: 0 0 0 15px;
-  }
-
-  li {
-    margin: 0;
-    padding: 0;
-  }
-}
-
-
-/*
- * Block for the latest news items in the first category
- */
-#block-aggregator-category-1 {}
-
-
-/*
- * Block for the latest news items in the first feed
- */
-#block-aggregator-feed-1 {}
-
-
-/*
- * First block created with "Add block" link
- */
-#block-block-1 {}
-
-
-/*
- * "Recent blog posts" block
- */
-#block-blog-recent {}
-
-
-/*
- * "Book navigation" block for the current book's table of contents
- */
-#block-book-navigation {}
-
-
-/*
- * "Recent comments" block
- */
-#block-comment-recent {}
-
-
-/*
- * "Active forum topics" block
- */
-#block-forum-active {}
-
-
-/*
- * "New forum topics" block
- */
-#block-forum-new {}
-
-
-/*
- * Language switcher block
- */
-#block-locale-language {}
-
-
-/*
- * Custom menu block
- */
-#block-menu-menu-NAME {}
-
-
-/*
- * "Recent content" block
- */
-#block-node-recent {}
-
-
-/*
- * "Syndicate" block for primary RSS feed; see also page.css's .feed-icon
- */
-#block-node-syndicate {}
-
-
-/*
- * "Most recent poll" block
- */
-#block-poll-recent {}
-
-
-/*
- * "Author information" block for the profile of the page's author
- */
-#block-profile-author-information {}
-
-
-/*
+/**
  * "Search form" block
  */
+
 .block-search {
-  display:block;
-  // needs latest Compass, add '@import "compass"' to your scss
-  // background-color: #03416a; // Old browsers
-  // @include filter-gradient(#03416a, #00558b, vertical); // IE6-9
-  // @include background-image(linear-gradient(top,  #03416a 0%,#034b7b 19%,#034d7e 27%,#00558b 100%));
+  display: block;
   background-color: darken($dark_blue, 12%); // Old browsers
   @include filter-gradient(darken($dark_blue, 12%), darken($dark_blue, 6%), vertical); // IE6-9
   @include background-image(linear-gradient(top,  darken($dark_blue, 12%) 0%,darken($dark_blue, 6%)100%));
   @include border-radius(4px);
   box-shadow: 1px 1px 2px #000 inset, 2px 3px 3px rgba(#fff, 0.09);
-  // width:100%;
-  height:30px;
-  margin:0 0 0 10px;
+  height: 30px;
+  margin: 0 0 0 10px;
   position: relative;
 
-  .not-logged-in & {
-    margin-top: 15px;
-  }
-
   .block-inner {
-    margin-left:0;
-    margin-right:0;
-  }
-  .form-select {
-    // background-color:transparent;
-    // color:$white;
-    // border:none;
-    // background-image:image-url('icons/ico_arrow_wht.png');
-    // background-repeat:no-repeat;
-    // background-position:right center;
-    // padding-right:10px;
-    // margin:3px 0 0 5px;
+    margin-left: 0;
+    margin-right: 0;
   }
+
   .form-text {
-    color:$white;
-    background:transparent;
-    border:none;
-    margin:3px 0 0 0;
-    width:145px;
+    color: $white;
+    background: transparent;
+    border: none;
+    margin: 3px 0 0 0;
+    width: 145px;
 
     .node-type-group & {
-      width:120px;
+      width: 120px;
     }
   }
+
   .form-submit {
-    background-color:transparent !important;
-    border:none !important;
-    width:12px !important;
-    height:12px !important;
-    background-image:image-url('icons/ico_search_wht.png') !important;
-    text-indent:-9999px !important;
-    padding:0 !important;
-    margin:10px 2px !important;
+    background-color: transparent !important;
+    border: none !important;
+    width: 12px !important;
+    height: 12px !important;
+    background-image: image-url('icons/ico_search_wht.png') !important;
+    text-indent: -9999px !important;
+    padding: 0 !important;
+    margin: 10px 2px !important;
   }
 
   .form-item-search-block-form label {
@@ -3177,79 +2659,6 @@ body.page-node .pane-views-panes {
   }
 }
 
-
-/*
- * "Shortcuts" block
- */
-#block-shortcut-shortcuts {}
-
-
-/*
- * "Popular content" block
- */
-#block-statistics-popular {}
-
-
-/*
- * "Main menu" block
- */
-#block-system-main-menu {}
-
-
-/*
- * "Management" block for Drupal management menu
- */
-#block-system-management {}
-
-
-/*
- * "Navigation" block for Drupal navigation menu
- */
-#block-system-navigation {}
-
-
-/*
- * "User menu" block for Drupal user menu
- */
-#block-system-user-menu {}
-
-
-/*
- * "System help" block
- */
-#block-system-help {}
-
-
-/*
- * "Main page content" block
- */
-#block-system-main {}
-
-
-/*
- * "Powered by Drupal" block
- */
-#block-system-powered-by {}
-
-
-/*
- * "User login form" block
- */
-#block-user-login {}
-
-
-/*
- * "Who's new" block for a list of the newest users
- */
-#block-user-new {}
-
-
-/*
- * "Who's online" block for a list of the online users
- */
-#block-user-online {}
-
-
 /* =============================================================================
  *   Node Styling
  * ========================================================================== */
@@ -3268,7 +2677,7 @@ body.page-node .pane-views-panes {
   z-index: 1;
 
   &:before {
-    content: '';
+    content: "";
     display: block;
     width: 0px;
     height: 0px;
@@ -3286,53 +2695,17 @@ body.page-node .pane-views-panes {
   }
 }
 
-.node {
-  margin-bottom: 20px;
-
-  &.node-sticky {}
-
-  &.node-by-viewer {}
-
-  &.node-teaser {
-    .links {
-      font-size:0.85em;
-    }
-  }
-
-  &.node-full {}
-
-  &.odd {}
-
-  &.even {}
-
-  .node-title {
-    margin: 0;
-  }
-
-  .user-picture {}
-
-  .submitted {
-
-    .username {}
-
-    time {}
-  }
-
-  .node-content {}
-
-  ul.links {
+.node {
+  margin-bottom: 20px;
 
-    li {}
-    li a {}
+  &.node-teaser {
+    .links {
+      font-size:0.85em;
+    }
+  }
 
-    li.node-read-more a {}
-    li.comment-add a {}
-    li.comment-comments a {}
-    li.comment-new-comments a {}
-    li.blog-sernames-blog a {}
-    li.print-html a {}
-    li.print-email a {}
-    li.print-pdf a {}
+  .node-title {
+    margin: 0;
   }
 }
 
@@ -3340,40 +2713,30 @@ body.page-node.node-type-group {
   h2#page-title {
     font-size: 54px;
     line-height: 54px;
-    font-weight: normal;
   }
 }
 
-
-.preview .node {}
-
-
-/*
- * All nodes are given a node-FOO class that describes the type of content that
- * it is. If you create a new content type called "my-custom-type", it will
- * receive a "node-my-custom-type" class.
+/**
+ * Node forms
  */
-.node-page {}
-
-.node-article {}
-
-.node-book {}
-
-.node-forum {}
-
-.node-poll {}
 
+.node-form {
+  /* Polls have some bad, over specific, styles so this is what needs to be
+     done. */
+  #poll-choice-table .form-text {
+    width: 100%;
+  }
+}
 
 /* =============================================================================
  *   Comment Styling - Comments, comment wrapper, comment form
  * ========================================================================== */
 
-/*
+/**
  * Wrapper for the list of comments and its titles
  */
-#comments {
-  margin: 1.5em 0;
 
+#comments {
   h2 {
     &.comment-title {
       margin: 0;
@@ -3385,91 +2748,69 @@ body.page-node.node-type-group {
   }
 }
 
-
-/*
+/**
  * Wrapper for a single comment
  */
+
 .comment {
   margin-bottom: 20px;
-
-  &.first {}
-
-  &.last {}
-
-  &.odd {}
-
-  &.even {}
-
-  .user-picture {}
-
-  .submitted {
-
-    p {}
-
-    .username {}
-
-    time {}
-  }
-
-  .user-signature {}
-
-  ul.links {}
 }
 
-/*
- * Comment states
- */
-.comment-new {}
-
-.comment-by-anonymous {}
-
-.comment-by-node-author {}
-
-.comment-by-viewer {}
-
-.comment-title-hidden {}
-
-.comment-with-picture {}
-
-.comment-with-signature {}
-
-
-/*
- * Preview of the comment before submitting new or updated comment
- */
-.comment-preview {}
-
-
-/*
+/**
  * "New" marker for comments that are new for the current user
  */
+
 .new {
   color: $highlight;
 }
 
-
-/*
+/**
  * Nested comments are indented
  */
+
 .indented {
   margin-left: 40px;
 }
 
+.has-rate-widget {
+  margin-right: 6em;
+  position: relative;
+
+  @include respond(small-medium) {
+    margin-right: 0;
+  }
+}
+
 .rate-widget-commons_thumbs_up_down {
   float: right;
-  ul {
-    padding: 0;
+  position: absolute;
+  top: 0;
+  right: -6em;
+  margin-top: 0;
+
+  @include respond(small-medium) {
+    position: static;
+    float: left;
+    margin: ($gutter-width * 2) auto;
   }
 }
 
+.related-information {
+  clear: both;
+  margin: ($gutter-width * 2) 0;
+
+  .field {
+    float: left;
+  }
+}
 
 /* =============================================================================
  *   Forms
  * ========================================================================== */
 
- html.js input.form-autocomplete {
+html.js input.form-autocomplete {
   background-position: 100% 5px;
- }
+}
 
  html.js input.throbbing {
   background-position: 100% -15px; /* LTR */
@@ -3478,6 +2819,7 @@ body.page-node.node-type-group {
 /**
  * Forms in tables.
  */
+
 tr {
   &.odd,
   &.even {
@@ -3487,11 +2829,11 @@ tr {
   }
 }
 
-/*
+/**
  * Wrapper for a form element (or group of form elements) and its label
  */
-.form-item {
 
+.form-item {
   input.error,
   textarea.error,
   select.error {
@@ -3502,34 +2844,23 @@ tr {
     font-weight: 700;
   }
 
-  label.option {
-  }
-
   .description {
     font-size: 0.85em;
   }
-
-  &.form-checkboxes ,
-  &.form-radios {
-  }
 }
 
-
-/*
+/**
  * Highlight marks and form required mark
  */
+
 .marker,
 .form-required {
   color: $highlight;
 }
 
-
-/*
+/**
  * The submit button
  */
-.form-submit {
-}
-
 
 .container-inline {
   div,
@@ -3538,43 +2869,40 @@ tr {
   }
 }
 
-/*
+/**
  * Define consistent borders
  */
+
 fieldset {
   border: 1px solid $border;
 }
 
-/*
- * Tips for Drupal's input formats
- */
-.tips {
-}
-
-
-/*
+/**
  * Buttons used by contrib modules like Media
  */
+
 a.button {
   @include appearance(button);
 }
 
-
-/*
+/**
  * Password confirmation
  */
+
 .password-parent,
 .confirm-parent {
   margin: 0;
 }
 
-
-input[type="text"] {
+input[type="text"],
+textarea {
+  @include box-sizing(border-box);
   @include border-radius(3px);
   border: 1px solid #B2B2B2;
+  width: 100%;
+  max-width: 100%;
 }
 
-
 button,
 input[type="submit"] {
   @include border-radius(3px);
@@ -3586,7 +2914,6 @@ input[type="submit"] {
   margin: 0 10px 0 0;
 }
 
-
 form.commons-events-form-float {
   background-color:none;
   padding:0;
@@ -3600,7 +2927,7 @@ form.commons-events-form-float {
 .form-actions input[type="submit"] {
   @extend %btn-gray;
   padding: 5px 20px;
-  margin:0 15px 0 0;
+  margin: 0 15px 0 0;
   box-shadow: 0 3px 3px rgba(#000, 0.09);
 
   &.js-hide {
@@ -3623,7 +2950,7 @@ form.commons-events-form-float {
   font-size: .85em;
   padding: 0;
   border: none;
-  border-radius: 0;
+  @include border-radius(0);
   max-width: 80px;
   margin-right: -90px;
   text-align: center;
@@ -3632,8 +2959,19 @@ form.commons-events-form-float {
     @extend %btn-green;
     padding: 3px 10px;
   }
-}
 
+  @include respond(small-medium) {
+    float: none;
+    margin: 1em 0;
+    max-width: inherit;
+    text-align: left;
+
+    .commons-event-status {
+      display: inline-block;
+      margin-left: 1em;
+    }
+  }
+}
 
 /* =============================================================================
  *   Tables
@@ -3649,7 +2987,6 @@ table {
   }
 }
 
-
 table,
 thead,
 tbody,
@@ -3659,27 +2996,23 @@ td {
   border-color: $border;
 }
 
-
 table,
 td,
 th {
   vertical-align: middle;
 }
 
-
 caption,
 th,
 td {
   text-align: left;
 }
 
-
 thead tr {
   font-weight: 700;
   background-color: $medium_dark;
 }
 
-
 td,
 th {
   border-bottom: 0;
@@ -3687,17 +3020,11 @@ th {
   padding: 5px 7px;
 }
 
-
-tbody {}
-
-
 tbody tr {
   border-top: 1px solid $border;
 }
 
-
 tr {
-
   &.odd {
     background: $page;
   }
@@ -3710,10 +3037,6 @@ tr {
     background-color: $ultralight;
   }
 
-  &.drag {}
-
-  &.drag-previous {}
-
   &.odd td.active {
     background-color: $light;
   }
@@ -3723,23 +3046,11 @@ tr {
   }
 }
 
-
-.lt-ie8 tr {
-
-  &.even,
-  &.odd {
-
-    th,
-    td {
-    }
-  }
-}
-
-
-/*
+/**
  * Forum tables
  * Core sets white-space to nowrap, which makes no sense
  */
+
 #forum td {
   .created,
   .posts,
@@ -3751,7 +3062,6 @@ tr {
   }
 }
 
-
 /* =============================================================================
  *   Messages
  * ========================================================================== */
@@ -3767,48 +3077,19 @@ div {
       margin-bottom: 0;
     }
   }
-
-  &.status {
-  }
-
-  &.warning {
-  }
-}
-
-tr.warning {
-}
-
-
-div.error,
-tr.error {
-}
-
-
-.error {
-}
-
-
-.warning {
 }
 
-
-/*
+/**
  * Unpublished nodes
  */
-.node-unpublished,
-.comment-unpublished {
-}
-
 
 .node-unpublished,
 .comment-unpublished {
-
   p.unpublished {
     @include unpublished;
   }
 }
 
-
 /* =============================================================================
  *    Maintenance pages
  * ========================================================================== */
@@ -3824,7 +3105,6 @@ tr.error {
   }
 }
 
-
 .db-offline {
   .container {
     margin: 0 auto;
@@ -3842,32 +3122,32 @@ tr.error {
   }
 }
 
-
 /* =============================================================================
  *   Misc overrides for contrib modules
  * ========================================================================== */
 
-/*
+/**
  * Admin menu overrides
  */
+
 #admin-menu {
   margin: 0;
   padding: 0;
 }
 
-
-/*
+/**
  * Devel Module
  */
+
 .dev-query {
   background: $light;
   padding: 30px;
 }
 
-
-/*
+/**
  * Styleguide module tweaks
  */
+
 #styleguide-header {
   padding: 0 10px;
 
@@ -3885,27 +3165,29 @@ tr.error {
 
 body.front {
   .region-three-33-top {
-    font-size:24px;
-    font-weight:300;
+    font-size: 24px;
+    font-weight: 300;
+
     h1 {
-      color:$dark_gray;
-      font-size:40px;
-      font-weight:700;
-      line-height:50px;
+      color: $dark_gray;
+      font-size: 40px;
+      font-weight: 700;
+      line-height: 50px;
     }
+
     .commons_home-welcome-image {
       float:right;
     }
   }
-}
 
-body.front.not-logged-in {
-  #block-system-main {
-    .pane-1 {
-      .pane-title {
-        font-weight:700;
-        font-size:38px;
-        color:$dark_gray;
+  &.not-logged-in {
+    #block-system-main {
+      .pane-1 {
+        .pane-title {
+          font-weight: 700;
+          font-size: 38px;
+          color: $dark_gray;
+        }
       }
     }
   }
@@ -3939,9 +3221,10 @@ body.front.logged-in {
     .article.node, .node-teaser.node-group {
       .node-header {
         a {
-          float:left;
+          float: left;
         }
       }
+
       .node-content {
         form {
 
@@ -3950,26 +3233,29 @@ body.front.logged-in {
         .field-name-body {
         }
       }
+
       .author-datetime {
         margin-bottom: 1.5em;
-        clear:both;
+        clear: both;
       }
     }
+
     .views-row-first {
-      border-top:none;
+      border-top: none;
     }
+
     .item-list {
-      padding:10px 0 0 0;
+      padding: 10px 0 0 0;
     }
   }
+
   #views-exposed-form-commons-homepage-content-panel-pane-1 .views-exposed-widgets {
-    padding: 10px 10px 10px 10px;
+    padding: $gutter-width 0;
     margin-bottom: 0;
 
     &.widgets-active {
       @extend %pod;
       @extend %pod-content;
-      padding-bottom: 10px;
 
       .selectBox-dropdown {
         background-color: $white;
@@ -3979,8 +3265,12 @@ body.front.logged-in {
 }
 
 body.front.logged-in .view-commons-homepage-content .article.node {
-  &.no-user-picture, &.node-page {
-    .node-header, .node-content, .author-datetime, .links {
+  &.no-user-picture,
+  &.node-page {
+    .node-header,
+    .node-content,
+    .author-datetime,
+    .links {
       margin-left: 0;
     }
   }
@@ -4005,42 +3295,30 @@ body.front.logged-in .view-commons-homepage-content .article.node {
   }
 }
 
-/*
+/**
  *  Placeholder styles
  */
 
 #menu-bar.nav {
   .menu-item-193 a {
-    background-image:image-url('icons/icon-home.png');
+    background-image: image-url('icons/icon-home.png');
   }
+
   .menu-item-194 a {
-    background-image:image-url('icons/icon-groups.png');
+    background-image: image-url('icons/icon-groups.png');
   }
+
   .menu-item-195 a {
-    background-image:image-url('icons/icon-events.png');
+    background-image: image-url('icons/icon-events.png');
   }
 }
 
-// Events Page
+/**
+ * Events Page
+ */
 
 .page-events {
-
-  .search-results-wrapper .search-result {
-    @extend %pod;
-
-    .search-result-wrapper {
-      @extend %pod-content;
-    }
-  }
-
   .region-three-25-50-25-first {
-    @extend %pod;
-    margin-right: 0;
-
-    .region-inner {
-      @extend %pod-content;
-    }
-
     h3 {
       color: $gray;
       font-size: 18px;
@@ -4072,6 +3350,13 @@ body.front.logged-in .view-commons-homepage-content .article.node {
     }
   }
 
+  .three-25-50-25 {
+    > {
+      @include filter-drawer(small-medium);
+    }
+  }
+
+  @include filter-overlay(small-medium);
 }
 
 .pane-commons-events-commons-events-create-event-link {
@@ -4087,50 +3372,86 @@ body.front.logged-in .view-commons-homepage-content .article.node {
 
     &:before {
       @include sprite_url_height_width($icons, icon-events);
-      content: '';
+      content: "";
       top: 2px;
       margin-right: 6px;
     }
   }
 }
 
-// Search
-
+/**
+ * Search
+ */
 .page-search {
-  .region-two-33-66-first {
-    @extend %pod;
-    margin-right: 0;
+  .two-33-66 {
+    > {
+      .region-two-33-66-first {
+        h3 {
+          margin-bottom: $gutter-width;
+          color: $gray;
+          font-size: 1.2em;
+        }
 
-    .region-inner {
-      @extend %pod-content;
-    }
+        .panel-pane {
+          border-bottom: 1px solid #eee;
+          padding-bottom: 5px;
+          margin-bottom: 15px;
+        }
+      }
 
-    h3 {
-      color: $gray;
-      font-size: 18px;
+      @include filter-drawer;
     }
 
-    .panel-pane {
-      border-bottom: 1px solid #eee;
-      padding-bottom: 5px;
-      margin-bottom: 14px;
+  }
+
+  @include filter-overlay;
+}
+
+.facetapi-processed {
+  &,
+  .block-content & {
+    margin-bottom: 0;
+    padding-left: 0;
+
+    li {
+      &.last {
+        margin-bottom: 0;
+      }
     }
   }
+}
 
-  .region-two-33-66-second > div {
-    padding-left: 15px;
+.search-results-title,
+.search-results-wrapper > h2 {
+  font-weight: 300;
+  margin: $gutter-width * 2 0;
+}
+
+.search-results {
+  &,
+  /* The ol styling is a bit specific. */
+  .block-content & {
+    padding: 0;
   }
+}
 
-  .pane-search-form,
-  .search-results {
-    @extend %pod;
-    @extend %pod-content;
+// This is not optimal. Preferably, a class would be placed in the markup, but
+// ctools has hardcoded the output without the chance of override. The other
+// option is to use regex to force in wrappers.
+// @see http://drupal.org/node/1743402
+.pane-search-result {
+  .block-content {
+    .search-results {
+      @extend %pod;
+      @extend %pod-content;
+    }
   }
 }
 
-.search-results-wrapper {
-  > h2 {
-    margin: 0 0 10px;
+.page-search-user, {
+  .user-results {
+    @extend %pod;
+    @extend %pod-content;
   }
 }
 
@@ -4155,6 +3476,7 @@ body.front.logged-in .view-commons-homepage-content .article.node {
   }
 
   .title {
+    margin-top: 0;
     margin-bottom: .2em;
   }
 
@@ -4187,7 +3509,9 @@ body.front.logged-in .view-commons-homepage-content .article.node {
   }
 }
 
-// Notification settings
+/**
+ * Notification settings
+ */
 
 .view-commons-follow-node,
 .view-commons-follow-user,
@@ -4206,7 +3530,9 @@ body.front.logged-in .view-commons-homepage-content .article.node {
   }
 }
 
-// Commons Origins Pallete Choices
+/**
+ * Commons Origins Pallete Choices
+ */
 
 #edit-commons-origins-palette {
   .form-item-commons-origins-palette {
@@ -4223,7 +3549,10 @@ body.front.logged-in .view-commons-homepage-content .article.node {
   }
 }
 
-// Login & Signup Form
+/**
+ * Login and signup form
+ */
+
 #user-login, #user-register-form {
   input[type="text"], input[type="password"] {
     width: 20em;
@@ -4231,5 +3560,8 @@ body.front.logged-in .view-commons-homepage-content .article.node {
   }
 }
 
-// Import the color palettes
+/**
+ * Add the color palettes
+ */
+
 @import 'palettes';
diff --git a/profiles/commons/themes/contrib/commons_origins/sass/mixins/_mixins.scss b/profiles/commons/themes/contrib/commons_origins/sass/mixins/_mixins.scss
index 14ecca6..4179686 100644
--- a/profiles/commons/themes/contrib/commons_origins/sass/mixins/_mixins.scss
+++ b/profiles/commons/themes/contrib/commons_origins/sass/mixins/_mixins.scss
@@ -1,97 +1,4 @@
 //
-// Markup free clearing
-// http://www.stubbornella.org/content/2012/05/02/cross-browser-debugging-css/
-//
-
-@mixin cf {
-  overflow: hidden;   // New formatting context in better browsers
-  *overflow: visible; // Protect IE7 and older from the overflow property
-  *zoom: 1;           // Give IE hasLayout, a new formatting context equivalent
-}
-
-
-//
-// Image replacement
-// Kellum Method: http://www.zeldman.com/2012/03/01/replacing-the-9999px-hack-new-image-replacement
-// Additional helpers from http://html5boilerplate.com/docs/css/
-// This is also included as a SASS mixin, see: sass/custom.rb
-//
-
-@mixin ir {
-  // Kellum Method
-  display: block !important;
-  text-indent: 100%;
-  white-space: nowrap;
-  overflow: hidden;
-  // Additional helpers
-  border: 0;                     // Remove the default border from elements like <button>
-  font: 0/0 a;                   // Crush the text down to take up no space
-  text-shadow: none;             // Remove any text shadows
-  color: transparent;            // Hide any residual text in Safari 4 and any mobile devices that may need it
-  background-color: transparent; // Hide the default background color on elements like <button>
-}
-
-
-//
-// element-invisible improved and more robust
-//
-@mixin element-invisible {
-  border: 0;
-  height: 1px;
-  overflow: hidden;
-  padding: 0;
-  position: absolute !important;
-  width: 1px;
-  @if $legacy-support-for-ie6 or $legacy-support-for-ie7 {
-    clip: rect(1px 1px 1px 1px); // IE6 and IE7 use the wrong syntax
-  }
-  clip: rect(1px, 1px, 1px, 1px);
-}
-
-
-//
-// Turns off the element-invisible effect
-//
-@mixin element-invisible-off {
-  position: static !important;
-  clip: auto;
-  height: auto;
-  width: auto;
-  overflow: auto;
-}
-
-@mixin element-focusable {
-  @include element-invisible;
-
-  &:active,
-  &:focus {
-    @include element-invisible-off;
-  }
-}
-
-
-//
-// Shift content offscreen, can be usefull when you reall need to do this
-//
-@mixin offscreen {
-  position: absolute;
-  top: -99999em;
-  width: 1px;
-  height: 1px;
-  overflow: hidden;
-  outline: 0;
-}
-
-
-//
-// Hide content from all users
-//
-@mixin element-hidden {
-  display: none;
-}
-
-
-//
 // The word "Unpublished" displayed underneath unpublished nodes and comments
 //
 @mixin unpublished {
@@ -108,12 +15,6 @@
   text-align: center;
   text-transform: uppercase;
   word-wrap: break-word;
-
-  @if $legacy-support-for-ie6 or $legacy-support-for-ie7 {
-    .ie6-7 &>* {
-      position: relative; // Otherwise these elements will appear below the "Unpublished" text.
-    }
-  }
 }
 
 //
@@ -132,6 +33,14 @@
       width: $width;
     }
   }
+
+  @include respond(only-small) {
+    padding-left: $extra-padding;
+
+    .user-picture {
+      display: none;
+    }
+  }
 }
 
 @mixin count-btn($icon, $counter: 'counter') {
@@ -143,6 +52,64 @@
   }
 
   .#{$counter} {
-    @extend %btn-attach; 
+    @extend %btn-attach;
+  }
+}
+
+@mixin filter-drawer($break: only-small) {
+  @include respond($break) {
+    .filters-processed {
+      clear: none;
+      position: absolute;
+      right: 0;
+      float: right;
+      width: 0;
+      height: 0;
+      margin: 0;
+      padding: 0;
+      font-size: .88em;
+      background: white;
+      border: 1px solid $lighter_gray;
+      z-index: 1;
+
+      .commons-pod {
+        margin: 0;
+        padding: $gutter-width 0;
+        @include border-radius(0 0 0 3px);
+      }
+
+      .panel-pane {
+        display: none;
+      }
+
+      .filter-trigger {
+        display: block;
+      }
+    }
+
+    .expanded {
+      margin-right: 0;
+      width: 75%;
+      height: auto;
+      opacity: 1;
+
+      .commons-pod {
+        padding: $gutter-width;
+      }
+
+      .panel-pane {
+        display: block;
+      }
+    }
+  }
+}
+
+@mixin filter-overlay($break: only-small) {
+  .filter-overlay {
+    @include respond($break) {
+      &.expanded {
+        display: block;
+      }
+    }
   }
 }
diff --git a/profiles/commons/themes/contrib/commons_origins/sass/mixins/_respond.scss b/profiles/commons/themes/contrib/commons_origins/sass/mixins/_respond.scss
new file mode 100644
index 0000000..27616b3
--- /dev/null
+++ b/profiles/commons/themes/contrib/commons_origins/sass/mixins/_respond.scss
@@ -0,0 +1,23 @@
+// @file
+// General logic for responsive layouts.
+
+$screen-small: 480px !default;
+$screen-large: 768px !default;
+
+@mixin respond($media) {
+  @if $media == only-small {
+    @media only screen and (max-width: $screen-small) { @content; }
+  }
+  @else if $media == small-medium {
+    @media only screen and (max-width: $screen-large) { @content; }
+  }
+  @else if $media == only-medium {
+    @media only screen and (min-width: $screen-small + 1) and (max-width: $screen-large) { @content; }
+  }
+  @else if $media == medium {
+    @media only screen and (min-width: $screen-small + 1) { @content; }
+  }
+  @else if $media == large {
+    @media only screen and (min-width: $screen-large + 1) { @content; }
+  }
+}
diff --git a/profiles/commons/themes/contrib/commons_origins/sass/responsive.custom.scss b/profiles/commons/themes/contrib/commons_origins/sass/responsive.custom.scss
index 671d1d5..3e2e625 100755
--- a/profiles/commons/themes/contrib/commons_origins/sass/responsive.custom.scss
+++ b/profiles/commons/themes/contrib/commons_origins/sass/responsive.custom.scss
@@ -39,18 +39,18 @@
       padding-top: 0 !important;
     }
   }
-    
-  /* 
+
+  /*
    * Float Region blocks example:
    * In smaller screen sizes we can remove the float and widths so all blocks
    * stack instead of displaying horizonally. The selector used here is an
    * "attribute selector" which will match on any float block class. Use your
    * inspector or Firebug to get the classes from the page output if you need
    * more granular control over block alignment and stacking.
-   * 
+   *
    * "Float Region blocks" is an extension for floating blocks in regions, see
    * your themes appearance settings, under the Extensions tab.
-   */ 
+   */
   .region[class*="float-blocks"] .block {
     float: none;
     width: 100%;
@@ -65,9 +65,7 @@
   }
 
   .commons-bw-create-all-widget-types {
-    left: -100px;
-    top: auto;
-    bottom: 0;
+    left: auto;
   }
 
   .page-node-add #edit-additional-settings {
@@ -94,7 +92,7 @@
     clip: rect(1px 1px 1px 1px); /* IE6, IE7 */
     clip: rect(1px, 1px, 1px, 1px);
   }
-  
+
   // Remove the panels adminstration controls on small screens.
   div#panels-ipe-control-container {
     display: none !important;
@@ -125,6 +123,14 @@
       width: 33.333%;
     }
   }
+
+  .primary-fields,
+  .supplementary-fields {
+    display: block;
+    float: none;
+    width: auto;
+    padding: 0;
+  }
 }
 
 /*
@@ -218,7 +224,7 @@
         font-size: 12px;
         padding: 31px 7px 0px 7px;
       }
-      
+
       &.main-menu-search {
         display: inline-block;
       }
diff --git a/profiles/commons/themes/contrib/commons_origins/sass/responsive.desktop.scss b/profiles/commons/themes/contrib/commons_origins/sass/responsive.desktop.scss
index 75eb2e7..fae2bba 100755
--- a/profiles/commons/themes/contrib/commons_origins/sass/responsive.desktop.scss
+++ b/profiles/commons/themes/contrib/commons_origins/sass/responsive.desktop.scss
@@ -11,3 +11,17 @@
  *
  * - Read the _README file in this directory, it contains useful help and other information.
  */
+
+.flag-inappropriate-node {
+  float: none;
+  position: absolute;
+  margin: 0;
+  bottom: 5px;
+  right: 5px;
+  @include opacity(0);
+  @include transition(opacity 0.5s);
+
+  .node:hover & {
+    @include opacity(1);
+  }
+}
diff --git a/profiles/commons/themes/contrib/commons_origins/scripts/commons_origins.js b/profiles/commons/themes/contrib/commons_origins/scripts/commons_origins.js
index 2dfc78e..f87b31e 100644
--- a/profiles/commons/themes/contrib/commons_origins/scripts/commons_origins.js
+++ b/profiles/commons/themes/contrib/commons_origins/scripts/commons_origins.js
@@ -4,20 +4,8 @@ jQuery(document).ready(function($){
 
   'use strict';
 
-//    $.fn.textWidth = function(){
-//      var html_org = $(this).html();
-//      var html_calc = '<span>' + html_org + '</span>';
-//      $(this).html(html_calc);
-//      var width = $(this).find('span:first').width();
-//      $(this).html(html_org);
-//      return width;
-//    };
-
-//    var selectwidth = $('#edit-following option:selected').textWidth();
-//    console.log(selectwidth);
-
   var attach_selectBox = function(){
-    $('#views-exposed-form-commons-homepage-content-panel-pane-1 select, #edit-custom-search-types, #quicktabs-commons_bw select').selectBox();
+    $('#views-exposed-form-commons-homepage-content-panel-pane-1 select, #edit-custom-search-types, #quicktabs-commons_bw select, .views-exposed-widgets select').selectBox();
   };
 
   var set_follow_checkboxes = function(){
@@ -27,7 +15,7 @@ jQuery(document).ready(function($){
       if (a_target.children('span').length === 0) {
         a_target.wrapInner('<span></span>');
       }
-      
+
       if (a_target.hasClass('flag-action') && a_target.children('input').length === 0) {
         a_target.prepend('<input type="checkbox">');
       } else if (a_target.children('input').length === 0) {
@@ -68,3 +56,101 @@ jQuery(document).ready(function($){
     set_follow_checkboxes();
   });
 });
+
+(function ($) {
+  /**
+   * Make an item follow the page when an item is in view.
+   */
+  function showWithElement(tracker, leader) {
+    if ($(leader).length > 0) {
+      var top = $(leader).offset().top,
+          bottom = $(leader).innerHeight() + top,
+          trackerHeight = $(tracker).innerHeight();
+          position = $(document).scrollTop();
+
+      // Make sure the tracker parent stays aligned with the leader.
+      $(tracker).parent().css('top', top);
+
+      // Keep the trigger visible when the leader is in view.
+      if (top < position && (bottom - trackerHeight) > position && !$(tracker).hasClass('following')) {
+        $(tracker).addClass('following').css('top', $('.region-page-top').offset().top);
+      }
+      else if ((top >= position || (bottom - trackerHeight) <= position) && $(tracker).hasClass('following')) {
+        $(tracker).removeClass('following').css('top', '');
+      }
+    }
+  }
+
+  /**
+   * Collapse the filter options for search.
+   */
+  Drupal.behaviors.filterDrawer = {
+    attach: function (context, settings) {
+      $('.page-search .region-two-33-66-first, .page-events .region-three-25-50-25-first', context).once('filterDrawer', function () {
+        var filters = $(this),
+            filterTrigger = $('<a/>', {'href': '#filter-drawer', 'class': 'filter-trigger', 'id': 'filter-drawer'}).text(Drupal.t('Filter results')),
+            filterOverlay = $('<div/>', {'class': 'filter-overlay'}),
+            results = $('.search-results-content');
+            size = $(window).width(),
+            triggerWidth = '';
+
+        // Determine if the page is for search or events and set the target
+        // width.
+        if ($('.page-search', context).length > 0) {
+          triggerWidth = 480;
+        }
+        else if ($('.page-events', context).length > 0) {
+          triggerWidth = 768;
+        }
+
+        // Add process flags and styling elements.
+        $(this).prepend(filterTrigger).addClass('filters-processed');
+        $('body').append(filterOverlay);
+
+        // Make sure the trigger is in place on the initial page load.
+        if (size <= triggerWidth) {
+          showWithElement(filterTrigger, results);
+        }
+
+        // Define the clickable areas to control the visibility of the filters.
+        $(filterTrigger).click(function () {
+          if ($(filterTrigger).hasClass('following')) {
+            $(filterTrigger).removeClass('following');
+          }
+          $(filters).toggleClass('expanded');
+          $(filterOverlay).toggleClass('expanded');
+
+          if ($(filters).hasClass('expanded')) {
+            $('html, body').animate({
+              scrollTop: $(filterTrigger).offset().top - $('.region-page-top').offset().top
+            }, 0);
+          }
+
+          return false;
+        });
+        $(filterOverlay).click(function () {
+          $(filters).toggleClass('expanded');
+          $(filterOverlay).toggleClass('expanded');
+          showWithElement(filterTrigger, results);
+        });
+
+        // Make the filterToggle follow the search results when scrolling and
+        // resizing.
+        $(window).resize(function () {
+          size = $(window).width();
+          if (size <= triggerWidth) {
+            showWithElement(filterTrigger, results);
+          }
+          else {
+            $(filters).css('top', '');
+          }
+        });
+        $(document).scroll(function () {
+          if (!$(filters).hasClass('expanded')) {
+            showWithElement(filterTrigger, results);
+          }
+        });
+      });
+    }
+  }
+})(jQuery);
diff --git a/profiles/commons/themes/contrib/commons_origins/template.php b/profiles/commons/themes/contrib/commons_origins/template.php
index 6c7487d..9794efd 100755
--- a/profiles/commons/themes/contrib/commons_origins/template.php
+++ b/profiles/commons/themes/contrib/commons_origins/template.php
@@ -3,70 +3,78 @@
 /**
  * @file
  * Process theme data.
- *
- * Use this file to run your theme specific implimentations of theme functions,
- * such preprocess, process, alters, and theme function overrides.
- *
- * Preprocess and process functions are used to modify or create variables for
- * templates and theme functions. They are a common theming tool in Drupal, often
- * used as an alternative to directly editing or adding code to templates. Its
- * worth spending some time to learn more about these functions - they are a
- * powerful way to easily modify the output of any template variable.
- *
- * Preprocess and Process Functions SEE: http://drupal.org/node/254940#variables-processor
- * 1. Rename each function and instance of "commons_origins" to match
- *    your subthemes name, e.g. if your theme name is "footheme" then the function
- *    name will be "footheme_preprocess_hook". Tip - you can search/replace
- *    on "commons_origins".
- * 2. Uncomment the required function to use.
  */
 
+/**
+ * Implements hook_theme().
+ */
+function commons_origins_theme($existing, $type, $theme, $path) {
+  return array(
+    // Register the newly added theme_form_content() hook so we can utilize
+    // theme hook suggestions.
+    // @see commons_origins_form_alter().
+    'form_content' => array(
+      'render element' => 'form',
+      'path' => drupal_get_path('theme', 'commons_origins') . '/templates/form',
+      'template' => 'form-content',
+    ),
+  );
+}
 
+/**
+ * Implements hook_preprocess_search_results().
+ *
+ * Assemble attributes for styling that core does not do so we can keep the
+ * tpl files simpler and make maintaining it a bit less worrisome since there
+ * are 2 forms of search supported.
+ */
+function commons_origins_preprocess_search_results(&$variables, $hook) {
+  $variables['classes_array'][] = 'search-results-wrapper';
+  $variables['title_attributes_array']['class'][] = 'search-results-title';
+  $variables['content_attributes_array']['class'][] = 'search-results-content';
+  $variables['content_attributes_array']['class'][] = 'commons-pod';
+}
 
+/**
+ * Implements hook_process_search_results().
+ */
+function commons_origins_process_search_results(&$variables, $hook) {
+  // Set the title in preprocess so that it can be overridden by modules
+  // further upstream.
+  if (empty($variables['title'])) {
+    $variables['title'] = t('Search results');
+  }
+}
 
 /**
  * Preprocess variables for the html template.
  */
-function commons_origins_preprocess_html(&$vars) {
+function commons_origins_preprocess_html(&$variables, $hook) {
   global $theme_key;
 
   $site_name = variable_get('site_name', 'Commons');
 
   if (strlen($site_name) > 23) {
-    $vars['classes_array'][] = 'site-name-long-2-lines';
+    $variables['classes_array'][] = 'site-name-long-2-lines';
   } else if (strlen($site_name) > 15) {
-    $vars['classes_array'][] = 'site-name-long';
+    $variables['classes_array'][] = 'site-name-long';
   }
   $palette = variable_get('commons_origins_palette', 'default');
   if ($palette != 'default') {
-    $vars['classes_array'][] = 'palette-active';
-    $vars['classes_array'][] = drupal_html_class($palette);
+    $variables['classes_array'][] = 'palette-active';
+    $variables['classes_array'][] = drupal_html_class($palette);
   }
 
-  // Two examples of adding custom classes to the body.
-
-  // Add a body class for the active theme name.
-  // $vars['classes_array'][] = drupal_html_class($theme_key);
+  // Browser/platform sniff - adds body classes such as ipad, webkit, chrome
+  // etc.
+  $variables['classes_array'][] = css_browser_selector();
 
-  // Browser/platform sniff - adds body classes such as ipad, webkit, chrome etc.
-  $vars['classes_array'][] = css_browser_selector();
-
-}
-//
-
-
-/**
- * Process variables for the html template.
- */
-/* -- Delete this line if you want to use this function
-function commons_origins_process_html(&$vars) {
 }
-// */
 
 /**
  * Implements theme_menu_link().
  */
-function commons_origins_menu_link($vars) {
+function commons_origins_menu_link($variables) {
   $output = '';
   $path_to_at_core = drupal_get_path('theme', 'adaptivetheme');
 
@@ -75,7 +83,7 @@ function commons_origins_menu_link($vars) {
   global $theme_key;
   $theme_name = $theme_key;
 
-  $element = $vars['element'];
+  $element = $variables['element'];
   commons_origins_menu_link_class($element);
   $sub_menu = '';
 
@@ -117,43 +125,58 @@ function commons_origins_menu_link_class(&$element)  {
 /**
  * Override or insert variables for the page templates.
  */
-function commons_origins_preprocess_page(&$vars) {
+function commons_origins_preprocess_page(&$variables, $hook) {
   if (module_exists('page_manager')) {
     $p = page_manager_get_current_page();
     if (isset($p['name']) && $p['name'] == 'node_view') {
       $node = $p['contexts']['argument_entity_id:node_1']->data;
       if (module_exists('og') && !og_is_group('node', $node)) {
-        $vars['hide_panelized_title'] = 1;
+        $variables['hide_panelized_title'] = 1;
       }
     }
   }
 }
-function commons_origins_process_page(&$vars) {
-}
-// */
-
 
 /**
  * Override or insert variables into the node templates.
  */
-function commons_origins_preprocess_node(&$vars) {
-  if ($vars['promote']) {
-    $vars['submitted'] .= ' <span class="featured-node-tooltip">' . t('Featured') . ' ' . $vars['type'] . '</span>';
+function commons_origins_preprocess_node(&$variables, $hook) {
+  // Append a feature label to featured node teasers.
+  if ($variables['teaser'] && $variables['promote']) {
+    $variables['submitted'] .= ' <span class="featured-node-tooltip">' . t('Featured') . ' ' . $variables['type'] . '</span>';
+  }
+
+  // Some content does not get a user image on the full node.
+  $no_avatar = array(
+    'event',
+    'group',
+    'page',
+    'wiki',
+  );
+  if (!$variables['teaser'] && in_array($variables['node']->type, $no_avatar)) {
+    $variables['user_picture'] = '';
   }
 
-  if (empty($vars['user_picture'])) {
-    $vars['classes_array'][] = 'no-user-picture';
+  // If there does happen to be a user image, add a class for styling purposes.
+  if (!empty($variables['user_picture'])) {
+    $variables['classes_array'][] = 'user-picture-available';
   }
 
-  // Add classes to render the comment-comments link as a button with a number attached.
-  if (!empty($vars['content']['links']['comment']['#links']['comment-comments'])) {
-    $comments_link = &$vars['content']['links']['comment']['#links']['comment-comments'];
+  // Add classes to render the comment-comments link as a button with a number
+  // attached.
+  if (!empty($variables['content']['links']['comment']['#links']['comment-comments'])) {
+    $comments_link = &$variables['content']['links']['comment']['#links']['comment-comments'];
     $comments_link['attributes']['class'][] = 'link-with-counter';
-    $comments_link['title'] = str_replace($vars['comment_count'], '<span class="counter">' . $vars['comment_count'] . '</span>', $comments_link['title']);
+    $comments_link['title'] = str_replace($variables['comment_count'], '<span class="counter">' . $variables['comment_count'] . '</span>', $comments_link['title']);
   }
 
-  // Hide some of the node links.
-  if (!empty($vars['content']['links'])) {
+  // Push the reporting link to the end.
+  if (!empty($variables['content']['links']['flag']['#links']['flag-inappropriate_node'])) {
+    $variables['content']['report_link'] = array('#markup' => $variables['content']['links']['flag']['#links']['flag-inappropriate_node']['title']);
+  }
+
+  if (!empty($variables['content']['links'])) {
+    // Hide some of the node links.
     $hidden_links = array(
       'node' => array(
         'node-readmore',
@@ -162,11 +185,14 @@ function commons_origins_preprocess_node(&$vars) {
         'comment-add',
         'comment-new-comments'
       ),
+      'flag' => array(
+        'flag-inappropriate_node',
+      ),
     );
     foreach ($hidden_links as $element => $links) {
       foreach ($links as $link) {
-        if (!empty($vars['content']['links'][$element]['#links'][$link])) {
-          $vars['content']['links'][$element]['#links'][$link]['#access'] = FALSE;
+        if (!empty($variables['content']['links'][$element]['#links'][$link])) {
+          $variables['content']['links'][$element]['#links'][$link]['#access'] = FALSE;
         }
       }
     }
@@ -174,65 +200,297 @@ function commons_origins_preprocess_node(&$vars) {
 
   // Replace the submitted text on nodes with something a bit more pertinent to
   // the content type.
-  if (variable_get('node_submitted_' . $vars['node']->type, TRUE)) {
+  if (variable_get('node_submitted_' . $variables['node']->type, TRUE)) {
     $placeholders = array(
-      '!type' => '<span class="node-content-type">' . ucfirst($vars['node']->type) . '</span>',
-      '!user' => $vars['name'],
-      '!date' => $vars['date'],
+      '!type' => '<span class="node-content-type">' . ucfirst($variables['node']->type) . '</span>',
+      '!user' => $variables['name'],
+      '!date' => $variables['date'],
+    );
+
+    $variables['submitted'] = t('!type created by !user on !date', $placeholders);
+  }
+
+  // Add a class to the node when there is a logo image.
+  if (!empty($variables['field_logo'])) {
+    $variables['classes_array'][] = 'logo-available';
+  }
+
+  // Move the answer link on question nodes to the top of the content.
+  if ($variables['node']->type == 'question' && !empty($variables['content']['links']['answer'])) {
+    $variables['content']['answer'] = $variables['content']['links']['answer'];
+    $variables['content']['answer']['#attributes']['class'][] = 'node-actions';
+    $variables['content']['answer']['#links']['answer-add']['attributes']['class'][] = 'button-alert';
+    $variables['content']['answer']['#weight'] = -100;
+    $variables['content']['links']['answer']['#access'] = FALSE;
+  }
+
+  // Groups the related fields into their own container.
+  $related_information = array(
+    'og_group_ref',
+    'field_related_question',
+    'field_topics',
+  );
+  foreach($related_information as $field) {
+    if (!empty($variables['content'][$field])) {
+      $variables['content']['related_information'][$field] = $variables['content'][$field];
+      hide($variables['content'][$field]);
+    }
+  }
+  if (!empty($variables['content']['related_information'])) {
+    $variables['content']['related_information'] += array(
+      '#theme_wrappers' => array('container'),
+      '#attributes' => array(
+        'class' => array('related-information', 'clearfix'),
+      ),
+      '#weight' => 1000,
     );
+  }
 
-    $vars['submitted'] = t('!type created by !user on !date', $placeholders);
+  // Add classes when there is a voting widget present.
+  if (!empty($variables['content']['rate_commons_answer'])) {
+    $variables['content_attributes_array']['class'][] = 'has-rate-widget';
+    $variables['content']['rate_commons_answer']['#weight'] = 999;
   }
 }
 
 /**
-* Implements hook_form_alter().
-*/
-function commons_origins_form_alter(&$form, &$form_state, $form_id) {
-  if (isset($form['#node']) && substr($form_id, -10) == '_node_form' && isset($form['additional_settings']) && $form['#node']->type != 'post') {
-    $form['additional_settings']['#type'] = 'fieldset';
+ * Implements hook_preprocess_two_33_66().
+ */
+function commons_origins_preprocess_two_33_66(&$variables, $hook) {
+  $menu = menu_get_item();
+
+  // Suggest a variant for the search page so the facets will be wrapped in pod
+  // styling.
+  if (strpos($menu['path'], 'search') === 0) {
+    $variables['theme_hook_suggestions'][] = 'two_33_66__search';
   }
-  // Description text on these fields is redundant.
-  if ($form_id == 'user_login') {
-    $form['name']['#description'] = '';
-    $form['pass']['#description'] = '';
+}
+
+function commons_origins_preprocess_three_25_50_25(&$variables, $hook) {
+  $menu = menu_get_item();
+
+  // Suggest a variant for the search page so the facets will be wrapped in pod
+  // styling.
+  if (isset($menu['page_arguments']) && $menu['page_arguments'][0] == 'solr_events') {
+    $variables['theme_hook_suggestions'][] = 'three_25_50_25__events';
   }
+}
 
-  if ($form_id == 'user_register_form') {
-    $form['account']['mail']['#description'] = t('Password reset and notification emails will be sent to this address.');
+/**
+ * Implements hook_preprocess_panels_pane().
+ */
+function commons_origins_preprocess_panels_pane(&$variables, $hook) {
+  $pane = $variables['pane'];
+
+  // Add pod styling to some of the panels panes.
+  $not_pods = array(
+    'commons_events-commons_events_create_event_link',
+  );
+  $content_pods = array(
+    'commons_question_answers-panel_pane_1',
+  );
+  if (($pane->panel == 'two_66_33_second' && !in_array($pane->subtype, $not_pods)) || in_array($pane->subtype, $content_pods)) {
+    $variables['attributes_array']['class'][] = 'commons-pod';
   }
 }
 
 /**
-* Implements hook_css_alter().
-*/
-function commons_origins_css_alter(&$css) {
-  if (isset($css['profiles/commons/modules/contrib/rich_snippets/rich_snippets.css'])) {
-    unset($css['profiles/commons/modules/contrib/rich_snippets/rich_snippets.css']);
+ * Implements hook_preprocess_views_view().
+ */
+function commons_origins_preprocess_views_view(&$variables, $hook) {
+  $view = $variables['view'];
+
+  // Wrap page views in pod styling.
+  if ($view->display_handler->plugin_name == 'page') {
+    $variables['classes_array'][] = 'commons-pod';
+    $variables['classes_array'][] = 'clearfix';
+  }
+
+  // Style some views without bottom borders and padding.
+  $plain = array(
+    'commons_bw_all' => array('default'),
+    'commons_bw_polls' => array('default'),
+    'commons_bw_posts' => array('default'),
+    'commons_bw_q_a' => array('default'),
+    'commons_bw_wikis' => array('default'),
+    'commons_events_upcoming' => array('panel_pane_2'),
+    'commons_featured' => array('panel_pane_1'),
+    'commons_groups_directory' => array('panel_pane_1'),
+    'commons_groups_recent_content' => array('block'),
+    'commons_groups_user_groups' => array('panel_pane_1'),
+    'commons_homepage_content' => array('panel_pane_1'),
+    'commons_radioactivity_groups_active_in_group' => array('panel_pane_1'),
+    'commons_radioactivity_groups_most_active' => array('panel_pane_1'),
+  );
+  if (isset($plain[$variables['name']]) && in_array($variables['display_id'], $plain[$variables['name']])) {
+    $variables['classes_array'][] = 'view-plain';
   }
 }
 
+/**
+ * Implements hook_preprocess_form().
+ *
+ * Since Commons Origins overrides the default theme_form() function, we will
+ * need to perform some processing on attributes to make it work in a template.
+ */
+function commons_origins_preprocess_form(&$variables, $hook) {
+  // Bootstrap the with some of Drupal's default variables.
+  template_preprocess($variables, $hook);
+
+  $element = &$variables['element'];
+  if (isset($element['#action'])) {
+    $element['#attributes']['action'] = drupal_strip_dangerous_protocols($element['#action']);
+  }
+  element_set_attributes($element, array('method', 'id'));
+  if (empty($element['#attributes']['accept-charset'])) {
+    $element['#attributes']['accept-charset'] = "UTF-8";
+  }
+  $variables['attributes_array'] = $element['#attributes'];
+
+  // Give the search form on the search page pod styling.
+  if (isset($element['#search_page']) || (isset($element['module']) && ($element['module']['#value'] == 'search_facetapi' || $element['module']['#value'] == 'user'))) {
+    $variables['attributes_array']['class'][] = 'commons-pod';
+  }
+
+  $pods = array(
+    'user-login',
+    'user-pass',
+    'user-register-form',
+  );
+
+  if (in_array($element['#id'], $pods)) {
+    $variables['attributes_array']['class'][] = 'commons-pod';
+  }
+}
 
 /**
- * Override or insert variables into the comment templates.
+ * Implements hook_process_form().
+ *
+ * Since Commons Origins overrides the default theme_form() function, we will
+ * need to perform some processing on attributes to make it work in a template.
  */
-/* -- Delete this line if you want to use these functions
-function commons_origins_preprocess_comment(&$vars) {
+function commons_origins_process_form(&$variables, $hook) {
+  // Crunch down attribute arrays.
+  template_process($variables, $hook);
 }
-function commons_origins_process_comment(&$vars) {
+
+/**
+ * Implements hook_preprocess_form_content().
+ */
+function commons_origins_preprocess_form_content(&$variables, $hook) {
+  // Bootstrap the with some of Drupal's default variables.
+  template_preprocess($variables, $hook);
+
+  if (isset($variables['form']['supplementary'])) {
+    foreach ($variables['form']['supplementary'] as &$field) {
+      if (is_array($field) && isset($field['#theme_wrappers'])) {
+        $field['#theme_wrappers'][] = 'container';
+        $field['#attributes']['class'][] = 'commons-pod';
+      }
+    }
+  }
 }
-// */
 
+/**
+ * Implements hook_process_form_content().
+ */
+function commons_origins_process_form_content(&$variables, $hook) {
+  // Crunch down attribute arrays.
+  template_process($variables, $hook);
+}
 
 /**
- * Override or insert variables into the block templates.
+ * Implements hook_preprocess_views_view_unformatted().
  */
-/* -- Delete this line if you want to use these functions
-function commons_origins_preprocess_block(&$vars) {
+function commons_origins_preprocess_views_view_unformatted(&$variables, $hook) {
+  // Prevent the avatars in the activity stream blocks from bleeding into the
+  // rows below them.
+  if ($variables['view']->name == 'commons_activity_streams_activity') {
+    foreach ($variables['classes_array'] as &$classes) {
+      $classes .= ' clearfix';
+    }
+  }
 }
-function commons_origins_process_block(&$vars) {
+
+/**
+ * Implements hook_form_alter().
+ */
+function commons_origins_form_alter(&$form, &$form_state, $form_id) {
+  // Give forms a common theme function so we do not have to declare every
+  // single form we want to override in hook_theme().
+  if (is_array($form['#theme'])) {
+    $hooks = array('form_content');
+    $form['#theme'] = array_merge($form['#theme'], $hooks);
+  }
+  else {
+    $form['#theme'] = array(
+      $form['#theme'],
+      'form_content',
+    );
+  }
+
+  // Description text on these fields is redundant.
+  if ($form_id == 'user_login') {
+    $form['name']['#description'] = '';
+    $form['pass']['#description'] = '';
+  }
+
+  if ($form_id == 'user_register_form') {
+    $form['account']['mail']['#description'] = t('Password reset and notification emails will be sent to this address.');
+  }
+
+  if (isset($form['#node_edit_form']) && $form['#node_edit_form']) {
+    // Vertical tabs muck things up, so things need to be shuffled to get rid
+    // of them.
+    $general_settings = array();
+    foreach ($form as $id => $field) {
+      if (is_array($field) && isset($field['#group']) && $field['#group'] == 'additional_settings' && (!isset($field['#access']) || $field['#access'] !== FALSE)) {
+        $general_settings[$id] = $field;
+        $general_settings[$id]['#collapsible'] = TRUE;
+        $general_settings[$id]['#collapsed'] = TRUE;
+        unset($general_settings[$id]['#group']);
+      }
+    }
+    if (!empty($general_settings)) {
+      $form['general_settings'] = array(
+        '#theme_wrappers' => array('container'),
+        '#attributes' => array(
+          'class' => array('general-settings'),
+        ),
+        '#weight' => 100,
+        'general_settings' => $general_settings,
+      );
+      $form['additional_settings']['#access'] = FALSE;
+    }
+
+    // Declare the fields to go into each column.
+    $supplementary = array(
+      'event_topics',
+      'field_topics',
+      'general_settings',
+    );
+
+    foreach ($supplementary as $field) {
+      if (isset($form[$field])) {
+        // Translate the field to the appropriate container.
+        $form['supplementary'][$field] = $form[$field];
+
+        // Remove access to the old placement instead of unset() to maintain
+        // the legacy information.
+        $form[$field]['#access'] = FALSE;
+      }
+    }
+  }
+}
+
+/**
+ * Implements hook_css_alter().
+ */
+function commons_origins_css_alter(&$css) {
+  if (isset($css['profiles/commons/modules/contrib/rich_snippets/rich_snippets.css'])) {
+    unset($css['profiles/commons/modules/contrib/rich_snippets/rich_snippets.css']);
+  }
 }
-// */
 
 /**
  * Overrides theme_links() for nodes.
@@ -316,3 +574,97 @@ function commons_origins_links($variables) {
 
   return $output;
 }
+
+/**
+ * Process an address to add microformat structure and remove &nbsp;
+ * characters.
+ */
+function _commons_origins_format_address(&$address) {
+  $address['#theme_wrappers'][] = 'container';
+  $address['#attributes']['class'][] = 'adr';
+  if (!empty($address['street_block']['thoroughfare'])) {
+    $address['street_block']['thoroughfare']['#attributes']['class'][] = 'street-address';
+  }
+  if (!empty($address['street_block']['premise'])) {
+    $address['street_block']['premise']['#attributes']['class'][] = 'extended-address';
+  }
+  if (!empty($address['locality_block']['locality'])) {
+    $address['locality_block']['locality']['#suffix'] = ',';
+  }
+  if (!empty($address['locality_block']['administrative_area'])) {
+    $address['locality_block']['administrative_area']['#attributes']['class'][] = 'region';
+    // Remove the hardcoded "&nbsp;&nbsp;" as it causes issues with
+    // formatting.
+    $address['locality_block']['administrative_area']['#prefix'] = ' ';
+  }
+  if (!empty($address['locality_block']['postal_code'])) {
+    // Remove the hardcoded "&nbsp;&nbsp;" as it causes issues with
+    // formatting.
+    $address['locality_block']['postal_code']['#prefix'] = ' ';
+  }
+  if (!empty($address['country'])) {
+    $address['country']['#attributes']['class'][] = 'country-name';
+  }
+}
+
+/**
+ * Overrides theme_field__addressfield().
+ */
+function commons_origins_field__addressfield($variables) {
+  $output = '';
+
+  // Add Microformat classes to each address.
+  foreach($variables['items'] as &$address) {
+    // Only display an address if it has been populated. We determine this by
+    // validating that the administrative area has been populated.
+    if ($address['#address']['administrative_area']) {
+      _commons_origins_format_address($address);
+    }
+    else {
+      // Deny access to incomplete addresses.
+      $address['#access'] = FALSE;
+    }
+  }
+
+  // Render the label, if it's not hidden.
+  if (!$variables['label_hidden']) {
+    $output .= '<div class="field-label"' . $variables['title_attributes'] . '>' . $variables['label'] . ':</div> ';
+  }
+
+  // Render the items.
+  $output .= '<div class="field-items"' . $variables['content_attributes'] . '>';
+  foreach ($variables['items'] as $delta => $item) {
+    $classes = 'field-item ' . ($delta % 2 ? 'odd' : 'even');
+    $output .= '<div class="' . $classes . '"' . $variables['item_attributes'][$delta] . '>' . drupal_render($item) . '</div>';
+  }
+  $output .= '</div>';
+
+  // Render the top-level DIV.
+  $output = '<div class="' . $variables['classes'] . '"' . $variables['attributes'] . '>' . $output . '</div>';
+
+  return $output;
+}
+
+/**
+ * Implements hook_preprocess_views_view_field().
+ */
+function commons_origins_preprocess_views_view_field(&$variables, $hook) {
+  // Make sure empty addresses are not displayed.
+  // Views does not use theme_field__addressfield(), so we need to process
+  // these implementations separately.
+  if (isset($variables['theme_hook_suggestion']) && $variables['theme_hook_suggestion'] == 'views_view_field__field_address') {
+    foreach ($variables['row']->field_field_address as $key => &$address) {
+      if (!$address['raw']['administrative_area']) {
+        // If an address is incomplete, remove it and tell the system a
+        // rebuild is needed.
+        unset($variables['row']->field_field_address[$key]);
+      }
+      else {
+        _commons_origins_format_address($address['rendered']);
+      }
+    }
+
+    // The output will need rebuilt to get the changes applied.
+    $variables['output'] = $variables['field']->advanced_render($variables['row']);
+  }
+}
diff --git a/profiles/commons/themes/contrib/commons_origins/templates/form/form-content.tpl.php b/profiles/commons/themes/contrib/commons_origins/templates/form/form-content.tpl.php
new file mode 100644
index 0000000..4b5d319
--- /dev/null
+++ b/profiles/commons/themes/contrib/commons_origins/templates/form/form-content.tpl.php
@@ -0,0 +1,35 @@
+<?php
+/**
+ * @file form-content.tpl.php
+ * Default template implementation to display the content of a form.
+ *
+ * Available variables:
+ * - $form: An array of form elements. Use render() to output individual
+ *   elements, but drupal_render_children() to render the whole item.
+ */
+?>
+
+<?php
+  // Some nodes are multicolumn, so check for the second column. 
+  if (!empty($form['supplementary'])):
+?>
+  <?php 
+    hide($form['supplementary']); 
+    hide($form['actions']);
+  ?>
+  <div class="columns clearfix">
+    <div class="primary-fields">
+      <?php print drupal_render_children($form); ?>
+    </div>
+    <div class="supplementary-fields">
+      <?php print render($form['supplementary']); ?>
+    </div>
+  </div>
+  <?php print render($form['actions']); ?>
+<?php 
+  // If there is no second column, print everything as normal.
+  else:
+?>
+  <?php print drupal_render_children($form); ?>
+<?php endif; ?>
+
diff --git a/profiles/commons/themes/contrib/commons_origins/templates/form/form.tpl.php b/profiles/commons/themes/contrib/commons_origins/templates/form/form.tpl.php
new file mode 100644
index 0000000..b9e41a8
--- /dev/null
+++ b/profiles/commons/themes/contrib/commons_origins/templates/form/form.tpl.php
@@ -0,0 +1,21 @@
+<?php
+/**
+ * @file
+ * Output a form.
+ *
+ * @see theme_form()
+ * @see commons_origins_preprocess_form()
+ * @see commons_origins_process_form()
+ */
+?>
+<form<?php print $attributes; ?>>
+  <div<?php print $content_attributes; ?>>
+    <?php
+      // Due to the way the Drupal renders forms, we cannot control individual
+      // form elements in this template. If you would like to have more granular
+      // control of the form elements, use form-content.tpl.php or variant.
+    ?>
+    <?php print $element['#children']; ?>
+  </div>
+</form>
+
diff --git a/profiles/commons/themes/contrib/commons_origins/templates/node/node.tpl.php b/profiles/commons/themes/contrib/commons_origins/templates/node/node.tpl.php
index 05b0103..f33cf6a 100755
--- a/profiles/commons/themes/contrib/commons_origins/templates/node/node.tpl.php
+++ b/profiles/commons/themes/contrib/commons_origins/templates/node/node.tpl.php
@@ -18,7 +18,7 @@
  * - $footer_attributes: attributes such as classes to apply to the footer element.
  * - $links_attributes: attributes such as classes to apply to the nav element.
  * - $is_mobile: Mixed, requires the Mobile Detect or Browscap module to return
- *   TRUE for mobile.  Note that tablets are also considered mobile devices.  
+ *   TRUE for mobile.  Note that tablets are also considered mobile devices.
  *   Returns NULL if the feature could not be detected.
  * - $is_tablet: Mixed, requires the Mobile Detect to return TRUE for tablets.
  *   Returns NULL if the feature could not be detected.
@@ -106,6 +106,7 @@
  */
 hide($content['comments']);
 hide($content['links']);
+hide($content['report_link'])
 ?>
 <article id="node-<?php print $node->nid; ?>" class="<?php print $classes; ?>"<?php print $attributes; ?>>
   <?php print render($title_prefix); ?>
@@ -135,6 +136,8 @@ hide($content['links']);
     <nav<?php print $links_attributes; ?>><?php print $links; ?></nav>
   <?php endif; ?>
 
+  <?php print render($content['report_link']); ?>
+
 </article>
 <?php if (isset($content['comments']['comments'])): ?>
 <div class="commons-pod commons-pod-comments">
diff --git a/profiles/commons/themes/contrib/commons_origins/templates/page/page.tpl.php b/profiles/commons/themes/contrib/commons_origins/templates/page/page.tpl.php
index 420308f..b0d8aaf 100755
--- a/profiles/commons/themes/contrib/commons_origins/templates/page/page.tpl.php
+++ b/profiles/commons/themes/contrib/commons_origins/templates/page/page.tpl.php
@@ -132,14 +132,13 @@
     <?php print render($page['header']); ?>
   </header>
 
-  <!-- Messages and Help -->
-  <?php print $messages; ?>
-  <?php print render($page['help']); ?>
-
-  <!-- region: Secondary Content -->
-  <?php print render($page['secondary_content']); ?>
-
   <div id="columns" class="columns clearfix">
+    <!-- Messages and Help -->
+    <?php print $messages; ?>
+    <?php print render($page['help']); ?>
+
+    <!-- region: Secondary Content -->
+    <?php print render($page['secondary_content']); ?>
 
     <div id="page-top">
       <!-- Breadcrumbs -->
diff --git a/profiles/commons/themes/contrib/commons_origins/templates/panels/node--panel--fallback.tpl.php b/profiles/commons/themes/contrib/commons_origins/templates/panels/node--panel--fallback.tpl.php
index b898f95..46351ba 100644
--- a/profiles/commons/themes/contrib/commons_origins/templates/panels/node--panel--fallback.tpl.php
+++ b/profiles/commons/themes/contrib/commons_origins/templates/panels/node--panel--fallback.tpl.php
@@ -18,7 +18,7 @@
  * - $footer_attributes: attributes such as classes to apply to the footer element.
  * - $links_attributes: attributes such as classes to apply to the nav element.
  * - $is_mobile: Mixed, requires the Mobile Detect or Browscap module to return
- *   TRUE for mobile.  Note that tablets are also considered mobile devices.  
+ *   TRUE for mobile.  Note that tablets are also considered mobile devices.
  *   Returns NULL if the feature could not be detected.
  * - $is_tablet: Mixed, requires the Mobile Detect to return TRUE for tablets.
  *   Returns NULL if the feature could not be detected.
@@ -106,8 +106,9 @@
  */
 hide($content['comments']);
 hide($content['links']);
+hide($content['report_link']);
 ?>
-<article id="node-<?php print $node->nid; ?>" class="<?php print $classes; ?> clearfix commons-pod"<?php print $attributes; ?>>
+<article id="node-<?php print $node->nid; ?>" class="<?php print $classes; ?> clearfix"<?php print $attributes; ?>>
 
   <?php print render($title_prefix); ?>
   <header<?php print $header_attributes; ?>>
@@ -130,7 +131,8 @@ hide($content['links']);
   <?php if ($links = render($content['links'])): ?>
     <nav<?php print $links_attributes; ?>><?php print $links; ?></nav>
   <?php endif; ?>
-  
+  <?php print render($content['report_link']); ?>
+
 </article>
 
 <?php if (isset($content['comments']['comments'])): ?>
diff --git a/profiles/commons/themes/contrib/commons_origins/templates/panels/three-25-50-25--events.tpl.php b/profiles/commons/themes/contrib/commons_origins/templates/panels/three-25-50-25--events.tpl.php
new file mode 100755
index 0000000..24cb7de
--- /dev/null
+++ b/profiles/commons/themes/contrib/commons_origins/templates/panels/three-25-50-25--events.tpl.php
@@ -0,0 +1,59 @@
+<?php
+/**
+ * @file
+ * Adativetheme implementation to present a Panels layout.
+ *
+ * Available variables:
+ * - $content: An array of content, each item in the array is keyed to one
+ *   panel of the layout.
+ * - $css_id: unique id if present.
+ * - $panel_prefix: prints a wrapper when this template is used in certain context,
+ *   such as when rendered by Display Suite or other module - the wrapper is
+ *   added by Adaptivetheme in the appropriate process function.
+ * - $panel_suffix: closing element for the $prefix.
+ *
+ * @see adaptivetheme_preprocess_three_25_50_25()
+ * @see adaptivetheme_preprocess_node()
+ * @see adaptivetheme_process_node()
+ */
+
+// Ensure variables are always set. In the last hours before cutting a stable
+// release I found these are not set when inside a Field Collection using Display
+// Suite, even though they are initialized in the templates preprocess function.
+// This is a workaround, that may or may not go away.
+$panel_prefix = isset($panel_prefix) ? $panel_prefix : '';
+$panel_suffix = isset($panel_suffix) ? $panel_suffix : '';
+?>
+<?php print $panel_prefix; ?>
+<div class="three-25-50-25 at-panel panel-display clearfix" <?php if (!empty($css_id)): print "id=\"$css_id\""; endif; ?>>
+  <?php if ($content['three_25_50_25_top']): ?>
+    <div class="region region-three-25-50-25-top region-conditional-stack">
+      <div class="region-inner clearfix">
+        <?php print $content['three_25_50_25_top']; ?>
+      </div>
+    </div>
+  <?php endif; ?>
+  <div class="region region-three-25-50-25-first">
+    <div class="region-inner commons-pod clearfix">
+      <?php print $content['three_25_50_25_first']; ?>
+    </div>
+  </div>
+  <div class="region region-three-25-50-25-second">
+    <div class="region-inner clearfix">
+      <?php print $content['three_25_50_25_second']; ?>
+    </div>
+  </div>
+  <div class="region region-three-25-50-25-third">
+    <div class="region-inner clearfix">
+      <?php print $content['three_25_50_25_third']; ?>
+    </div>
+  </div>
+  <?php if ($content['three_25_50_25_bottom']): ?>
+    <div class="region region-three-25-50-25-bottom region-conditional-stack">
+      <div class="region-inner clearfix">
+        <?php print $content['three_25_50_25_bottom']; ?>
+      </div>
+    </div>
+  <?php endif; ?>
+</div>
+<?php print $panel_suffix; ?>
diff --git a/profiles/commons/themes/contrib/commons_origins/templates/panels/two-33-66--search.tpl.php b/profiles/commons/themes/contrib/commons_origins/templates/panels/two-33-66--search.tpl.php
new file mode 100644
index 0000000..3e11c0b
--- /dev/null
+++ b/profiles/commons/themes/contrib/commons_origins/templates/panels/two-33-66--search.tpl.php
@@ -0,0 +1,54 @@
+<?php
+/**
+ * @file
+ * Adativetheme implementation to present a Panels layout.
+ *
+ * Available variables:
+ * - $content: An array of content, each item in the array is keyed to one
+ *   panel of the layout.
+ * - $css_id: unique id if present.
+ * - $panel_prefix: prints a wrapper when this template is used in certain context,
+ *   such as when rendered by Display Suite or other module - the wrapper is
+ *   added by Adaptivetheme in the appropriate process function.
+ * - $panel_suffix: closing element for the $prefix.
+ *
+ * @see adaptivetheme_preprocess_two_33_66()
+ * @see adaptivetheme_preprocess_node()
+ * @see adaptivetheme_process_node()
+ */
+
+// Ensure variables are always set. In the last hours before cutting a stable
+// release I found these are not set when inside a Field Collection using Display
+// Suite, even though they are initialized in the templates preprocess function.
+// This is a workaround, that may or may not go away.
+$panel_prefix = isset($panel_prefix) ? $panel_prefix : '';
+$panel_suffix = isset($panel_suffix) ? $panel_suffix : '';
+?>
+<?php print $panel_prefix; ?>
+<div class="two-33-66 at-panel panel-display clearfix" <?php if (!empty($css_id)): print "id=\"$css_id\""; endif; ?>>
+  <?php if ($content['two_33_66_top']): ?>
+    <div class="region region-two-33-66-top region-conditional-stack">
+      <div class="region-inner clearfix">
+        <?php print $content['two_33_66_top']; ?>
+      </div>
+    </div>
+  <?php endif; ?>
+  <div class="region region-two-33-66-first">
+    <div class="region-inner commons-pod clearfix">
+      <?php print $content['two_33_66_first']; ?>
+    </div>
+  </div>
+  <div class="region region-two-33-66-second">
+    <div class="region-inner clearfix">
+      <?php print $content['two_33_66_second']; ?>
+    </div>
+  </div>
+  <?php if ($content['two_33_66_bottom']): ?>
+    <div class="region region-two-33-66-bottom region-conditional-stack">
+      <div class="region-inner clearfix">
+        <?php print $content['two_33_66_bottom']; ?>
+      </div>
+    </div>
+  <?php endif; ?>
+</div>
+<?php print $panel_suffix; ?>
diff --git a/profiles/commons/themes/contrib/commons_origins/templates/search/search-result.tpl.php b/profiles/commons/themes/contrib/commons_origins/templates/search/search-result.tpl.php
new file mode 100644
index 0000000..ff2cfa8
--- /dev/null
+++ b/profiles/commons/themes/contrib/commons_origins/templates/search/search-result.tpl.php
@@ -0,0 +1,73 @@
+<?php
+
+/**
+ * @file
+ * Overrides modules/search/search-result.tpl.php.
+ *
+ * Variables provided by the Rich Snippets module:
+ * - $url_shortened: The shortened URL of the result.
+ * - $alternate_links: Alternate links to the result, such as links to a cached
+ *   version of the page or a link to similar results.
+ * - $image:
+ *
+ * Available variables:
+ * - $url: URL of the result.
+ * - $title: Title of the result.
+ * - $snippet: A small preview of the result. Does not apply to user searches.
+ * - $info: String of all the meta information ready for print. Does not apply
+ *   to user searches.
+ * - $info_split: Contains same data as $info, split into a keyed array.
+ * - $module: The machine-readable name of the module (tab) being searched, such
+ *   as "node" or "user".
+ * - $title_prefix (array): An array containing additional output populated by
+ *   modules, intended to be displayed in front of the main title tag that
+ *   appears in the template.
+ * - $title_suffix (array): An array containing additional output populated by
+ *   modules, intended to be displayed after the main title tag that appears in
+ *   the template.
+ *
+ * Default keys within $info_split:
+ * - $info_split['type']: Node type (or item type string supplied by module).
+ * - $info_split['user']: Author of the node linked to users profile. Depends
+ *   on permission.
+ * - $info_split['date']: Last update of the node. Short formatted.
+ * - $info_split['comment']: Number of comments output as "% comments", %
+ *   being the count. Depends on comment.module.
+ *
+ * Other variables:
+ * - $classes_array: Array of HTML class attribute values. It is flattened
+ *   into a string within the variable $classes.
+ * - $title_attributes_array: Array of HTML attributes for the title. It is
+ *   flattened into a string within the variable $title_attributes.
+ * - $content_attributes_array: Array of HTML attributes for the content. It is
+ *   flattened into a string within the variable $content_attributes.
+ *
+ * Since $info_split is keyed, a direct print of the item is possible.
+ * This array does not apply to user searches so it is recommended to check
+ * for its existence before printing. The default keys of 'type', 'user' and
+ * 'date' always exist for node searches. Modules may provide other data.
+ * @code
+ *   <?php if (isset($info_split['comment'])): ?>
+ *     <span class="info-comment">
+ *       <?php print $info_split['comment']; ?>
+ *     </span>
+ *   <?php endif; ?>
+ * @endcode
+ *
+ * To check for all available data within $info_split, use the code below.
+ * @code
+ *   <?php print '<pre>'. check_plain(print_r($info_split, 1)) .'</pre>'; ?>
+ * @endcode
+ *
+ * @see template_preprocess()
+ * @see template_preprocess_search_result()
+ * @see template_process()
+ */
+?>
+<li class="<?php print $classes; ?>"<?php print $attributes; ?>>
+  <div class="search-result-wrapper">
+      <?php if ($snippet): ?>
+        <span class="search-result-snippet"<?php print $content_attributes; ?>><?php print $snippet; ?></span>
+      <?php endif; ?>
+  </div>
+</li>
diff --git a/profiles/commons/themes/contrib/commons_origins/templates/search/search-results--apachesolr-search.tpl.php b/profiles/commons/themes/contrib/commons_origins/templates/search/search-results--apachesolr-search.tpl.php
new file mode 100644
index 0000000..42b1be3
--- /dev/null
+++ b/profiles/commons/themes/contrib/commons_origins/templates/search/search-results--apachesolr-search.tpl.php
@@ -0,0 +1,43 @@
+<?php
+
+/**
+ * @file
+ * Default theme implementation for displaying search results.
+ *
+ * This template collects each invocation of theme_search_result(). This and
+ * the child template are dependent to one another sharing the markup for
+ * definition lists.
+ *
+ * Note that modules may implement their own search type and theme function
+ * completely bypassing this template.
+ *
+ * Available variables:
+ * - $search_results: All results as it is rendered through
+ *   search-result.tpl.php
+ * - $module: The machine-readable name of the module (tab) being searched, such
+ *   as "node" or "user".
+ *
+ *
+ * @see template_preprocess_search_results()
+ *
+ * @ingroup themeable
+ */
+?>
+<div class="<?php print $classes; ?>"<?php print $attributes; ?>>
+  <?php if ($search_results): ?>
+    <?php if (!empty($title)): ?>
+      <h2<?php print $title_attributes; ?>><?php print $title; ?></h2>
+    <?php endif; ?>
+    <div<?php print $content_attributes; ?>>
+      <ol class="search-results <?php print $module; ?>-results">
+        <?php print $search_results; ?>
+      </ol>
+    </div>
+    <?php print $pager; ?>
+  <?php else : ?>
+    <h2<?php print $title_attributes; ?>><?php print t('Your search yielded no results');?></h2>
+    <div<?php print $content_attributes; ?>>
+      <?php print search_help('search#noresults', drupal_help_arg()); ?>
+    </div>
+  <?php endif; ?>
+</div>
diff --git a/profiles/commons/themes/contrib/commons_origins/templates/views/views-view-field--field-address.tpl.php b/profiles/commons/themes/contrib/commons_origins/templates/views/views-view-field--field-address.tpl.php
new file mode 100644
index 0000000..91d92ee
--- /dev/null
+++ b/profiles/commons/themes/contrib/commons_origins/templates/views/views-view-field--field-address.tpl.php
@@ -0,0 +1,25 @@
+<?php
+
+/**
+ * @file
+ * This template is used to print a single field in a view.
+ *
+ * It is not actually used in default Views, as this is registered as a theme
+ * function which has better performance. For single overrides, the template is
+ * perfectly okay.
+ *
+ * Variables available:
+ * - $view: The view object
+ * - $field: The field handler object that can process the input
+ * - $row: The raw SQL result that can be used
+ * - $output: The processed output that will normally be used.
+ *
+ * When fetching output from the $row, this construct should be used:
+ * $data = $row->{$field->field_alias}
+ *
+ * The above will guarantee that you'll always get the correct data,
+ * regardless of any changes in the aliasing that might happen if
+ * the view is modified.
+ */
+?>
+<?php print $output; ?>
diff --git a/profiles/commons/themes/contrib/commons_origins/templates/views/views-view-grid.tpl.php b/profiles/commons/themes/contrib/commons_origins/templates/views/views-view-grid.tpl.php
new file mode 100644
index 0000000..25a877d
--- /dev/null
+++ b/profiles/commons/themes/contrib/commons_origins/templates/views/views-view-grid.tpl.php
@@ -0,0 +1,32 @@
+<?php
+
+/**
+ * @file
+ * Default simple view template to display a rows in a grid.
+ *
+ * - $rows contains a nested array of rows. Each row contains an array of
+ *   columns.
+ *
+ * @ingroup views_templates
+ */
+?>
+<?php if (!empty($title)) : ?>
+  <h3 class="grid-grouping-title"><?php print $title; ?></h3>
+<?php endif; ?>
+<table class="<?php print $class; ?>"<?php print $attributes; ?>>
+  <?php if (!empty($caption)) : ?>
+    <caption><?php print $caption; ?></caption>
+  <?php endif; ?>
+
+  <tbody>
+    <?php foreach ($rows as $row_number => $columns): ?>
+      <tr <?php if ($row_classes[$row_number]) { print 'class="' . $row_classes[$row_number] .'"';  } ?>>
+        <?php foreach ($columns as $column_number => $item): ?>
+          <td <?php if ($column_classes[$row_number][$column_number]) { print 'class="' . $column_classes[$row_number][$column_number] .'"';  } ?>>
+            <?php print $item; ?>
+          </td>
+        <?php endforeach; ?>
+      </tr>
+    <?php endforeach; ?>
+  </tbody>
+</table>
